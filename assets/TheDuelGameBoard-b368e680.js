var La=Object.defineProperty;var Ha=(s,i,a)=>i in s?La(s,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[i]=a;var ge=(s,i,a)=>(Ha(s,typeof i!="symbol"?i+"":i,a),a);import{d as Ge,r as d,t as Ve,C as da,o as u,c as g,u as e,n as W,b,e as Z,f as ue,_ as Te,j as Ze,l as xe,L as ja,k as ea,M as Xa,z as C,N as x,O as Se,s as Re,y as he,w as Ae,a as r,F as ee,P as se,x as H,v as ia,i as ha,m as Ca,Q as Ue,R as Ya,S as za,H as ya,g as Ua,h as Ka,T as sa,p as ra,I as qa,U as He,J as Ja,q as Qa,B as la}from"./index-be61c0c6.js";import{b as Za,d as xa,L as es}from"./debounce-e6821605.js";let ka=[],ga=[],ba=[],Pa=[],Ia=[],_a=[];_a=[{id:1,taken:!1,activated:"none",cost:["brick","wood","clay","paper"],valueCost:[1,1,1,2],power:["attack","points","break"],valuePower:[1,3,1]},{id:2,taken:!1,activated:"none",cost:["brick","wood","glass"],valueCost:[2,1,1],power:["attack","points","break"],valuePower:[1,3,2]},{id:3,taken:!1,activated:"none",cost:["brick","clay","paper"],valueCost:[2,2,1],power:["effect","points","break","cash"],valuePower:[1,3,3,3]},{id:4,taken:!1,activated:"none",cost:["brick","clay","glass"],valueCost:[1,1,2],power:["effect","points"],valuePower:[1,6]},{id:5,taken:!1,activated:"none",cost:["wood","glass","paper"],valueCost:[2,1,1],power:["effect","points","cash"],valuePower:[1,3,6]},{id:6,taken:!1,activated:"none",cost:["clay","glass","paper"],valueCost:[2,2,1],power:["effect","points"],valuePower:[2,2]},{id:7,taken:!1,activated:"none",cost:["wood","brick","clay"],valueCost:[2,1,1],power:["effect","points","materials"],valuePower:[1,2,2]},{id:8,taken:!1,activated:"none",cost:["wood","glass","paper"],valueCost:[3,1,1],power:["effect","points"],valuePower:[3,4]},{id:9,taken:!1,activated:"none",cost:["brick","paper"],valueCost:[3,1],power:["points"],valuePower:[9]},{id:10,taken:!1,activated:"none",cost:["wood","brick","paper"],valueCost:[1,1,2],power:["materials","points"],valuePower:[1,4]},{id:11,taken:!1,activated:"none",cost:["wood","brick","glass","paper"],valueCost:[1,1,1,1],power:["effect","cash"],valuePower:[1,12]},{id:12,taken:!1,activated:"none",cost:["clay","glass"],valueCost:[3,1],power:["attack","points"],valuePower:[2,3]}];ka=[{tier:"I",idImg:1,taken:"inGame",hide:!1,color:"brown",valueCost:[],cost:[],valuePower:[1],power:["wood"]},{tier:"I",idImg:2,taken:"inGame",hide:!1,color:"brown",valueCost:[1],cost:["cash"],valuePower:[1],power:["brick"]},{tier:"I",idImg:3,taken:"inGame",hide:!1,color:"brown",valueCost:[],cost:[],valuePower:[1],power:["clay"]},{tier:"I",idImg:4,taken:"inGame",hide:!1,color:"brown",valueCost:[1],cost:["cash"],valuePower:[1],power:["wood"]},{tier:"I",idImg:5,taken:"inGame",hide:!1,color:"brown",valueCost:[],cost:[],valuePower:[1],power:["brick"]},{tier:"I",idImg:6,taken:"inGame",hide:!1,color:"brown",valueCost:[1],cost:["cash"],valuePower:[1],power:["clay"]},{tier:"I",idImg:7,taken:"inGame",hide:!1,color:"grey",valueCost:[1],cost:["cash"],valuePower:[1],power:["glass"]},{tier:"I",idImg:8,taken:"inGame",hide:!1,color:"grey",valueCost:[1],cost:["cash"],valuePower:[1],power:["paper"]},{tier:"I",idImg:9,taken:"inGame",hide:!1,color:"red",valueCost:[1],cost:["wood"],valuePower:[1,1],power:["attack","specialChar"]},{tier:"I",idImg:10,taken:"inGame",hide:!1,color:"red",valueCost:[1],cost:["clay"],valuePower:[1,2],power:["attack","specialChar"]},{tier:"I",idImg:11,taken:"inGame",hide:!1,color:"red",valueCost:[2],cost:["cash"],valuePower:[1,3],power:["attack","specialChar"]},{tier:"I",idImg:12,taken:"inGame",hide:!1,color:"red",valueCost:[],cost:[],valuePower:[1],power:["attack"]},{tier:"I",idImg:13,taken:"inGame",hide:!1,color:"green",valueCost:[2],cost:["cash"],valuePower:[1,4],power:["artefact","specialChar"]},{tier:"I",idImg:14,taken:"inGame",hide:!1,color:"green",valueCost:[1],cost:["paper"],valuePower:[3,1],power:["artefact","points"]},{tier:"I",idImg:15,taken:"inGame",hide:!1,color:"green",valueCost:[2],cost:["cash"],valuePower:[2,5],power:["artefact","specialChar"]},{tier:"I",idImg:16,taken:"inGame",hide:!1,color:"green",valueCost:[1],cost:["glass"],valuePower:[4,1],power:["artefact","points"]},{tier:"I",idImg:17,taken:"inGame",hide:!1,color:"yellow",valueCost:[],cost:[],valuePower:[4,9],power:["cash","specialChar"]},{tier:"I",idImg:18,taken:"inGame",hide:!1,color:"yellow",valueCost:[3],cost:["cash"],valuePower:[2],power:["discount"]},{tier:"I",idImg:19,taken:"inGame",hide:!1,color:"yellow",valueCost:[3],cost:["cash"],valuePower:[1],power:["discount"]},{tier:"I",idImg:20,taken:"inGame",hide:!1,color:"yellow",valueCost:[3],cost:["cash"],valuePower:[3],power:["discount"]},{tier:"I",idImg:21,taken:"inGame",hide:!1,color:"blue",valueCost:[],cost:[],valuePower:[6,3],power:["specialChar","points"]},{tier:"I",idImg:22,taken:"inGame",hide:!1,color:"blue",valueCost:[],cost:[],valuePower:[7,3],power:["specialChar","points"]},{tier:"I",idImg:23,taken:"inGame",hide:!1,color:"blue",valueCost:[1],cost:["brick"],valuePower:[8,3],power:["specialChar","points"]}];ga=[{tier:"II",idImg:24,taken:"inGame",hide:!1,color:"brown",valueCost:[2],cost:["cash"],valuePower:[2],power:["wood"]},{tier:"II",idImg:25,taken:"inGame",hide:!1,color:"brown",valueCost:[2],cost:["cash"],valuePower:[2],power:["brick"]},{tier:"II",idImg:26,taken:"inGame",hide:!1,color:"brown",valueCost:[2],cost:["cash"],valuePower:[2],power:["clay"]},{tier:"II",idImg:27,taken:"inGame",hide:!1,color:"grey",valueCost:[],cost:[],valuePower:[1],power:["glass"]},{tier:"II",idImg:28,taken:"inGame",hide:!1,color:"grey",valueCost:[],cost:[],valuePower:[1],power:["paper"]},{tier:"II",idImg:29,taken:"inGame",hide:!1,color:"red",valueCost:[1,1,1],cost:["specialChar","wood","clay"],valuePower:[1],power:["attack"]},{tier:"II",idImg:30,taken:"inGame",hide:!1,color:"red",valueCost:[2,3],cost:["specialChar","cash"],valuePower:[1],power:["attack"]},{tier:"II",idImg:31,taken:"inGame",hide:!1,color:"red",valueCost:[2],cost:["brick"],valuePower:[2],power:["attack"]},{tier:"II",idImg:32,taken:"inGame",hide:!1,color:"red",valueCost:[1,1,1],cost:["brick","wood","paper"],valuePower:[2,10],power:["attack","specialChar"]},{tier:"II",idImg:33,taken:"inGame",hide:!1,color:"red",valueCost:[2,1],cost:["clay","glass"],valuePower:[2,11],power:["attack","specialChar"]},{tier:"II",idImg:34,taken:"inGame",hide:!1,color:"green",valueCost:[2,1],cost:["wood","paper"],valuePower:[3,1,12],power:["artefact","points","specialChar"]},{tier:"II",idImg:35,taken:"inGame",hide:!1,color:"green",valueCost:[2,1],cost:["wood","glass"],valuePower:[4,1,13],power:["artefact","points","specialChar"]},{tier:"II",idImg:36,taken:"inGame",hide:!1,color:"green",valueCost:[5,2,1],cost:["specialChar","clay","brick"],valuePower:[2,2],power:["artefact","points"]},{tier:"II",idImg:37,taken:"inGame",hide:!1,color:"green",valueCost:[4,1,1,1],cost:["specialChar","brick","wood","glass"],valuePower:[1,2],power:["artefact","points"]},{tier:"II",idImg:38,taken:"inGame",hide:!1,color:"yellow",valueCost:[],cost:[],valuePower:[6,17],power:["cash","specialChar"]},{tier:"II",idImg:39,taken:"inGame",hide:!1,color:"yellow",valueCost:[3,1],cost:["cash","clay"],valuePower:[2],power:["materials"]},{tier:"II",idImg:40,taken:"inGame",hide:!1,color:"yellow",valueCost:[2,1,1],cost:["cash","paper","glass"],valuePower:[1],power:["materials"]},{tier:"II",idImg:41,taken:"inGame",hide:!1,color:"yellow",valueCost:[4],cost:["cash"],valuePower:[4],power:["discount"]},{tier:"II",idImg:42,taken:"inGame",hide:!1,color:"blue",valueCost:[7,1,1],cost:["specialChar","wood","paper"],valuePower:[4,15],power:["points","specialChar"]},{tier:"II",idImg:43,taken:"inGame",hide:!1,color:"blue",valueCost:[6,2],cost:["specialChar","clay"],valuePower:[4,14],power:["points","specialChar"]},{tier:"II",idImg:44,taken:"inGame",hide:!1,color:"blue",valueCost:[2,1],cost:["wood","glass"],valuePower:[5],power:["points"]},{tier:"II",idImg:45,taken:"inGame",hide:!1,color:"blue",valueCost:[8,3],cost:["specialChar","brick"],valuePower:[5],power:["points"]},{tier:"II",idImg:46,taken:"inGame",hide:!1,color:"blue",valueCost:[1,1],cost:["brick","wood"],valuePower:[4,16],power:["points","specialChar"]}];ba=[{tier:"III",idImg:47,taken:"inGame",hide:!1,color:"red",valueCost:[11,2,2],cost:["specialChar","clay","brick"],valuePower:[2],power:["attack"]},{tier:"III",idImg:48,taken:"inGame",hide:!1,color:"red",valueCost:[3,2],cost:["clay","wood"],valuePower:[3],power:["attack"]},{tier:"III",idImg:49,taken:"inGame",hide:!1,color:"red",valueCost:[10,3,1],cost:["specialChar","wood","glass"],valuePower:[2],power:["attack"]},{tier:"III",idImg:50,taken:"inGame",hide:!1,color:"red",valueCost:[3,2,1,1],cost:["specialChar","brick","clay","paper"],valuePower:[2],power:["attack"]},{tier:"III",idImg:51,taken:"inGame",hide:!1,color:"red",valueCost:[8],cost:["cash"],valuePower:[3],power:["attack"]},{tier:"III",idImg:52,taken:"inGame",hide:!1,color:"green",valueCost:[1,1,2],cost:["brick","wood","glass"],valuePower:[6,3],power:["artefact","points"]},{tier:"III",idImg:53,taken:"inGame",hide:!1,color:"green",valueCost:[12,1,1,1],cost:["specialChar","clay","paper","glass"],valuePower:[5,2],power:["artefact","points"]},{tier:"III",idImg:54,taken:"inGame",hide:!1,color:"green",valueCost:[2,1,1],cost:["wood","paper","glass"],valuePower:[6,3],power:["artefact","points"]},{tier:"III",idImg:55,taken:"inGame",hide:!1,color:"green",valueCost:[13,1,2],cost:["specialChar","brick","paper"],valuePower:[5,2],power:["artefact","points"]},{tier:"III",idImg:56,taken:"inGame",hide:!1,color:"yellow",valueCost:[18,1,1,1],cost:["specialChar","clay","brick","wood"],valuePower:[3,1],power:["points","cashBack"]},{tier:"III",idImg:57,taken:"inGame",hide:!1,color:"yellow",valueCost:[2],cost:["paper"],valuePower:[3,3],power:["points","cashBack"]},{tier:"III",idImg:58,taken:"inGame",hide:!1,color:"yellow",valueCost:[1,1,1],cost:["wood","glass","paper"],valuePower:[3,4],power:["points","cashBack"]},{tier:"III",idImg:59,taken:"inGame",hide:!1,color:"yellow",valueCost:[17,2,1],cost:["specialChar","clay","glass"],valuePower:[3,2],power:["points","cashBack"]},{tier:"III",idImg:60,taken:"inGame",hide:!1,color:"yellow",valueCost:[2,1],cost:["brick","glass"],valuePower:[3,5],power:["points","cashBack"]},{tier:"III",idImg:61,taken:"inGame",hide:!1,color:"blue",valueCost:[1,1,1,2],cost:["clay","brick","wood","glass"],valuePower:[7],power:["points"]},{tier:"III",idImg:62,taken:"inGame",hide:!1,color:"blue",valueCost:[14,2,2],cost:["specialChar","clay","wood"],valuePower:[6],power:["points"]},{tier:"III",idImg:63,taken:"inGame",hide:!1,color:"blue",valueCost:[15,1,1,2],cost:["specialChar","clay","wood","paper"],valuePower:[6],power:["points"]},{tier:"III",idImg:64,taken:"inGame",hide:!1,color:"blue",valueCost:[3,2],cost:["brick","wood"],valuePower:[7],power:["points"]},{tier:"III",idImg:65,taken:"inGame",hide:!1,color:"blue",valueCost:[16,2,1,1],cost:["specialChar","clay","brick","paper"],valuePower:[5],power:["points"]},{tier:"III",idImg:66,taken:"inGame",hide:!1,color:"blue",valueCost:[2,1],cost:["brick","glass"],valuePower:[5],power:["points"]}];Pa=[{tier:"guild",idImg:67,taken:"inGame",hide:!1,color:"purple",valueCost:[1,1,1,1],cost:["clay","wood","paper","glass"],valuePower:[1],power:["guild"]},{tier:"guild",idImg:68,taken:"inGame",hide:!1,color:"purple",valueCost:[1,1,1,1],cost:["clay","brick","paper","glass"],valuePower:[2],power:["guild"]},{tier:"guild",idImg:69,taken:"inGame",hide:!1,color:"purple",valueCost:[2,1,1,1],cost:["brick","clay","wood","glass"],valuePower:[3],power:["guild"]},{tier:"guild",idImg:70,taken:"inGame",hide:!1,color:"purple",valueCost:[2,1,1],cost:["wood","clay","paper"],valuePower:[4],power:["guild"]},{tier:"guild",idImg:71,taken:"inGame",hide:!1,color:"purple",valueCost:[2,2],cost:["clay","wood"],valuePower:[5],power:["guild"]},{tier:"guild",idImg:72,taken:"inGame",hide:!1,color:"purple",valueCost:[2,2],cost:["brick","wood"],valuePower:[6],power:["guild"]},{tier:"guild",idImg:73,taken:"inGame",hide:!1,color:"purple",valueCost:[2,1,1],cost:["brick","clay","paper"],valuePower:[7],power:["guild"]}];Ia=["artefact7","attack1","cash6n4special","cashBack","lowCostBlue","lowCostWonder","point4n6cash","point7","pointX3","repeatWonder"];const as=[-200,-200,-135,-135,-135,-70,-70,-70,-70,-5,-5,-5,-5,-5,60,60,60,60,60,60],Ba=[-120,20,-190,-50,90,-260,-120,20,160,-330,-190,-50,90,230,-400,-260,-120,20,160,300],ss=[-200,-200,-200,-200,-200,-200,-135,-135,-135,-135,-135,-70,-70,-70,-70,-5,-5,-5,60,60],rs=[...Ba].reverse(),ls=[-265,-265,-210,-210,-210,-155,-155,-155,-155,-100,-100,-45,-45,-45,-45,10,10,10,65,65],ts=[-120,20,-190,-50,90,-260,-120,20,160,-190,90,160,20,-120,-260,90,-50,-190,20,-120],os=[3,4,5,10,11,12,13,14];function ua(s,i){let a=[];return i==="I"?a=s.map((l,t)=>{const f=t+1;let k=0;return t<2?k=2:t<5?k=3:t<9?k=4:t<14?k=5:t<20&&(k=0),{...l,id:f,coversBy:k!==0?[f+k,f+k+1]:[],hide:!!os.find(G=>G===f)}}):i==="II"?(a[0]={...s[0],id:1,coversBy:[7]},a[1]={...s[1],id:2,coversBy:[7,8]},a[2]={...s[2],id:3,coversBy:[8,9]},a[3]={...s[3],id:4,coversBy:[9,10]},a[4]={...s[4],id:5,coversBy:[10,11]},a[5]={...s[5],id:6,coversBy:[11]},a[6]={...s[6],id:7,coversBy:[12],hide:!0},a[7]={...s[7],id:8,coversBy:[12,13],hide:!0},a[8]={...s[8],id:9,coversBy:[13,14],hide:!0},a[9]={...s[9],id:10,coversBy:[14,15],hide:!0},a[10]={...s[10],id:11,coversBy:[15],hide:!0},a[11]={...s[11],id:12,coversBy:[16]},a[12]={...s[12],id:13,coversBy:[16,17]},a[13]={...s[13],id:14,coversBy:[17,18]},a[14]={...s[14],id:15,coversBy:[18]},a[15]={...s[15],id:16,coversBy:[19],hide:!0},a[16]={...s[16],id:17,coversBy:[19,20],hide:!0},a[17]={...s[17],id:18,coversBy:[20],hide:!0},a[18]={...s[18],id:19,coversBy:[]},a[19]={...s[19],id:20,coversBy:[]}):i==="III"&&(a[0]={...s[0],id:1,coversBy:[3,4]},a[1]={...s[1],id:2,coversBy:[4,5]},a[2]={...s[2],id:3,coversBy:[6,7],hide:!0},a[3]={...s[3],id:4,coversBy:[7,8],hide:!0},a[4]={...s[4],id:5,coversBy:[8,9],hide:!0},a[5]={...s[5],id:6,coversBy:[10]},a[6]={...s[6],id:7,coversBy:[10]},a[7]={...s[7],id:8,coversBy:[11]},a[8]={...s[8],id:9,coversBy:[11]},a[9]={...s[9],id:10,coversBy:[14,15],hide:!0},a[10]={...s[10],id:11,coversBy:[12,13],hide:!0},a[11]={...s[11],id:12,coversBy:[16]},a[12]={...s[12],id:13,coversBy:[16,17]},a[13]={...s[13],id:14,coversBy:[17,18]},a[14]={...s[14],id:15,coversBy:[18]},a[15]={...s[15],id:16,coversBy:[19],hide:!0},a[16]={...s[16],id:17,coversBy:[19,20],hide:!0},a[17]={...s[17],id:18,coversBy:[20],hide:!0},a[18]={...s[18],id:19,coversBy:[]},a[19]={...s[19],id:20,coversBy:[]}),a}const fa=(s,i)=>{const a={...i.resources};if(s.color==="brown")switch(s.power[0]){case"clay":a.clayValue+=s.valuePower[0];break;case"brick":a.brickValue+=s.valuePower[0];break;case"wood":a.woodValue+=s.valuePower[0];break}else if(s.color==="grey")switch(s.power[0]){case"paper":a.paperValue+=s.valuePower[0];break;case"glass":a.glassValue+=s.valuePower[0];break}else s.color==="yellow"?s.power.forEach((l,t)=>{if(l==="points"&&(i.points+=s.valuePower[t]),l==="discount")switch(s.valuePower[t]){case 1:a.clayOne=1;break;case 2:a.brickOne=1;break;case 3:a.woodOne=1;break;case 4:a.paperGlassOne=1;break}if(l==="materials")switch(s.valuePower[t]){case 1:a.materialsCBW+=1;break;case 2:a.materialsPG+=1;break}if(l==="specialChar"&&a.specialChars.push(s.valuePower[t]),l==="cash"&&(a.cash+=s.valuePower[t]),l==="cashBack")switch(s.valuePower[t]){case 1:a.cash+=i.wonderCards.filter(f=>f.activated!=="none").length*2;break;case 2:a.cash+=i.cards.yellow.length+1;break;case 3:a.cash+=i.cards.grey.length*3;break;case 4:a.cash+=i.cards.brown.length*2;break;case 5:a.cash+=i.cards.red.length;break}}):s.color==="red"?s.power.forEach((l,t)=>{l==="specialChar"&&a.specialChars.push(s.valuePower[t])}):s.color==="green"?s.power.forEach((l,t)=>{l==="specialChar"&&a.specialChars.push(s.valuePower[t]),l==="artefact"&&a.artefacts.push(s.valuePower[t]),l==="points"&&(i.points+=s.valuePower[t])}):s.color==="blue"?s.power.forEach((l,t)=>{l==="points"&&(i.points+=s.valuePower[t]),l==="specialChar"&&a.specialChars.push(s.valuePower[t])}):s.color;return a},wa=(s,i)=>{const a={...i};return a.wonderCards=a.wonderCards.map(l=>l.id===s.id?s:l),s.power.forEach((l,t)=>{if(l==="materials")switch(s.valuePower[t]){case 1:a.resources.materialsCBW+=1;break;case 2:a.resources.materialsPG+=1;break}else l==="cash"?a.resources.cash+=s.valuePower[t]:l==="points"&&(a.points+=s.valuePower[t])}),a},is=Ge({__name:"DuelGameCardComponent",props:{card:{},small:{type:Boolean},cash1P:{},cash2P:{},res1P:{},res2P:{}},setup(s){const i=s,a=d(0),l=d(0),t=d(0),f=d(0),k=d(0),G=d(0),m=d(0),n=d(0),o=d(0),v=d(0),X=d(0),w=d(0),N=d(0),O=d(0),Y=d(0),V=d(0),h=d(0),re=d(0),Ie=d(0),me=d(0),Ce=d(0),ye=d(""),z=d(""),{card:E}=Ve(i);return da(()=>{switch(E.value.power.forEach((ae,U)=>{switch(ae){case"points":a.value=E.value.valuePower[U];break;case"artefact":l.value=E.value.valuePower[U];break;case"attack":t.value=E.value.valuePower[U];break;case"clay":f.value=E.value.valuePower[U];break;case"brick":k.value=E.value.valuePower[U];break;case"wood":G.value=E.value.valuePower[U];break;case"paper":m.value=E.value.valuePower[U];break;case"glass":n.value=E.value.valuePower[U];break;case"cash":o.value=E.value.valuePower[U];break;case"specialChar":v.value=E.value.valuePower[U];break;case"discount":X.value=E.value.valuePower[U];break;case"materials":w.value=E.value.valuePower[U];break;case"cashBack":N.value=E.value.valuePower[U];break;case"guild":O.value=E.value.valuePower[U];break}}),E.value.cost.forEach((ae,U)=>{switch(ae){case"specialChar":Y.value=E.value.valueCost[U];break;case"clay":V.value=E.value.valueCost[U];break;case"brick":h.value=E.value.valueCost[U];break;case"wood":re.value=E.value.valueCost[U];break;case"paper":Ie.value=E.value.valueCost[U];break;case"glass":me.value=E.value.valueCost[U];break;case"cash":Ce.value=E.value.valueCost[U];break}}),E.value.color){case"red":ye.value="rgb(255, 39, 39)";break;case"green":ye.value="rgb(14, 165, 14)";break;case"blue":ye.value="rgb(74, 74, 252)";break;case"yellow":ye.value="rgb(255, 255, 44)";break;case"brown":ye.value="rgb(197, 69, 69)";break;case"grey":ye.value="rgb(161, 161, 161)";break;case"purple":ye.value="rgb(192, 23, 192)";break}switch(E.value.tier){case"I":z.value="calc(var(--width-tier) * -10) calc(var(--height-tier) * -6)";break;case"II":z.value="calc(var(--width-tier) * -11) calc(var(--height-tier) * -6)";break;case"III":z.value="0 calc(var(--height-tier) * -7)";break;case"guild":z.value="calc(var(--width-tier) * -1) calc(var(--height-tier) * -7)";break}}),(ae,U)=>{var B;return u(),g("div",{class:W(["card",`card${e(E).idImg}`,!e(E).hide||((B=e(E).coversBy)==null?void 0:B.length)===0?"":"hideCard",ae.small&&"small"]),style:ue(`--reversBg:${z.value};`)},[e(E).taken==="inGame"&&ae.cash1P!==void 0&&ae.cash1P>=0?(u(),g("div",{key:0,class:W(["cashSum cashSumP1",ae.res1P!==void 0&&ae.cash1P>ae.res1P&&"toHighPrice"])},b(ae.cash1P),3)):Z("",!0),e(E).taken==="inGame"&&ae.cash2P!==void 0&&ae.cash2P>=0?(u(),g("div",{key:1,class:W(["cashSum cashSumP2",ae.res2P!==void 0&&ae.cash2P>ae.res2P&&"toHighPrice"])},b(ae.cash2P),3)):Z("",!0)],6)}}});const pe=Te(is,[["__scopeId","data-v-fb359416"]]);class $a{constructor(i){ge(this,"pawn",0);ge(this,"coins",[]);ge(this,"punishment1",!0);ge(this,"punishment2",!0);ge(this,"punishment3",!0);ge(this,"punishment4",!0);Object.assign(this,i)}}class ta{constructor(i){ge(this,"_id",0);ge(this,"user",{});ge(this,"points",0);ge(this,"resources",{cash:7,clayValue:0,brickValue:0,woodValue:0,paperValue:0,glassValue:0,clayOne:0,brickOne:0,woodOne:0,paperGlassOne:0,materialsCBW:0,materialsPG:0,specialChars:[],artefacts:[],specialEffects:[],coins:[]});ge(this,"wonderCards",[]);ge(this,"cards",{red:[],green:[],blue:[],yellow:[],brown:[],grey:[],purple:[]});Object.assign(this,i)}get id(){return this._id}set setId(i){this._id=i}}const ns=Ze(ea,"gameDuel"),D=xe(ns,"table1");let ma;const je=ja("duelGameStore",{state:()=>({turn:"",tier:"prepare",move:0,pickCoin:"",pickCoinOfThree:"",pickCardFromGraveyard:"",destroyBrown:"",destroyGrey:"",tierOneCards:[],tierTwoCards:[],tierThreeCards:[],theRestOfCoins:[],wonderCards:[],graveyard:[],board:new $a,player1:new ta,player2:new ta,selectWondersForPlayers:[],selectWondersForPlayersMove:0,chooseWhoWillStart:!1,wonByArt:"",wonByAggressive:"",wonBySurr:"",wonByPoints:"",selectedCard:{},selectedWonder:{},isLoading:!1,endGameAnimationEnd:!1}),getters:{},actions:{async subFirebaseConnect(s){ma=await Xa(D,i=>{if(i.exists()){const{turn:a,tier:l,move:t,tierICards:f,tierIICards:k,tierIIICards:G,player1:m,player2:n,gameBoard:o,wonderCards:v,graveyard:X,theRestOfCoins:w,pickCoin:N,pickCoinOfThree:O,pickCardFromGraveyard:Y,destroyBrown:V,destroyGrey:h,selectWondersForPlayers:re,selectWondersForPlayersMove:Ie,chooseWhoWillStart:me,wonByArt:Ce,wonByAggressive:ye,wonBySurr:z,wonByPoints:E}=i.data();this.turn=a,this.tier=l,this.move=t,this.tierOneCards=f,this.tierTwoCards=k,this.tierThreeCards=G,this.player1=m,this.player2=n,this.board=o,this.wonderCards=v,this.graveyard=X,this.theRestOfCoins=w,this.pickCoin=N,this.pickCoinOfThree=O,this.pickCardFromGraveyard=Y,this.destroyBrown=V,this.destroyGrey=h,this.selectWondersForPlayers=re,this.selectWondersForPlayersMove=Ie,this.chooseWhoWillStart=me,this.wonByArt=Ce,this.wonByAggressive=ye,this.wonBySurr=z,this.wonByPoints=E}})},unSubFirebaseConnect(){ma()},unselectCard(){this.selectedCard={},this.selectedWonder={}},async upgradeTurnAndMove(s,i){if(i)await C(D,{turn:s});else if(this.move+1===60)await C(D,{tier:"end",move:x(1)});else if((this.move+1===20||this.move+1===40)&&!this.chooseWhoWillStart){let a=s;a=a===this.player1.user.uid?`${this.player2.user.uid}`:`${this.player1.user.uid}`,this.board.pawn>0?a=`${this.player1.user.uid}`:this.board.pawn<0&&(a=`${this.player2.user.uid}`),await C(D,{chooseWhoWillStart:!0,turn:a,move:x(1)})}else await C(D,{turn:s,move:x(1)})},async setPickCoin(s){await C(D,{pickCoin:s})},async setPickCoinOfThree(s){await C(D,{pickCoinOfThree:s})},async setPickCardFromGraveyard(s){await C(D,{pickCardFromGraveyard:s})},async setDestroyBrown(s){await C(D,{destroyBrown:s})},async setDestroyGrey(s){await C(D,{destroyGrey:s})},async setMovePawn(s,i){let a=0;if(i===this.player1.user.uid){const l=setInterval(async()=>{this.board.pawn<=-8&&(clearInterval(l),await C(D,{"gameBoard.pawn":x(-1),wonByAggressive:i}),console.log("%c END GAME - ATTACK -> ","background: #222; color: #bada55")),this.board.punishment1&&this.board.pawn<=-5?await C(D,{"gameBoard.punishment1":!1,"gameBoard.pawn":x(-1),"player2.resources.cash":this.player2.resources.cash<=5?0:this.player2.resources.cash-=5}):this.board.punishment2&&this.board.pawn<=-2?await C(D,{"gameBoard.punishment2":!1,"gameBoard.pawn":x(-1),"player2.resources.cash":this.player2.resources.cash<=2?0:this.player2.resources.cash-=2}):await C(D,{"gameBoard.pawn":x(-1)}),a++,a>=s&&clearInterval(l)},333)}else{const l=setInterval(async()=>{this.board.pawn>=8&&(clearInterval(l),await C(D,{"gameBoard.pawn":x(1),wonByAggressive:i}),console.log("%c END GAME - ATTACK -> ","background: #222; color: #bada55")),this.board.punishment3&&this.board.pawn>=2?await C(D,{"gameBoard.punishment3":!1,"gameBoard.pawn":x(1),"player1.resources.cash":this.player1.resources.cash<=5?0:this.player1.resources.cash-=5}):this.board.punishment4&&this.board.pawn>=5?await C(D,{"gameBoard.punishment4":!1,"gameBoard.pawn":x(1),"player1.resources.cash":this.player1.resources.cash<=2?0:this.player1.resources.cash-=2}):await C(D,{"gameBoard.pawn":x(1)}),a++,a>=s&&clearInterval(l)},333)}},async countArtefacts(s){let i=0;if(s===this.player1.user.uid){this.player1.resources.coins.find(l=>l==="artefact7")&&(i+=1);const a=this.player1.cards.green.map(l=>l.valuePower[0]);i+=[...new Set(a)].length}else{this.player2.resources.coins.find(l=>l==="artefact7")&&(i+=1);const a=this.player2.cards.green.map(l=>l.valuePower[0]);i+=[...new Set(a)].length}if(i>=6){await C(D,{wonByArt:s}),console.log("%c END GAME - ARTEFACT -> ","background: #222; color: #bada55");return}},async setCardTaken(s,i){let a={},l=!1,t=!1,f=!1,k=0,G=0;if(i==="I"||this.tier==="I"?(this.tierOneCards=this.$state.tierOneCards.map(m=>(m.id===this.selectedCard.id&&(a=m),{...m,taken:m.id===this.selectedCard.id?"inPlayerBoard":m.taken,coversBy:m!=null&&m.coversBy?m.coversBy.filter(n=>n!==this.selectedCard.id):[]})),await C(D,{tierICards:this.tierOneCards})):i==="II"||this.tier==="II"?(this.tierTwoCards=this.$state.tierTwoCards.map(m=>(m.id===this.selectedCard.id&&(a=m),{...m,taken:m.id===this.selectedCard.id?"inPlayerBoard":m.taken,coversBy:m!=null&&m.coversBy?m.coversBy.filter(n=>n!==this.selectedCard.id):[]})),await C(D,{tierIICards:this.tierTwoCards})):(i==="III"||i==="guild"||this.tier==="III")&&(this.tierThreeCards=this.$state.tierThreeCards.map(m=>(m.id===this.selectedCard.id&&(a=m),{...m,taken:m.id===this.selectedCard.id?"inPlayerBoard":m.taken,coversBy:m!=null&&m.coversBy?m.coversBy.filter(n=>n!==this.selectedCard.id):[]})),await C(D,{tierIIICards:this.tierThreeCards})),this.isLoading=!0,this.turn===this.player1.user.uid){this.player1.resources.coins.find(n=>n==="cash6n4special")&&s===0&&a.cost[0]==="specialChar"&&this.player1.resources.specialChars.find(n=>n===a.valueCost[0])&&(G=4);const m=fa(a,this.player1);if(this.player1.cards[a.color].push({...a,taken:"inPlayerBoard"}),a.color==="red"&&a.power.forEach((n,o)=>{n==="attack"&&(this.player1.resources.coins.find(v=>v==="attack1")?k=++a.valuePower[o]:k=a.valuePower[o],f=!0)}),a.color==="green"&&(t=!0,a.power.forEach((n,o)=>{if(n==="artefact"&&this.player1.resources.artefacts.length!==0){let v=0;this.player1.resources.artefacts.forEach(X=>{X===a.valuePower[o]&&v++}),v===2&&(l=!0)}})),a.color==="purple")switch(a.valuePower[0]){case 1:{const n=this.player1.cards.yellow.length,o=this.player2.cards.yellow.length,v=n>o?n:o;m.cash+=v;break}case 2:{const n=this.player1.cards.brown.length+this.player1.cards.grey.length,o=this.player2.cards.brown.length+this.player2.cards.grey.length,v=n>o?n:o;m.cash+=v;break}case 4:{const n=this.player1.cards.blue.length,o=this.player2.cards.blue.length,v=n>o?n:o;m.cash+=v;break}case 5:{const n=this.player1.cards.green.length,o=this.player2.cards.green.length,v=n>o?n:o;m.cash+=v;break}case 7:{const n=this.player1.cards.red.length,o=this.player2.cards.red.length,v=n>o?n:o;m.cash+=v;break}}if(await C(D,{"player1.points":this.player1.points,"player1.cards":this.player1.cards,"player1.resources":{...m,cash:m.cash+G-s}}),s>0&&this.player2.resources.coins.find(n=>n==="cashBack")){let n=s;a.cost.find((o,v)=>o==="cash"?(n-=a.valueCost[v],!0):!1),C(D,{"player2.resources.cash":x(n)})}t&&await this.countArtefacts(`${this.player1.user.uid}`),f&&await this.setMovePawn(k,`${this.player1.user.uid}`),l&&await this.setPickCoin(`${this.player1.user.uid}`),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCoin===""&&(this.turn===this.player1.user.uid&&i?this.player1.resources.coins.find(n=>n==="repeatWonder")?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.turn===this.player2.user.uid&&i?this.player2.resources.coins.find(n=>n==="repeatWonder")?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`):await this.upgradeTurnAndMove(`${this.player2.user.uid}`))}else{this.player2.resources.coins.find(n=>n==="cash6n4special")&&s===0&&a.cost[0]==="specialChar"&&this.player2.resources.specialChars.find(n=>n===a.valueCost[0])&&(G=4);const m=fa(a,this.player2);if(this.player2.cards[a.color].push({...a,taken:"inPlayerBoard"}),a.color==="red"&&a.power.forEach((n,o)=>{n==="attack"&&(this.player2.resources.coins.find(v=>v==="attack1")?k=a.valuePower[o]+1:k=a.valuePower[o],f=!0)}),a.color==="green"&&(t=!0,a.power.forEach((n,o)=>{if(n==="artefact"&&this.player2.resources.artefacts.length!==0){let v=0;this.player2.resources.artefacts.forEach(X=>{X===a.valuePower[o]&&v++}),v===2&&(l=!0)}})),a.color==="purple")switch(a.valuePower[0]){case 1:{const n=this.player1.cards.yellow.length,o=this.player2.cards.yellow.length,v=n>o?n:o;m.cash+=v;break}case 2:{const n=this.player1.cards.brown.length+this.player1.cards.grey.length,o=this.player2.cards.brown.length+this.player1.cards.grey.length,v=n>o?n:o;m.cash+=v;break}case 4:{const n=this.player1.cards.blue.length,o=this.player2.cards.blue.length,v=n>o?n:o;m.cash+=v;break}case 5:{const n=this.player1.cards.green.length,o=this.player2.cards.green.length,v=n>o?n:o;m.cash+=v;break}case 7:{const n=this.player1.cards.red.length,o=this.player2.cards.red.length,v=n>o?n:o;m.cash+=v;break}}if(await C(D,{"player2.points":this.player2.points,"player2.cards":this.player2.cards,"player2.resources":{...m,cash:m.cash+G-s}}),s>0&&this.player1.resources.coins.find(n=>n==="cashBack")){let n=s;a.cost.find((o,v)=>o==="cash"?(n-=a.valueCost[v],!0):!1),C(D,{"player1.resources.cash":x(n)})}t&&await this.countArtefacts(`${this.player2.user.uid}`),f&&await this.setMovePawn(k,`${this.player2.user.uid}`),l&&await this.setPickCoin(`${this.player2.user.uid}`),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCoin===""&&(this.turn===this.player1.user.uid&&i?this.player1.resources.coins.find(n=>n==="repeatWonder")?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.turn===this.player2.user.uid&&i?this.player2.resources.coins.find(n=>n==="repeatWonder")?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`):await this.upgradeTurnAndMove(`${this.player1.user.uid}`))}this.unselectCard(),this.isLoading=!1},async setCardGraveyard(s){var a;let i={};if(s==="I"||this.tier==="I"?(this.tierOneCards=this.$state.tierOneCards.map(l=>(l.id===this.selectedCard.id&&(i=l),{...l,taken:l.id===this.selectedCard.id?"graveyard":l.taken,coversBy:l!=null&&l.coversBy?l.coversBy.filter(t=>t!==this.selectedCard.id):[]})),await C(D,{tierICards:this.tierOneCards})):s==="II"||this.tier==="II"?(this.tierTwoCards=this.$state.tierTwoCards.map(l=>(l.id===this.selectedCard.id&&(i=l),{...l,taken:l.id===this.selectedCard.id?"graveyard":l.taken,coversBy:l!=null&&l.coversBy?l.coversBy.filter(t=>t!==this.selectedCard.id):[]})),await C(D,{tierIICards:this.tierTwoCards})):(s==="III"||s==="guild"||this.tier==="III")&&(this.tierThreeCards=this.$state.tierThreeCards.map(l=>(l.id===this.selectedCard.id&&(i=l),{...l,taken:l.id===this.selectedCard.id?"graveyard":l.taken,coversBy:l!=null&&l.coversBy?l.coversBy.filter(t=>t!==this.selectedCard.id):[]})),await C(D,{tierIIICards:this.tierThreeCards})),this.isLoading=!0,this.graveyard.push({...i,taken:"graveyard"}),s)if(this.turn===this.player1.user.uid){const l={...this.player2.resources};if(i.color==="brown"){switch(i.power[0]){case"clay":l.clayValue-=i.valuePower[0];break;case"brick":l.brickValue-=i.valuePower[0];break;case"wood":l.woodValue-=i.valuePower[0];break}await C(D,{"player2.resources":l,graveyard:this.graveyard,"player2.cards.brown":Se({...i,taken:"inPlayerBoard"})})}else if(i.color==="grey"){switch(i.power[0]){case"paper":l.paperValue-=i.valuePower[0];break;case"glass":l.glassValue-=i.valuePower[0];break}await C(D,{"player2.resources":l,graveyard:this.graveyard,"player2.cards.grey":Se({...i,taken:"inPlayerBoard"})})}this.player1.resources.coins.find(t=>t==="repeatWonder")?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`)}else{const l={...this.player1.resources};if(i.color==="brown"){switch(i.power[0]){case"clay":l.clayValue-=i.valuePower[0];break;case"brick":l.brickValue-=i.valuePower[0];break;case"wood":l.woodValue-=i.valuePower[0];break}await C(D,{"player1.resources":l,graveyard:this.graveyard,"player1.cards.brown":Se({...i,taken:"inPlayerBoard"})})}else if(i.color==="grey"){switch(i.power[0]){case"paper":l.paperValue-=i.valuePower[0];break;case"glass":l.glassValue-=i.valuePower[0];break}await C(D,{"player1.resources":l,graveyard:this.graveyard,"player1.cards.grey":Se({...i,taken:"inPlayerBoard"})})}this.player2.resources.coins.find(t=>t==="repeatWonder")?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`)}else if(this.turn===this.player1.user.uid){const l=2+this.player1.cards.yellow.length;await C(D,{"player1.resources.cash":x(l),graveyard:this.graveyard}),this.upgradeTurnAndMove(`${(a=this.player2.user)==null?void 0:a.uid}`)}else{const l=2+this.player2.cards.yellow.length;await C(D,{"player2.resources.cash":x(l),graveyard:this.graveyard}),this.upgradeTurnAndMove(`${this.player1.user.uid}`)}this.unselectCard(),this.isLoading=!1},async setCardToWonder(s){let i={},a={},l=!1,t=0,f=!1,k=!1,G=!1,m=!1,n=!1;if(this.tier==="I"?(this.tierOneCards=this.$state.tierOneCards.map(o=>(o.id===this.selectedCard.id&&(i=o),{...o,taken:o.id===this.selectedCard.id?"inWonder":o.taken,coversBy:o!=null&&o.coversBy?o.coversBy.filter(v=>v!==this.selectedCard.id):[]})),await C(D,{tierICards:this.tierOneCards})):this.tier==="II"?(this.tierTwoCards=this.$state.tierTwoCards.map(o=>(o.id===this.selectedCard.id&&(i=o),{...o,taken:o.id===this.selectedCard.id?"inWonder":o.taken,coversBy:o!=null&&o.coversBy?o.coversBy.filter(v=>v!==this.selectedCard.id):[]})),await C(D,{tierIICards:this.tierTwoCards})):this.tier==="III"&&(this.tierThreeCards=this.$state.tierThreeCards.map(o=>(o.id===this.selectedCard.id&&(i=o),{...o,taken:o.id===this.selectedCard.id?"inWonder":o.taken,coversBy:o!=null&&o.coversBy?o.coversBy.filter(v=>v!==this.selectedCard.id):[]})),await C(D,{tierIIICards:this.tierThreeCards})),a=this.selectedWonder,a.activated=i.tier,this.isLoading=!0,this.turn===this.player1.user.uid){const o=wa(a,this.player1);o.resources.cash-=s,o.resources.coins.find(w=>w==="repeatWonder")&&(f=!0),s>0&&this.player2.resources.coins.find(w=>w==="cashBack")&&C(D,{"player2.resources.cash":x(s)}),a.power.forEach(async(w,N)=>{w==="attack"?(l=!0,t=a.valuePower[N]):w==="break"?a.valuePower[N]===1?this.player2.cards.brown.length>0&&(k=!0):a.valuePower[N]===2?this.player2.cards.grey.length>0&&(G=!0):a.valuePower[N]===3&&await C(D,{"player2.resources.cash":this.player2.resources.cash<=3?0:x(-3)}):w==="effect"&&(a.valuePower[N]===1?f=!0:a.valuePower[N]===2?m=!0:a.valuePower[N]===3&&(n=!0))}),l&&this.setMovePawn(t,`${this.player1.user.uid}`),n&&await this.setPickCoinOfThree(`${this.player1.user.uid}`),m&&await this.setPickCardFromGraveyard(`${this.player1.user.uid}`),k&&await this.setDestroyBrown(`${this.player1.user.uid}`),G&&await this.setDestroyGrey(`${this.player1.user.uid}`);const v=o.wonderCards.filter(w=>w.activated!=="none"),X=this.player2.wonderCards.filter(w=>w.activated!=="none");v.length===3&&X.length===4?await C(D,{player1:{...o,wonderCards:v}}):v.length===4&&X.length===3?await C(D,{player1:o,"player2.wonderCards":X}):await C(D,{player1:o}),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCardFromGraveyard===""&&this.pickCoinOfThree===""&&this.destroyBrown===""&&this.destroyGrey===""&&(f&&this.move!==19&&this.move!==39?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`))}else{const o=wa(a,this.player2);o.resources.cash-=s,o.resources.coins.find(w=>w==="repeatWonder")&&(f=!0),s>0&&this.player1.resources.coins.find(w=>w==="cashBack")&&C(D,{"player1.resources.cash":x(s)}),a.power.forEach(async(w,N)=>{w==="attack"?(l=!0,t=a.valuePower[N]):w==="break"?a.valuePower[N]===1?this.player1.cards.brown.length>0&&(k=!0):a.valuePower[N]===2?this.player1.cards.grey.length>0&&(G=!0):a.valuePower[N]===3&&await C(D,{"player1.resources.cash":this.player1.resources.cash<=3?0:x(-3)}):w==="effect"&&(a.valuePower[N]===1?f=!0:a.valuePower[N]===2?m=!0:a.valuePower[N]===3&&(n=!0))}),l&&this.setMovePawn(t,`${this.player2.user.uid}`),n&&await this.setPickCoinOfThree(`${this.player2.user.uid}`),m&&await this.setPickCardFromGraveyard(`${this.player2.user.uid}`),k&&await this.setDestroyBrown(`${this.player2.user.uid}`),G&&await this.setDestroyGrey(`${this.player2.user.uid}`);const v=this.player1.wonderCards.filter(w=>w.activated!=="none"),X=o.wonderCards.filter(w=>w.activated!=="none");v.length===3&&X.length===4?await C(D,{"player1.wonderCards":v,player2:o}):v.length===4&&X.length===3?await C(D,{player2:{...o,wonderCards:X}}):await C(D,{player2:o}),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCardFromGraveyard===""&&this.pickCoinOfThree===""&&this.destroyBrown===""&&this.destroyGrey===""&&(f&&this.move!==19&&this.move!==39?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`))}this.unselectCard(),this.isLoading=!1}}}),us=Ge({__name:"DuelGameLayOutTiersComponent",props:{card:{},x:{},y:{},reversColor:{},cash1P:{},cash2P:{},user:{}},setup(s){const i=s,a=je(),{selectedCard:l,player1:t,player2:f}=Re(a),{card:k}=Ve(i);return(G,m)=>{var n,o,v;return e(k).taken==="inGame"?(u(),g("div",{key:0,class:W(["cardWrapper",((n=e(k).coversBy)==null?void 0:n.length)!==0&&e(k).hide&&"cardHide",((o=e(k).coversBy)==null?void 0:o.length)===0&&"canSelect",e(l).id===e(k).id&&"selected"]),style:ue(`--x:${G.x}%; --y:${G.y}%; --z:${e(k).id}; --reversCol:${G.reversColor}; cursor: ${((v=e(k).coversBy)==null?void 0:v.length)===0?"pointer":"default"};`)},[he(pe,{card:e(k),cash1P:G.user.uid===e(t).user.uid?G.cash1P:G.cash2P,cash2P:G.user.uid===e(t).user.uid?G.cash2P:G.cash1P,res1P:G.user.uid===e(t).user.uid?e(t).resources.cash:e(f).resources.cash,res2P:G.user.uid===e(t).user.uid?e(f).resources.cash:e(t).resources.cash},null,8,["card","cash1P","cash2P","res1P","res2P"])],6)):(u(),g("div",{key:1,class:W(["cardWrapper","invisible"]),style:ue(`--x:${G.x}%; --y:${G.y}%; --z:-10;`)},[he(pe,{card:e(k)},null,8,["card"])],4))}}});const ca=Te(us,[["__scopeId","data-v-04dc6c64"]]),cs=Ge({__name:"DuelGameWonderComponent",props:{card:{},cash:{},resCash:{}},setup(s){const i=s,{card:a}=Ve(i),l=d(0),t=d(0),f=d(0),k=d(0),G=d(0),m=d(0),n=d(0),o=d(0),v=d(0),X=d(0),w=d(0);d(0);const N=d("");da(()=>{a.value.power.forEach((Y,V)=>{switch(Y){case"effect":l.value=a.value.valuePower[V];break;case"cash":t.value=a.value.valuePower[V];break;case"break":f.value=a.value.valuePower[V];break;case"materials":k.value=a.value.valuePower[V];break;case"attack":G.value=a.value.valuePower[V];break;case"points":m.value=a.value.valuePower[V];break}}),a.value.cost.forEach((Y,V)=>{switch(Y){case"clay":n.value=a.value.valueCost[V];break;case"brick":o.value=a.value.valueCost[V];break;case"wood":v.value=a.value.valueCost[V];break;case"paper":X.value=a.value.valueCost[V];break;case"glass":w.value=a.value.valueCost[V];break}}),O()}),Ae(()=>a.value.activated,()=>{O()});function O(){switch(a.value.activated){case"I":N.value="calc(var(--width-tier) * -10) calc(var(--height-tier) * -6)";break;case"II":N.value="calc(var(--width-tier) * -11) calc(var(--height-tier) * -6)";break;case"III":N.value="0 calc(var(--height-tier) * -7)";break;case"guild":N.value="calc(var(--width-tier) * -1) calc(var(--height-tier) * -7)";break}}return(Y,V)=>(u(),g("div",{class:W(["cardWrapper"]),style:ue(`--bg-position: ${N.value};`)},[r("div",{class:W(["card",`card${e(a).id}`])},null,2),r("div",{class:W(["tierCardForWonder",N.value!==""&&"getImg"])},null,2),e(a).taken&&e(a).activated==="none"?(u(),g("div",{key:0,class:W(["cashSum",Y.resCash!==void 0&&Y.cash!==void 0&&Y.cash>Y.resCash&&"toHighPrice"])},b(Y.cash),3)):Z("",!0)],4))}});const $e=Te(cs,[["__scopeId","data-v-5ce34bff"]]),ds=Ge({__name:"DuelGameCoinComponent",props:{coin:{}},setup(s){const i=s,a=d(""),{coin:l}=Ve(i);return da(()=>{switch(l.value){case"artefact7":a.value="7";break;case"attack1":a.value="1+";break;case"point7":a.value="7";break;case"pointX3":a.value="3x ";break;case"cash6n4special":a.value="6$+";break;case"lowCostWonder":a.value="$$";break;case"lowCostBlue":a.value="$$";break;case"cashBack":a.value="$";break;case"point4n6cash":a.value="6$";break;case"repeatWonder":a.value="";break;default:a.value=l.value;break}}),(t,f)=>(u(),g("span",{class:W(["boardSingleCoin",`${e(l)}`])},null,2))}});const oa=Te(ds,[["__scopeId","data-v-8db5947e"]]),vs={class:"duel"},ps={class:W(["punishment"])},hs=Ge({__name:"DuelGameBoardDuelComponent",props:{isMyTurn:{type:Boolean},user:{}},emits:["coin-selected"],setup(s,{emit:i}){const a=s,l=je(),{board:t,pickCoin:f,player2:k,wonByAggressive:G}=Re(l),{isMyTurn:m}=Ve(a);return(n,o)=>(u(),g("section",vs,[r("div",ps,[r("div",{class:W([n.user.uid!==e(k).user.uid?"punishment1":"punishment4"]),style:ue(e(t).punishment1?"":"opacity: 0;")},null,6),r("div",{class:W([n.user.uid!==e(k).user.uid?"punishment2":"punishment3"]),style:ue(e(t).punishment2?"":"opacity: 0;")},null,6),r("div",{class:W([n.user.uid!==e(k).user.uid?"punishment3":"punishment2"]),style:ue(e(t).punishment3?"":"opacity: 0;")},null,6),r("div",{class:W([n.user.uid!==e(k).user.uid?"punishment4":"punishment1"]),style:ue(e(t).punishment4?"":"opacity: 0;")},null,6)]),r("div",{class:W(["boardPawn",n.user.uid===e(k).user.uid&&"rotatePawnDuel"])},[r("div",{class:W(["pawn",e(G)!==""&&"pawnWin"]),style:ue(`--position:${e(t).pawn}`)},null,6)],2),r("div",{class:W(["boardCoins",e(m)&&e(f)!==""&&"selectCoin"])},[(u(!0),g(ee,null,se(e(t).coins,v=>(u(),H(oa,{key:v,coin:v,style:ue(e(m)&&e(f)!==""&&"cursor: pointer;"),onClick:X=>e(m)&&e(f)!==""?i("coin-selected",v):null},null,8,["coin","style","onClick"]))),128))],2)]))}});const ys=Te(hs,[["__scopeId","data-v-a4c42c2d"]]),fs=Ge({__name:"DuelGameGraveyardComponent",props:{isMyTurn:{type:Boolean}},emits:["pick-card-from-graveyard"],setup(s,{emit:i}){const a=je(),{graveyard:l,pickCardFromGraveyard:t}=Re(a);return(f,k)=>(u(),g("section",{class:W(["graveyard","customInput",f.isMyTurn&&e(t)!==""&&"selectFromGraveyard"]),style:ue(e(l).length>=24?"overflow-y: scroll;":"")},[(u(!0),g(ee,null,se(e(l),G=>(u(),H(pe,{key:G.id,card:G,small:"",style:ue(f.isMyTurn&&e(t)!==""&&"cursor: pointer;"),onClick:m=>f.isMyTurn&&e(t)!==""?i("pick-card-from-graveyard",G):null},null,8,["card","style","onClick"]))),128))],6))}});const ws=Te(fs,[["__scopeId","data-v-4e392cbe"]]),ms={class:"playerInfoContainer"},Cs={key:0,class:"surrenderPopUp"},ks={key:0,class:"animateHand"},gs=["disabled"],bs={key:0,class:"animateHand"},Ps=["disabled"],Is=Ge({__name:"DuelGamePlayersInfoComponent",props:{user:{}},emits:["prepare-game-to-remove-from-db"],setup(s,{emit:i}){const a=s,l=je(),{player1:t,player2:f,turn:k}=Re(l),{user:G}=Ve(a),m=d("Kick player"),n=d("Surrender"),o=d("Do you really want to give up?!"),v=d(90),X=d(90),w=d(!1);return(N,O)=>{const Y=ia("ion-icon");return u(),g("section",ms,[w.value?(u(),g("div",Cs,[r("p",null,b(o.value),1),r("div",null,[r("button",{class:W(["customInput","reverseInput"]),onClick:O[0]||(O[0]=async()=>(await i("prepare-game-to-remove-from-db",e(G)),w.value=!1))},b("Yes")),r("button",{class:W(["customInput","reverseInput"]),onClick:O[1]||(O[1]=()=>w.value=!1)},b("NO!"))])])):Z("",!0),r("div",{class:W(["player1info","customInput",e(k)===e(t).user.uid&&"boldParagraf"])},[r("p",null,b(`${e(t).user.displayName||e(t).user.email}`),1),r("p",null,b(`Timer: ${v.value}`),1),e(k)===e(t).user.uid?(u(),g("div",ks,[he(Y,{name:"time-sharp"})])):Z("",!0),r("button",{disabled:e(f).user.uid===e(G).uid&&X.value>0,class:W(["customButton"]),onClick:O[2]||(O[2]=()=>e(t).user.uid===e(G).uid?w.value=!0:null)},b(e(t).user.uid===e(G).uid?n.value:m.value),9,gs)],2),r("div",{class:W(["player2info","customInput",e(k)===e(f).user.uid&&"boldParagraf"])},[r("p",null,b(`${e(f).user.displayName||e(f).user.email}`),1),r("p",null,b(`Timer: ${X.value}`),1),e(k)===e(f).user.uid?(u(),g("div",bs,[he(Y,{name:"time-sharp"})])):Z("",!0),r("button",{disabled:e(t).user.uid===e(G).uid&&v.value>0,class:W(["customButton"]),onClick:O[3]||(O[3]=()=>e(f).user.uid===e(G).uid?w.value=!0:null)},b(e(f).user.uid===e(G).uid?n.value:m.value),9,Ps)],2)])}}});const _s=Te(Is,[["__scopeId","data-v-d5b38f73"]]),Bs={class:"playerCardContainer"},$s={class:"playerCardColorContainer playerCard3"},Gs={class:"playerCardColorContainer playerCard4"},Ts={class:"playerCardColorContainer playerCard5"},Ws={class:"countArt"},As={class:"playerCardColorContainer playerCard7"},Ss={class:"playerPointsContainer"},Ds={class:"playerResContainer"},Os={key:0,class:"animateHand"},Ms={class:"cashPointsContainer"},Fs={class:"cashSum"},Es={class:"cashSum pointSum"},Rs={class:"playerCoins customInput"},Vs={class:"playerCardContainer"},Ns={class:"playerCardColorContainer playerCard3"},Ls={class:"playerCardColorContainer playerCard4"},Hs={class:"playerCardColorContainer playerCard5"},js={class:"countArt"},Xs={class:"playerCardColorContainer playerCard7"},Ys={class:"playerPointsContainer"},zs={class:"playerResContainer"},Us={key:0,class:"animateHand"},Ks={class:"cashPointsContainer"},qs={class:"cashSum"},Js={class:"cashSum pointSum"},Qs={class:"playerCoins customInput"},Zs=Ge({__name:"DuelGamePlayersResComponent",props:{isMyTurn:{type:Boolean},user:{},selectWonderCard:{type:Boolean}},emits:["destrooy-enemy-card-selected"],setup(s,{emit:i}){const a=s,l=je(),{player1:t,player2:f,turn:k,tier:G,destroyBrown:m,destroyGrey:n,wonByArt:o}=Re(l),{user:v}=Ve(a),X=ha("showPrice"),w=ha("wonderCardSelected");function N(O){if(O===t.value.user.uid){let Y=0;t.value.resources.coins.find(h=>h==="artefact7")&&(Y+=1);const V=t.value.cards.green.map(h=>h.valuePower[0]);return Y+=[...new Set(V)].length}else{let Y=0;f.value.resources.coins.find(h=>h==="artefact7")&&(Y+=1);const V=f.value.cards.green.map(h=>h.valuePower[0]);return Y+=[...new Set(V)].length}}return(O,Y)=>{const V=ia("ion-icon");return u(),g(ee,null,[r("section",{class:W(["wonders",e(v).uid===e(t).user.uid?"wonders1":"wonders2","customInput"])},[(u(!0),g(ee,null,se(e(t).wonderCards,h=>(u(),H($e,{card:h,key:h.id,cash:e(X)(h,`${e(t).user.uid}`),resCash:e(t).resources.cash,class:W([O.selectWonderCard&&O.isMyTurn&&e(v).uid===e(t).user.uid&&e(X)(h,`${e(t).user.uid}`)<=e(t).resources.cash&&"selectWonderFromPlayer"]),onClick:re=>e(G)!=="prepare"&&O.selectWonderCard?e(w)(h,e(t).resources.cash):null},null,8,["card","cash","resCash","class","onClick"]))),128))],2),r("section",{class:W(["playerSection",e(v).uid===e(t).user.uid?"player1":"player2"])},[r("div",Bs,[r("div",{class:W(["playerCardColorContainer","playerCard1",e(v).uid===e(f).user.uid&&O.isMyTurn&&e(m)!==""&&"selectCardToDestroy"])},[(u(!0),g(ee,null,se(e(t).cards.brown,h=>(u(),H(pe,{key:h.id,card:h,small:"",style:ue(e(v).uid===e(f).user.uid&&O.isMyTurn&&e(m)!==""?"cursor: pointer;":""),onClick:re=>e(v).uid===e(f).user.uid&&O.isMyTurn&&e(m)!==""?i("destrooy-enemy-card-selected",h,"brown"):null},null,8,["card","style","onClick"]))),128))],2),r("div",{class:W(["playerCardColorContainer","playerCard2",e(v).uid===e(f).user.uid&&O.isMyTurn&&e(n)!==""&&"selectCardToDestroy"])},[(u(!0),g(ee,null,se(e(t).cards.grey,h=>(u(),H(pe,{key:h.id,card:h,small:"",style:ue(e(v).uid===e(f).user.uid&&O.isMyTurn&&e(n)!==""?"cursor: pointer;":""),onClick:re=>e(v).uid===e(f).user.uid&&O.isMyTurn&&e(n)!==""?i("destrooy-enemy-card-selected",h,"grey"):null},null,8,["card","style","onClick"]))),128))],2),r("div",$s,[(u(!0),g(ee,null,se(e(t).cards.yellow,h=>(u(),H(pe,{key:h.id,card:h,small:""},null,8,["card"]))),128))]),r("div",Gs,[(u(!0),g(ee,null,se(e(t).cards.blue,h=>(u(),H(pe,{key:h.id,card:h,small:""},null,8,["card"]))),128))]),r("div",Ts,[(u(!0),g(ee,null,se(e(t).cards.red,h=>(u(),H(pe,{key:h.id,card:h,small:""},null,8,["card"]))),128))]),r("div",{class:W(["playerCardColorContainer","playerCard6",e(o)!==""&&e(o)===e(t).user.uid&&"artWin"])},[r("div",Ws,b(N(`${e(t).user.uid}`)+"/6"),1),(u(!0),g(ee,null,se(e(t).cards.green.sort((h,re)=>h.valuePower[0]-re.valuePower[0]),h=>(u(),H(pe,{key:h.id,card:h,small:""},null,8,["card"]))),128))],2),r("div",As,[(u(!0),g(ee,null,se(e(t).cards.purple,h=>(u(),H(pe,{key:h.id,card:h,small:""},null,8,["card"]))),128))])]),r("div",Ss,[r("div",Ds,[e(k)===e(t).user.uid?(u(),g("div",Os,[he(V,{name:"time-sharp"})])):Z("",!0),r("p",{style:ue(e(k)===e(t).user.uid?"font-weight: bold;":"")},b(`${e(t).user.displayName||e(t).user.email}`),5),r("p",{style:ue(e(k)===e(t).user.uid?"font-weight: bold;":"")},b("Status: online"),4),r("div",Ms,[r("div",Fs,b(e(t).resources.cash),1),r("div",Es,b(e(t).points),1)])]),r("div",Rs,[(u(!0),g(ee,null,se(e(t).resources.coins,h=>(u(),H(oa,{key:h,coin:h},null,8,["coin"]))),128))])])],2),r("section",{class:W(["wonders",e(v).uid===e(t).user.uid?"wonders2":"wonders1","customInput"])},[(u(!0),g(ee,null,se(e(f).wonderCards,h=>(u(),H($e,{card:h,key:h.id,cash:e(X)(h,`${e(f).user.uid}`),resCash:e(f).resources.cash,class:W([O.selectWonderCard&&O.isMyTurn&&e(v).uid===e(f).user.uid&&e(X)(h,`${e(f).user.uid}`)<=e(f).resources.cash&&"selectWonderFromPlayer"]),onClick:re=>e(G)!=="prepare"&&O.selectWonderCard?e(w)(h,e(f).resources.cash):null},null,8,["card","cash","resCash","class","onClick"]))),128))],2),r("section",{class:W(["playerSection",e(v).uid===e(t).user.uid?"player2":"player1"])},[r("div",Vs,[r("div",{class:W(["playerCardColorContainer","playerCard1",e(v).uid===e(t).user.uid&&O.isMyTurn&&e(m)!==""&&"selectCardToDestroy"])},[(u(!0),g(ee,null,se(e(f).cards.brown,h=>(u(),H(pe,{key:h.id,card:h,small:"",style:ue(e(v).uid===e(t).user.uid&&O.isMyTurn&&e(m)!==""?"cursor: pointer;":""),onClick:re=>e(v).uid===e(t).user.uid&&O.isMyTurn&&e(m)!==""?i("destrooy-enemy-card-selected",h,"brown"):null},null,8,["card","style","onClick"]))),128))],2),r("div",{class:W(["playerCardColorContainer","playerCard2",e(v).uid===e(t).user.uid&&O.isMyTurn&&e(n)!==""&&"selectCardToDestroy"])},[(u(!0),g(ee,null,se(e(f).cards.grey,h=>(u(),H(pe,{key:h.id,card:h,small:"",style:ue(e(v).uid===e(t).user.uid&&O.isMyTurn&&e(n)!==""?"cursor: pointer;":""),onClick:re=>e(v).uid===e(t).user.uid&&O.isMyTurn&&e(n)!==""?i("destrooy-enemy-card-selected",h,"grey"):null},null,8,["card","style","onClick"]))),128))],2),r("div",Ns,[(u(!0),g(ee,null,se(e(f).cards.yellow,h=>(u(),H(pe,{key:h.id,card:h,small:""},null,8,["card"]))),128))]),r("div",Ls,[(u(!0),g(ee,null,se(e(f).cards.blue,h=>(u(),H(pe,{key:h.id,card:h,small:""},null,8,["card"]))),128))]),r("div",Hs,[(u(!0),g(ee,null,se(e(f).cards.red,h=>(u(),H(pe,{key:h.id,card:h,small:""},null,8,["card"]))),128))]),r("div",{class:W(["playerCardColorContainer","playerCard6",e(o)!==""&&e(o)===e(f).user.uid&&"artWin"])},[r("div",js,b(N(`${e(f).user.uid}`)+"/6"),1),(u(!0),g(ee,null,se(e(f).cards.green.sort((h,re)=>h.valuePower[0]-re.valuePower[0]),h=>(u(),H(pe,{key:h.id,card:h,small:""},null,8,["card"]))),128))],2),r("div",Xs,[(u(!0),g(ee,null,se(e(f).cards.purple,h=>(u(),H(pe,{key:h.id,card:h,small:""},null,8,["card"]))),128))])]),r("div",Ys,[r("div",zs,[e(k)===e(f).user.uid?(u(),g("div",Us,[he(V,{name:"time-sharp"})])):Z("",!0),r("p",{style:ue(e(k)===e(f).user.uid?"font-weight: bold;":"")},b(`${e(f).user.displayName||e(f).user.email}`),5),r("p",{style:ue(e(k)===e(f).user.uid?"font-weight: bold;":"")},b("Status: online"),4),r("div",Ks,[r("div",qs,b(e(f).resources.cash),1),r("div",Js,b(e(f).points),1)])]),r("div",Qs,[(u(!0),g(ee,null,se(e(f).resources.coins,h=>(u(),H(oa,{key:h,coin:h},null,8,["coin"]))),128))])])],2)],64)}}});const xs=Te(Zs,[["__scopeId","data-v-c77319ae"]]),Ga="/vue-project/assets/win-d87fbc05.mp3",Ta="/vue-project/assets/lost-7a2664bb.mp3",ve=s=>(Ya("data-v-ffe6e25e"),s=s(),za(),s),er={class:"countPoints"},ar={class:"containerPoints customInput"},sr={class:"wonderPoints"},rr=ve(()=>r("div",{class:"cashSum wonderCard"},null,-1)),lr={class:"bluePoints"},tr=ve(()=>r("div",{class:"cashSum blueCard"},null,-1)),or={class:"yellowPoints"},ir=ve(()=>r("div",{class:"cashSum yellowCard"},null,-1)),nr={class:"greenPoints"},ur=ve(()=>r("div",{class:"cashSum greenCard"},null,-1)),cr={class:"cashPoints"},dr=ve(()=>r("div",{class:"cashSum cashCard"},null,-1)),vr={class:"purplePoints"},pr=ve(()=>r("div",{class:"cashSum purpleCard"},null,-1)),hr={class:"coinsPoints"},yr=ve(()=>r("div",{class:"cashSum miniCoin"},null,-1)),fr={class:"pawnPoints"},wr=ve(()=>r("div",{class:"cashSum attackImg"},null,-1)),mr={class:"sumPoints"},Cr=ve(()=>r("div",{class:"cashSum pointsImg"},null,-1)),kr={class:"containerPoints customInput"},gr={class:"wonderPoints"},br=ve(()=>r("div",{class:"cashSum wonderCard"},null,-1)),Pr={class:"bluePoints"},Ir=ve(()=>r("div",{class:"cashSum blueCard"},null,-1)),_r={class:"yellowPoints"},Br=ve(()=>r("div",{class:"cashSum yellowCard"},null,-1)),$r={class:"greenPoints"},Gr=ve(()=>r("div",{class:"cashSum greenCard"},null,-1)),Tr={class:"cashPoints"},Wr=ve(()=>r("div",{class:"cashSum cashCard"},null,-1)),Ar={class:"purplePoints"},Sr=ve(()=>r("div",{class:"cashSum purpleCard"},null,-1)),Dr={class:"coinsPoints"},Or=ve(()=>r("div",{class:"cashSum miniCoin"},null,-1)),Mr={class:"pawnPoints"},Fr=ve(()=>r("div",{class:"cashSum attackImg"},null,-1)),Er={class:"sumPoints"},Rr=ve(()=>r("div",{class:"cashSum pointsImg"},null,-1)),Vr=Ge({__name:"DuelGameEndGameComponent",props:{user:{}},setup(s){const i=s,a=je(),{player1:l,player2:t,tier:f,board:k,endGameAnimationEnd:G}=Re(a),m=Ze(ea,"gameDuel"),n=xe(m,"table1");Ve(i);const o=d(0),v=d(0),X=d(!1),w=d(0),N=d(new Audio(Ga)),O=d(new Audio(Ta));N.value.volume=.66,O.value.volume=.66;const Y=d(0),V=d(0),h=d(0),re=d(0),Ie=d(0),me=d(0),Ce=d(0),ye=d(0),z=d(0),E=d(0),ae=d(0),U=d(0),B=d(0),De=d(0),A=d(0),L=d(0),Ke=d(0),fe=d(0),ke=d(0),be=d(0),Oe=d(0),Me=d(0),Fe=d(0),qe=d(0);Ae(()=>f.value,async()=>{f.value==="end"&&(_e(),await Be())}),Ae([()=>X.value],()=>{aa()});const aa=()=>{if(Ie.value===0&&Ke.value===0)Je();else{const P=setInterval(()=>{clearInterval(P);const R=setInterval(()=>{me.value<Ie.value?(w.value=1,me.value++,o.value++):fe.value<Ke.value?(w.value=2,fe.value++,v.value++):(w.value=0,Je(),clearInterval(R))},50)},1300)}},Je=()=>{if(Ce.value===0&&ke.value===0)Qe();else{const P=setInterval(()=>{clearInterval(P);const R=setInterval(()=>{ye.value<Ce.value?(w.value=3,ye.value++,o.value++):be.value<ke.value?(w.value=4,be.value++,v.value++):(w.value=0,Qe(),clearInterval(R))},50)},555)}},Qe=()=>{if(z.value===0&&Oe.value===0)oe();else{const P=setInterval(()=>{clearInterval(P);const R=setInterval(()=>{E.value<z.value?(w.value=5,E.value++,o.value++):Me.value<Oe.value?(w.value=6,Me.value++,v.value++):(w.value=0,oe(),clearInterval(R))},50)},555)}},oe=()=>{if(ae.value===0&&Fe.value===0)Ne();else{const P=setInterval(()=>{clearInterval(P);const R=setInterval(()=>{U.value<ae.value?(w.value=7,U.value++,o.value++):qe.value<Fe.value?(w.value=8,Me.value++,v.value++):(w.value=0,Ne(),clearInterval(R))},50)},555)}},Ne=()=>{const P=setInterval(()=>{if(clearInterval(P),o.value>v.value)w.value=9;else if(o.value<v.value)w.value=10;else if(o.value===v.value){w.value=11;const R=setInterval(()=>{clearInterval(R),V.value>De.value?w.value=12:De.value>V.value&&(w.value=13)},777)}},777);G.value=!0};Ca(async()=>{_e(),await Be()});const _e=()=>{Y.value=Ee(l.value.wonderCards),V.value=we(l.value.cards.blue),h.value=we(l.value.cards.yellow),re.value=we(l.value.cards.green),o.value=Y.value+V.value+h.value+re.value,Ie.value=Math.floor(l.value.resources.cash/3),Ce.value=de(l.value.cards.purple.map(P=>P.valuePower[0])),z.value=Le(l.value.resources.coins),ae.value=k.value.pawn<=-6&&10||k.value.pawn<=-3&&5||k.value.pawn<=-1&&2||0,B.value=Ee(t.value.wonderCards),De.value=we(t.value.cards.blue),A.value=we(t.value.cards.yellow),L.value=we(t.value.cards.green),v.value=B.value+De.value+A.value+L.value,Ke.value=Math.floor(t.value.resources.cash/3),ke.value=de(t.value.cards.purple.map(P=>P.valuePower[0])),Oe.value=Le(t.value.resources.coins),Fe.value=k.value.pawn>=6&&10||k.value.pawn>=3&&5||k.value.pawn>=1&&2||0,X.value=!0},Be=async()=>{const P=o.value+Ie.value+Ce.value+z.value+ae.value,R=v.value+Ke.value+ke.value+Oe.value+Fe.value;P>R?await C(n,{wonByPoints:l.value.user.uid}):P<R?await C(n,{wonByPoints:t.value.user.uid}):V.value>De.value?await C(n,{wonByPoints:l.value.user.uid}):V.value<De.value?await C(n,{wonByPoints:t.value.user.uid}):await C(n,{wonByPoints:"draw"})},Ee=P=>{let R=0;return P.forEach(le=>{le.power.find((K,q)=>K==="points"?(le.activated!=="none"&&(R+=le.valuePower[q]),!0):null)}),R},we=P=>{let R=0;return P.forEach(le=>{le.power.find((K,q)=>K==="points"?(R+=le.valuePower[q],!0):null)}),R},de=P=>{let R=0;return P.forEach(le=>{if(le===1){const K=l.value.cards.yellow.length,q=t.value.cards.yellow.length;R+=K>q?K:q}if(le===2){const K=l.value.cards.brown.length+l.value.cards.grey.length,q=t.value.cards.brown.length+t.value.cards.grey.length;R+=K>q?K:q}if(le===3){const K=l.value.wonderCards.length,q=t.value.wonderCards.length;R+=K>q?K*2:q*2}if(le===4){const K=l.value.cards.blue.length,q=t.value.cards.blue.length;R+=K>q?K:q}if(le===5){const K=l.value.cards.green.length,q=t.value.cards.green.length;R+=K>q?K:q}if(le===6){const K=Math.floor(l.value.resources.cash/3),q=Math.floor(t.value.resources.cash/3);R+=K>q?K:q}if(le===7){const K=l.value.cards.red.length,q=t.value.cards.red.length;R+=K>q?K:q}}),R},Le=P=>{let R=0;return P.forEach(le=>{le==="point4n6cash"&&(R+=4),le==="point7"&&(R+=7),le==="pointX3"&&(R+=3*P.length)}),R};return(P,R)=>{const le=ia("ion-icon");return u(),g("section",er,[r("p",{style:ue(w.value===9||w.value===12?"font-weight: bold;":"")},[Ue(b(`${e(l).user.displayName||e(l).user.email}`),1),w.value===9||w.value===12?(u(),H(le,{key:0,class:"animateHand marginLeft",name:"thumbs-up-sharp"})):Z("",!0)],4),r("div",ar,[r("div",sr,[rr,r("p",null,b(`${Y.value}`),1)]),r("div",lr,[tr,r("p",{class:W([w.value===12&&"animatePulse"])},b(`${V.value}`),3)]),r("div",or,[ir,r("p",null,b(`${h.value}`),1)]),r("div",nr,[ur,r("p",null,b(`${re.value}`),1)]),r("div",cr,[dr,r("p",{class:W([w.value===1&&"scalePlus"])},b(`${me.value}`),3)]),r("div",vr,[pr,r("p",{class:W([w.value===3&&"scalePlus"])},b(`${ye.value}`),3)]),r("div",hr,[yr,r("p",{class:W([w.value===5&&"scalePlus"])},b(`${E.value}`),3)]),r("div",fr,[wr,r("p",{class:W([w.value===7&&"scalePlus"])},b(`${U.value}`),3)]),r("div",mr,[Cr,r("p",{class:W([(w.value===9||w.value>=11)&&"animatePulse"])},b(`${o.value}`),3)])]),r("p",{style:ue(w.value===10||w.value===13?"font-weight: bold;":"")},[Ue(b(`${e(t).user.displayName||e(t).user.email}`),1),w.value===10||w.value===13?(u(),H(le,{key:0,class:"animateHand marginLeft",name:"thumbs-up-sharp"})):Z("",!0)],4),r("div",kr,[r("div",gr,[br,r("p",null,b(`${B.value}`),1)]),r("div",Pr,[Ir,r("p",{class:W([w.value===13&&"animatePulse"])},b(`${De.value}`),3)]),r("div",_r,[Br,r("p",null,b(`${A.value}`),1)]),r("div",$r,[Gr,r("p",null,b(`${L.value}`),1)]),r("div",Tr,[Wr,r("p",{class:W([w.value===2&&"scalePlus"])},b(`${fe.value}`),3)]),r("div",Ar,[Sr,r("p",{class:W([w.value===4&&"scalePlus"])},b(`${be.value}`),3)]),r("div",Dr,[Or,r("p",{class:W([w.value===6&&"scalePlus"])},b(`${Me.value}`),3)]),r("div",Mr,[Fr,r("p",{class:W([w.value===8&&"scalePlus"])},b(`${qe.value}`),3)]),r("div",Er,[Rr,r("p",{class:W([(w.value===10||w.value>=11)&&"animatePulse"])},b(`${v.value}`),3)])])])}}});const Nr=Te(Vr,[["__scopeId","data-v-ffe6e25e"]]),Lr={class:"header"},Hr={class:"wrapper"},jr={key:0,class:"loading"},Xr={key:1,class:"cards cardsWonderPrepre"},Yr={key:0,class:"pickWonders"},zr={key:1,class:"pickWonders"},Ur={key:2,class:"cards cardsTier"},Kr={key:3,class:"cards cardsTier"},qr={key:4,class:"cards cardsTier"},Jr={key:6,class:"playerAction"},Qr=["disabled"],Zr=["disabled"],xr=["disabled"],el={key:7,class:"playerAction"},al={style:"font-weight: bold;"},sl={key:8,class:"playerAction"},rl={style:"font-weight: bold;"},ll={key:9,class:"playerAction"},tl={style:"font-weight: bold;"},ol={key:10,class:"playerAction"},il={style:"font-weight: bold;"},nl={key:11,class:"playerAction"},ul={key:12,class:"playerAction"},cl={key:13,class:"playerAction"},dl={key:14,class:"playerAction"},vl={key:15,class:"playerAction"},pl={key:16,class:"playerAction"},hl={key:17,class:"playerAction"},yl={key:18,class:"playerAction"},fl={key:19,class:"playerAction"},wl=Ge({__name:"TheDuelGameBoard",setup(s){ya("showPrice",Pe),ya("wonderCardSelected",Ma);const i=d("Duel Game"),a=d("Buy for"),l=d("Sell for"),t=d("Build Wonder"),f=d("Go Back"),k=d("Who Starts?"),G=d("Pick Coin!"),m=d("Pick one Coin of three!"),n=d("Pick card from graveyard!"),o=d("Pick Wonder!"),v=d("Opponent Need To Pick Wonder..."),X=d("Destroy Enemy Card!"),w=d("Winner By Artefacts: "),N=d("Winner By Aggressive: "),O=d("Winner By Surrender: "),Y=d("Winner By Points: "),V=d(new Audio(Za)),h=d(new Audio(Ga)),re=d(new Audio(Ta));V.value.volume=.66,h.value.volume=.66,re.value.volume=.66;const Ie=d(20),me=d(xa(function(){Xe.push("/feed")},Ie.value*1e3)),Ce=Ua(),{duel:ye}=Re(Ce),z=je(),{tierOneCards:E,tierTwoCards:ae,tierThreeCards:U,wonderCards:B,graveyard:De,player1:A,player2:L,board:Ke,turn:fe,tier:ke,move:be,theRestOfCoins:Oe,pickCoin:Me,pickCoinOfThree:Fe,pickCardFromGraveyard:qe,destroyBrown:aa,destroyGrey:Je,selectWondersForPlayers:Qe,selectWondersForPlayersMove:oe,chooseWhoWillStart:Ne,wonByArt:_e,wonByAggressive:Be,wonBySurr:Ee,wonByPoints:we,selectedCard:de,selectedWonder:Le,isLoading:P,endGameAnimationEnd:R}=Re(z),le=Ze(ea,"users"),K=Ze(ea,"gameStatus"),q=xe(K,"Duel"),Wa=Ze(ea,"gameDuel"),ie=xe(Wa,"table1"),te=d({}),Xe=Ka(),ce=d(!1),Ye=d(!1),J=sa(()=>fe.value===te.value.uid),va=sa(()=>{var c,p,T,Q;return((c=B.value[0])==null?void 0:c.taken)&&((p=B.value[1])==null?void 0:p.taken)&&((T=B.value[2])==null?void 0:T.taken)&&((Q=B.value[3])==null?void 0:Q.taken)}),ze=sa(()=>{var c;return(c=de.value)!=null&&c.id?Pe(de.value,`${te.value.uid}`):-1}),Aa=sa(()=>{if(!J.value||!de.value.id)return!1;if(te.value.uid===A.value.user.uid)if(A.value.wonderCards.find(c=>c.activated==="none")){let c=!1;return A.value.wonderCards.forEach(p=>{let T=Pe(p,`${te.value.uid}`);p.activated==="none"&&T<=A.value.resources.cash&&(c=!0)}),c}else return!1;else if(L.value.wonderCards.find(c=>c.activated==="none")){let c=!1;return L.value.wonderCards.forEach(p=>{let T=Pe(p,`${te.value.uid}`);p.activated==="none"&&T<=L.value.resources.cash&&(c=!0)}),c}else return!1});Ae([()=>Le.value,()=>de.value],()=>{var c,p;(!((c=Le.value)!=null&&c.id)||!((p=de.value)!=null&&p.id))&&(Ye.value=!1)}),Ae(()=>L.value.wonderCards,async()=>{P.value=!0,L.value.wonderCards.length===4&&be.value===0&&(await C(ie,{tier:"I"}),ce.value=!0),P.value=!1}),Ae(()=>oe.value,async c=>{if(c===3||c===7){const p=B.value.find(T=>T.taken===!1);p&&await We(p.id)}}),Ae(()=>be.value,async()=>{ce.value=!0,fe.value===te.value.uid&&V.value.play(),be.value>=20&&be.value<40&&(P.value=!0,await C(ie,{tier:"II"}),Ne.value&&J.value&&(ce.value=!1),P.value=!1),be.value>=40&&be.value<60&&(P.value=!0,await C(ie,{tier:"III"}),Ne.value&&J.value&&(ce.value=!1),P.value=!1),be.value===60&&(P.value=!0,ce.value=!1,await C(ie,{tier:"end"}),P.value=!1)}),Ae([()=>_e.value,()=>Be.value,()=>Ee.value,()=>we.value],async([c,p,T,Q])=>{(T!==""||c!==""||p!==""||Q!=="")&&(T!==""&&(T===te.value.uid?h.value.play():re.value.play()),c!==""&&(c===te.value.uid?h.value.play():re.value.play()),p!==""&&(p===te.value.uid?h.value.play():re.value.play()),await Ce.deleteGameDuel(),me.value())}),Ae([()=>R.value],([c])=>{c&&(we.value==="draw"&&h.value.play(),we.value!==""&&(we.value===te.value.uid?h.value.play():re.value.play()))}),Ca(async()=>{var $,ne,M;P.value=!0;let c=!1;await Ce.subFirebaseConnect();const p=await ra(q);if(await qa().then(async I=>{if(I)if(p.exists()){const y=p.data().players.find(S=>S.uid===I.uid);y?(te.value={uid:y.uid,email:y.email,displayName:y.displayName,game:y.game,readyToGame:y.readyToGame,timestamp:y.timestamp,online:y.online},(y.game!=="Duel"||!y.readyToGame)&&(P.value=!1,c=!0)):(P.value=!1,c=!0)}else{const y=await ra(xe(le,I.uid));y.exists()?y.data().game!=="Duel"&&(P.value=!1,c=!0):(P.value=!1,c=!0)}}),c)return Xe.push("/feed"),null;const T=He(Ia,10),Q=He(_a,8),F=await ra(ie);if(F.exists())console.log("Document data:",F.data()),!(($=F.data())!=null&&$.player2.user.uid)&&((ne=F.data())==null||ne.player1.user.uid,te.value.uid);else{if(p.exists()&&p.data().players[0].uid===te.value.uid){const y=p.data().players;await Ja(ie,{player1:{...new ta,user:y[0]},player2:{...new ta,user:y[1]},selectWondersForPlayers:[y[0].uid,y[1].uid,y[1].uid,y[0].uid,y[1].uid,y[0].uid,y[0].uid,y[1].uid,y[0].uid],selectWondersForPlayersMove:0,chooseWhoWillStart:!1,turn:te.value.uid,gameBoard:{...new $a,coins:[T[0],T[1],T[2],T[3],T[4]]},tierICards:ua(He(ka,20),"I"),tierIICards:ua(He(ga,20),"II"),tierIIICards:ua(He([...He(ba,17),...He(Pa,3)],20),"III"),wonderCards:Q,graveyard:[],theRestOfCoins:[T[5],T[6],T[7],T[8],T[9]],tier:"prepare",move:0,pickCoin:"",pickCoinOfThree:"",pickCardFromGraveyard:"",destroyBrown:"",destroyGrey:"",wonByArt:"",wonByAggressive:"",wonBySurr:"",wonByPoints:""})}const I=await ra(ie);I.exists()?console.log("Document data second time:",I.data()):console.log("No such document!")}await z.subFirebaseConnect(`${te.value.uid}`),(ke.value!=="prepare"||((M=F.data())==null?void 0:M.tier)!=="prepare")&&(ce.value=!0),Me.value!==""&&J.value?(ce.value=!1,de.value={}):Fe.value!==""&&J.value?(ce.value=!1,de.value={}):qe.value!==""&&J.value?(ce.value=!1,de.value={}):(aa.value!==""||Je.value!=="")&&J.value?(ce.value=!1,de.value={}):(_e.value!==""||Be.value!==""||Ee.value!==""||we.value!=="")&&(ce.value=!1,de.value={}),P.value=!1}),Qa(async()=>{me.value.cancel(),z.unSubFirebaseConnect(),Ce.unSubFirebaseConnect()});async function pa(c){P.value=!0,await z.upgradeTurnAndMove(`${c}`,!0),await C(ie,{chooseWhoWillStart:!1}),ce.value=!0,P.value=!1}function Pe(c,p){if(!(c!=null&&c.id))return-1;let T=0,Q=[],F=[],$=[],ne=!1;const M=A.value.resources,I=L.value.resources;return A.value.user.uid===p?(Q=[{type:"clay",val:M.clayOne?1:2+I.clayValue},{type:"brick",val:M.brickOne?1:2+I.brickValue},{type:"wood",val:M.woodOne?1:2+I.woodValue}],Q=Q.sort((y,S)=>S.val-y.val),F=[{type:"paper",val:M.paperGlassOne?1:2+I.paperValue},{type:"glass",val:M.paperGlassOne?1:2+I.glassValue}],F=F.sort((y,S)=>S.val-y.val),c.cost.forEach((y,S)=>{if(y==="specialChar")M.specialChars.find(_=>{if(_===c.valueCost[S])return ne=!0,!0});else if(y==="cash")T+=c.valueCost[S];else if(y==="clay"){let _=c.valueCost[S]-M.clayValue;if(_<=0)return null;for(let j=0;j<_;j++)$.push("clay")}else if(y==="brick"){let _=c.valueCost[S]-M.brickValue;if(_<=0)return null;for(let j=0;j<_;j++)$.push("brick")}else if(y==="wood"){let _=c.valueCost[S]-M.woodValue;if(_<=0)return null;for(let j=0;j<_;j++)$.push("wood")}else if(y==="paper"){let _=c.valueCost[S]-M.paperValue;if(_<=0)return null;for(let j=0;j<_;j++)$.push("paper")}else if(y==="glass"){let _=c.valueCost[S]-M.glassValue;if(_<=0)return null;for(let j=0;j<_;j++)$.push("glass")}})):(Q=[{type:"clay",val:I.clayOne?1:2+M.clayValue},{type:"brick",val:I.brickOne?1:2+M.brickValue},{type:"wood",val:I.woodOne?1:2+M.woodValue}],Q=Q.sort((y,S)=>S.val-y.val),F=[{type:"paper",val:I.paperGlassOne?1:2+M.paperValue},{type:"glass",val:I.paperGlassOne?1:2+M.glassValue}],F=F.sort((y,S)=>S.val-y.val),c.cost.forEach((y,S)=>{if(y==="specialChar")I.specialChars.find(_=>{if(_===c.valueCost[S])return ne=!0,!0});else if(y==="cash")T+=c.valueCost[S];else if(y==="clay"){let _=c.valueCost[S]-I.clayValue;if(_<=0)return null;for(let j=0;j<_;j++)$.push("clay")}else if(y==="brick"){let _=c.valueCost[S]-I.brickValue;if(_<=0)return null;for(let j=0;j<_;j++)$.push("brick")}else if(y==="wood"){let _=c.valueCost[S]-I.woodValue;if(_<=0)return null;for(let j=0;j<_;j++)$.push("wood")}else if(y==="paper"){let _=c.valueCost[S]-I.paperValue;if(_<=0)return null;for(let j=0;j<_;j++)$.push("paper")}else if(y==="glass"){let _=c.valueCost[S]-I.glassValue;if(_<=0)return null;for(let j=0;j<_;j++)$.push("glass")}})),$=Sa($,Q,F,p),(c==null?void 0:c.color)==="blue"&&(A.value.user.uid===p?A.value.resources.coins.find(y=>y==="lowCostBlue")&&($.shift(),$.shift()):L.value.resources.coins.find(y=>y==="lowCostBlue")&&($.shift(),$.shift())),c!=null&&c.activated&&(A.value.user.uid===p?A.value.resources.coins.find(y=>y==="lowCostWonder")&&($.shift(),$.shift()):L.value.resources.coins.find(y=>y==="lowCostWonder")&&($.shift(),$.shift())),$.forEach(y=>{var S,_;T+=((S=Q.find(({type:j})=>j===y))==null?void 0:S.val)||((_=F.find(({type:j})=>j===y))==null?void 0:_.val)||0}),ne?0:T}function Sa(c,p,T,Q){let F=c;const $=A.value.resources,ne=L.value.resources;if(A.value.user.uid===Q){for(let M=0;M<$.materialsCBW;M++){let I=!1,y=0;F.find((S,_)=>S===p[0].type?(I=!0,y=_,!0):!1),I?F.splice(y,1):(F.find((S,_)=>S===p[1].type?(I=!0,y=_,!0):!1),I?F.splice(y,1):(F.find((S,_)=>S===p[2].type?(I=!0,y=_,!0):!1),I&&F.splice(y,1)))}for(let M=0;M<$.materialsPG;M++){let I=!1,y=0;F.find((S,_)=>S===T[0].type?(I=!0,y=_,!0):!1),I?F.splice(y,1):(F.find((S,_)=>S===T[1].type?(I=!0,y=_,!0):!1),I&&F.splice(y,1))}}else{for(let M=0;M<ne.materialsCBW;M++){let I=!1,y=0;F.find((S,_)=>S===p[0].type?(I=!0,y=_,!0):!1),I?F.splice(y,1):(F.find((S,_)=>S===p[1].type?(I=!0,y=_,!0):!1),I?F.splice(y,1):(F.find((S,_)=>S===p[2].type?(I=!0,y=_,!0):!1),I&&F.splice(y,1)))}for(let M=0;M<ne.materialsPG;M++){let I=!1,y=0;F.find((S,_)=>S===T[0].type?(I=!0,y=_,!0):!1),I?F.splice(y,1):(F.find((S,_)=>S===T[1].type?(I=!0,y=_,!0):!1),I&&F.splice(y,1))}}return F}const We=async c=>{if(!J.value||Ee.value!=="")return null;P.value=!0;const p=setTimeout(()=>{clearTimeout(p),Da(c),P.value=!0},500)};async function Da(c){let p={};const T=B.value.map(Q=>Q.id===c?(p={...Q,taken:!0},p):Q);fe.value===A.value.user.uid?await C(ie,{player1:{...A.value,wonderCards:[...A.value.wonderCards,{...p}]},wonderCards:T,selectWondersForPlayersMove:x(1),turn:`${Qe.value[oe.value+1]}`}):await C(ie,{player2:{...L.value,wonderCards:[...L.value.wonderCards,{...p}]},wonderCards:T,selectWondersForPlayersMove:x(1),turn:`${Qe.value[oe.value+1]}`})}const na=c=>{if(!J.value||Ne.value||_e.value||Be.value)return null;if(de.value={},Le.value={},Ye.value=!1,!(c.coversBy&&c.coversBy.length>0)){if(c.taken!=="inGame")return;de.value=c}},Oa=()=>{if(!J.value)return null;Ye.value=!0};function Ma(c,p){if(!J.value)return null;let T=Pe(c,`${te.value.uid}`);if(T>p)return null;Le.value=c,ce.value=!1,z.setCardToWonder(T)}const Fa=async c=>{P.value=!0,ce.value=!1;let p=0;switch(c){case"point4n6cash":p+=6;break;case"cash6n4special":p+=6;break}fe.value===A.value.user.uid?(await C(ie,{"gameBoard.coins":Se(c),"player1.resources.coins":la(c),pickCoin:""}),p!==0&&await C(ie,{"player1.resources.cash":x(6)})):(await C(ie,{"gameBoard.coins":Se(c),"player2.resources.coins":la(c),pickCoin:""}),p!==0&&await C(ie,{"player2.resources.cash":x(6)})),z.countArtefacts(fe.value),_e.value===""&&Be.value===""&&Me.value===""&&z.upgradeTurnAndMove(fe.value===A.value.user.uid?`${L.value.user.uid}`:`${A.value.user.uid}`),P.value=!1},Ea=async c=>{P.value=!0,ce.value=!1;let p=0;switch(c){case"point4n6cash":p+=6;break;case"cash6n4special":p+=6;break}fe.value===A.value.user.uid?(await C(ie,{"gameBoard.coins":Se(c),"player1.resources.coins":la(c),pickCoinOfThree:""}),p!==0&&await C(ie,{"player1.resources.cash":x(6)})):(await C(ie,{"gameBoard.coins":Se(c),"player2.resources.coins":la(c),pickCoinOfThree:""}),p!==0&&await C(ie,{"player2.resources.cash":x(6)})),z.countArtefacts(fe.value),_e.value===""&&Be.value===""&&Fe.value===""&&(fe.value===A.value.user.uid?A.value.resources.coins.find(T=>T==="repeatWonder")?z.upgradeTurnAndMove(`${A.value.user.uid}`):z.upgradeTurnAndMove(`${L.value.user.uid}`):L.value.resources.coins.find(T=>T==="repeatWonder")?z.upgradeTurnAndMove(`${L.value.user.uid}`):z.upgradeTurnAndMove(`${A.value.user.uid}`)),P.value=!1},Ra=async c=>{P.value=!0,ce.value=!1,await C(ie,{graveyard:Se(c),pickCardFromGraveyard:""}),de.value=c,await z.setCardTaken(0,c.tier),P.value=!1},Va=async(c,p)=>{P.value=!0,ce.value=!1,p==="brown"?await C(ie,{destroyBrown:""}):await C(ie,{destroyGrey:""}),de.value=c,await z.setCardGraveyard(c.tier),P.value=!1};async function Na(c){var T;const p=(T=ye.value.players.find(Q=>Q.uid!==c.uid))==null?void 0:T.uid;await C(ie,{wonBySurr:p}),ce.value=!1}return(c,p)=>{var Q,F;const T=ia("ion-icon");return u(),g("main",null,[r("header",Lr,[r("h1",null,b(i.value),1)]),r("section",Hr,[e(P)?(u(),g("div",jr,[he(es)])):Z("",!0),he(ys,{user:te.value,isMyTurn:J.value,onCoinSelected:Fa},null,8,["user","isMyTurn"]),he(ws,{isMyTurn:J.value,onPickCardFromGraveyard:Ra},null,8,["isMyTurn"]),he(_s,{user:te.value,onPrepareGameToRemoveFromDb:Na},null,8,["user"]),he(xs,{user:te.value,isMyTurn:J.value,selectWonderCard:Ye.value,onDestrooyEnemyCardSelected:Va},null,8,["user","isMyTurn","selectWonderCard"]),e(ke)==="prepare"?(u(),g("section",Xr,[va.value?Z("",!0):(u(),g("div",Yr,[e(B)[0]&&!e(B)[0].taken?(u(),H($e,{key:0,card:e(B)[0],onClick:p[0]||(p[0]=()=>e(B)[0].taken||e(oe)===3||e(oe)===7?null:We(e(B)[0].id))},null,8,["card"])):Z("",!0),e(B)[1]&&!e(B)[1].taken?(u(),H($e,{key:1,card:e(B)[1],onClick:p[1]||(p[1]=()=>e(B)[1].taken||e(oe)===3||e(oe)===7?null:We(e(B)[1].id))},null,8,["card"])):Z("",!0),e(B)[2]&&!e(B)[2].taken?(u(),H($e,{key:2,card:e(B)[2],onClick:p[2]||(p[2]=()=>e(B)[2].taken||e(oe)===3||e(oe)===7?null:We(e(B)[2].id))},null,8,["card"])):Z("",!0),e(B)[3]&&!e(B)[3].taken?(u(),H($e,{key:3,card:e(B)[3],onClick:p[3]||(p[3]=()=>e(B)[3].taken||e(oe)===3||e(oe)===7?null:We(e(B)[3].id))},null,8,["card"])):Z("",!0)])),va.value?(u(),g("div",zr,[e(B)[4]&&!e(B)[4].taken?(u(),H($e,{key:0,card:e(B)[4],onClick:p[4]||(p[4]=()=>e(B)[4].taken||e(oe)===3||e(oe)===7?null:We(e(B)[4].id))},null,8,["card"])):Z("",!0),e(B)[5]&&!e(B)[5].taken?(u(),H($e,{key:1,card:e(B)[5],onClick:p[5]||(p[5]=()=>e(B)[5].taken||e(oe)===3||e(oe)===7?null:We(e(B)[5].id))},null,8,["card"])):Z("",!0),e(B)[6]&&!e(B)[6].taken?(u(),H($e,{key:2,card:e(B)[6],onClick:p[6]||(p[6]=()=>e(B)[6].taken||e(oe)===3||e(oe)===7?null:We(e(B)[6].id))},null,8,["card"])):Z("",!0),e(B)[7]&&!e(B)[7].taken?(u(),H($e,{key:3,card:e(B)[7],onClick:p[7]||(p[7]=()=>e(B)[7].taken||e(oe)===3||e(oe)===7?null:We(e(B)[7].id))},null,8,["card"])):Z("",!0)])):Z("",!0)])):Z("",!0),e(ke)==="I"?(u(),g("section",Ur,[(u(!0),g(ee,null,se(e(E),($,ne)=>{var M,I;return u(),H(ca,{key:ne,card:$,user:te.value,x:e(Ba)[ne],y:e(as)[ne],reversColor:"rgb(145, 19, 19)",cash1P:((M=$.coversBy)==null?void 0:M.length)===0?Pe($,`${e(A).user.uid}`):-1,cash2P:((I=$.coversBy)==null?void 0:I.length)===0?Pe($,`${e(L).user.uid}`):-1,onClick:y=>na($)},null,8,["card","user","x","y","reversColor","cash1P","cash2P","onClick"])}),128))])):Z("",!0),e(ke)==="II"?(u(),g("section",Kr,[(u(!0),g(ee,null,se(e(ae),($,ne)=>{var M,I;return u(),H(ca,{key:ne,card:$,user:te.value,x:e(rs)[ne],y:e(ss)[ne],reversColor:"rgb(58, 59, 160)",cash1P:((M=$.coversBy)==null?void 0:M.length)===0?Pe($,`${e(A).user.uid}`):-1,cash2P:((I=$.coversBy)==null?void 0:I.length)===0?Pe($,`${e(L).user.uid}`):-1,onClick:y=>na($)},null,8,["card","user","x","y","reversColor","cash1P","cash2P","onClick"])}),128))])):Z("",!0),e(ke)==="III"?(u(),g("section",qr,[(u(!0),g(ee,null,se(e(U),($,ne)=>{var M,I;return u(),H(ca,{key:ne,card:$,user:te.value,x:e(ts)[ne],y:e(ls)[ne],reversColor:$.tier==="guild"?"rgb(107, 36, 128)":"rgb(175, 85, 202)",cash1P:((M=$.coversBy)==null?void 0:M.length)===0?Pe($,`${e(A).user.uid}`):-1,cash2P:((I=$.coversBy)==null?void 0:I.length)===0?Pe($,`${e(L).user.uid}`):-1,onClick:y=>na($)},null,8,["card","user","x","y","reversColor","cash1P","cash2P","onClick"])}),128))])):Z("",!0),e(ke)==="end"?(u(),H(Nr,{key:5,class:"cards",user:te.value},null,8,["user"])):Z("",!0),ce.value&&((Q=e(de))!=null&&Q.id)&&!e(P)?(u(),g("section",Jr,[r("button",{disabled:ze.value<0||!J.value||(e(fe)===e(A).user.uid?ze.value>e(A).resources.cash:ze.value>e(L).resources.cash),class:"customButton",onClick:p[8]||(p[8]=()=>J.value?(e(z).setCardTaken(ze.value),Ye.value=!1,ce.value=!1):null)},b(`${a.value} ${ze.value>=0?ze.value:""}`),9,Qr),r("button",{disabled:!((F=e(de))!=null&&F.id),class:"customButton",onClick:p[9]||(p[9]=()=>J.value?(e(z).setCardGraveyard(),Ye.value=!1,ce.value=!1):null)},b(l.value+` ${e(fe)===e(A).user.uid?e(A).cards.yellow.length+2:e(L).cards.yellow.length+2}`),9,Zr),r("button",{disabled:!Aa.value,class:"customButton",onClick:p[10]||(p[10]=()=>J.value?Oa():null)},b(t.value),9,xr)])):e(_e)!==""?(u(),g("section",el,[r("p",al,[Ue(b(w.value+`${e(_e)===e(A).user.uid?e(A).user.displayName||e(A).user.email:e(L).user.displayName||e(L).user.email}`),1),he(T,{class:"animateHand",name:"thumbs-up-sharp"})]),r("button",{class:"customButton",onClick:p[11]||(p[11]=()=>(me.value.cancel(),e(Xe).push("/feed")))},b(f.value),1)])):e(Be)!==""?(u(),g("section",sl,[r("p",rl,[Ue(b(N.value+`${e(Be)===e(A).user.uid?e(A).user.displayName||e(A).user.email:e(L).user.displayName||e(L).user.email}`),1),he(T,{class:"animateHand",name:"thumbs-up-sharp"})]),r("button",{class:"customButton",onClick:p[12]||(p[12]=()=>(me.value.cancel(),e(Xe).push("/feed")))},b(f.value),1)])):e(Ee)!==""?(u(),g("section",ll,[r("p",tl,[Ue(b(O.value+`${e(Ee)===e(A).user.uid?e(A).user.displayName||e(A).user.email:e(L).user.displayName||e(L).user.email}`),1),he(T,{class:"animateHand",name:"thumbs-up-sharp"})]),r("button",{class:"customButton",onClick:p[13]||(p[13]=()=>(me.value.cancel(),e(Xe).push("/feed")))},b(f.value),1)])):e(we)!==""&&e(R)?(u(),g("section",ol,[r("p",il,[Ue(b(Y.value+`${e(we)==="draw"?"DRAW":e(we)===e(A).user.uid?e(A).user.displayName||e(A).user.email:e(L).user.displayName||e(L).user.email}`),1),he(T,{class:"animateHand",name:"thumbs-up-sharp"})]),r("button",{class:"customButton",onClick:p[14]||(p[14]=()=>(me.value.cancel(),e(Xe).push("/feed")))},b(f.value),1)])):J.value&&e(Ne)&&!e(P)?(u(),g("section",nl,[r("button",{class:"customButton",onClick:p[15]||(p[15]=async()=>await pa(`${e(A).user.uid}`))},b(e(A).user.displayName),1),r("p",null,b(` ${k.value} `),1),r("button",{class:"customButton",onClick:p[16]||(p[16]=async()=>await pa(`${e(L).user.uid}`))},b(e(L).user.displayName),1)])):J.value&&e(Me)!==""&&!e(P)?(u(),g("section",ul,[r("p",null,b(G.value),1)])):J.value&&e(Fe)!==""&&!e(P)?(u(),g("section",cl,[r("p",null,b(m.value),1),(u(),g(ee,null,se(3,$=>he(oa,{class:W("selectCardOfThreeBorder"),key:e(Oe)[$],coin:e(Oe)[$],onClick:ne=>Ea(e(Oe)[$])},null,8,["coin","onClick"])),64))])):J.value&&e(qe)!==""&&!e(P)?(u(),g("section",dl,[r("p",null,b(n.value),1)])):J.value&&e(aa)!==""&&!e(P)?(u(),g("section",vl,[r("p",null,b(X.value),1)])):J.value&&e(Je)!==""&&!e(P)?(u(),g("section",pl,[r("p",null,b(X.value),1)])):J.value&&e(ke)==="prepare"&&!e(P)?(u(),g("section",hl,[r("p",null,b(o.value),1)])):!J.value&&e(ke)==="prepare"&&!e(P)?(u(),g("section",yl,[r("p",null,b(v.value),1)])):(u(),g("section",fl))])])}}});const gl=Te(wl,[["__scopeId","data-v-16023229"]]);export{gl as default};
