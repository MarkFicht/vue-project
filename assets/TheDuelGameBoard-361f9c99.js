var Ns=Object.defineProperty;var Ls=(r,u,s)=>u in r?Ns(r,u,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[u]=s;var pe=(r,u,s)=>(Ls(r,typeof u!="symbol"?u+"":u,s),s);import{d as be,r as g,t as We,D as Ke,x as Ye,o as a,c as t,u as e,n as Y,b as y,e as w,N as F,z as K,G as R,O as N,y as L,f as Q,a as i,p as ls,h as os,_ as ge,k as Xe,m as De,P as js,l as He,Q as xs,A as b,R as oe,S as me,s as Te,w as Oe,T as Xs,j as fs,I as ws,g as Hs,i as Us,U as Le,q as zs,K as je,J as Ks,V as Ge,L as Ys,v as qs,B as xe,C as Js,W as Qs}from"./index-e4763767.js";import{b as Zs,d as ea,L as sa}from"./debounce-79f0d2df.js";let bs=[],gs=[],_s=[],Ps=[],$s=[],Is=[];Is=[{id:1,taken:!1,activated:"none",cost:["brick","wood","clay","paper"],valueCost:[1,1,1,2],power:["attack","points","break"],valuePower:[1,3,1]},{id:2,taken:!1,activated:"none",cost:["brick","wood","glass"],valueCost:[2,1,1],power:["attack","points","break"],valuePower:[1,3,2]},{id:3,taken:!1,activated:"none",cost:["brick","clay","paper"],valueCost:[2,2,1],power:["effect","points","break","cash"],valuePower:[1,3,3,3]},{id:4,taken:!1,activated:"none",cost:["brick","clay","glass"],valueCost:[1,1,2],power:["effect","points"],valuePower:[1,6]},{id:5,taken:!1,activated:"none",cost:["wood","glass","paper"],valueCost:[2,1,1],power:["effect","points","cash"],valuePower:[1,3,6]},{id:6,taken:!1,activated:"none",cost:["clay","glass","paper"],valueCost:[2,2,1],power:["effect","points"],valuePower:[2,2]},{id:7,taken:!1,activated:"none",cost:["wood","brick","clay"],valueCost:[2,1,1],power:["effect","points","materials"],valuePower:[1,2,2]},{id:8,taken:!1,activated:"none",cost:["wood","glass","paper"],valueCost:[3,1,1],power:["effect","points"],valuePower:[3,4]},{id:9,taken:!1,activated:"none",cost:["brick","paper"],valueCost:[3,1],power:["points"],valuePower:[9]},{id:10,taken:!1,activated:"none",cost:["wood","brick","paper"],valueCost:[1,1,2],power:["materials","points"],valuePower:[1,4]},{id:11,taken:!1,activated:"none",cost:["wood","brick","glass","paper"],valueCost:[1,1,1,1],power:["effect","cash"],valuePower:[1,12]},{id:12,taken:!1,activated:"none",cost:["clay","glass"],valueCost:[3,1],power:["attack","points"],valuePower:[2,3]}];bs=[{tier:"I",taken:"inGame",hide:!1,color:"red",valueCost:[1],cost:["wood"],valuePower:[1,1],power:["attack","specialChar"]},{tier:"I",taken:"inGame",hide:!1,color:"red",valueCost:[1],cost:["clay"],valuePower:[1,2],power:["attack","specialChar"]},{tier:"I",taken:"inGame",hide:!1,color:"red",valueCost:[2],cost:["cash"],valuePower:[1,3],power:["attack","specialChar"]},{tier:"I",taken:"inGame",hide:!1,color:"red",valueCost:[],cost:[],valuePower:[1],power:["attack"]},{tier:"I",taken:"inGame",hide:!1,color:"green",valueCost:[2],cost:["cash"],valuePower:[1,4],power:["artefact","specialChar"]},{tier:"I",taken:"inGame",hide:!1,color:"green",valueCost:[2],cost:["cash"],valuePower:[2,5],power:["artefact","specialChar"]},{tier:"I",taken:"inGame",hide:!1,color:"green",valueCost:[1],cost:["paper"],valuePower:[3,1],power:["artefact","points"]},{tier:"I",taken:"inGame",hide:!1,color:"green",valueCost:[1],cost:["glass"],valuePower:[4,1],power:["artefact","points"]},{tier:"I",taken:"inGame",hide:!1,color:"blue",valueCost:[],cost:[],valuePower:[6,3],power:["specialChar","points"]},{tier:"I",taken:"inGame",hide:!1,color:"blue",valueCost:[],cost:[],valuePower:[7,3],power:["specialChar","points"]},{tier:"I",taken:"inGame",hide:!1,color:"blue",valueCost:[1],cost:["brick"],valuePower:[8,3],power:["specialChar","points"]},{tier:"I",taken:"inGame",hide:!1,color:"yellow",valueCost:[],cost:[],valuePower:[4,9],power:["cash","specialChar"]},{tier:"I",taken:"inGame",hide:!1,color:"yellow",valueCost:[3],cost:["cash"],valuePower:[1],power:["discount"]},{tier:"I",taken:"inGame",hide:!1,color:"yellow",valueCost:[3],cost:["cash"],valuePower:[2],power:["discount"]},{tier:"I",taken:"inGame",hide:!1,color:"yellow",valueCost:[3],cost:["cash"],valuePower:[3],power:["discount"]},{tier:"I",taken:"inGame",hide:!1,color:"brown",valueCost:[1],cost:["cash"],valuePower:[1],power:["clay"]},{tier:"I",taken:"inGame",hide:!1,color:"brown",valueCost:[1],cost:["cash"],valuePower:[1],power:["brick"]},{tier:"I",taken:"inGame",hide:!1,color:"brown",valueCost:[1],cost:["cash"],valuePower:[1],power:["wood"]},{tier:"I",taken:"inGame",hide:!1,color:"brown",valueCost:[],cost:[],valuePower:[1],power:["clay"]},{tier:"I",taken:"inGame",hide:!1,color:"brown",valueCost:[],cost:[],valuePower:[1],power:["brick"]},{tier:"I",taken:"inGame",hide:!1,color:"brown",valueCost:[],cost:[],valuePower:[1],power:["wood"]},{tier:"I",taken:"inGame",hide:!1,color:"grey",valueCost:[1],cost:["cash"],valuePower:[1],power:["paper"]},{tier:"I",taken:"inGame",hide:!1,color:"grey",valueCost:[1],cost:["cash"],valuePower:[1],power:["glass"]}];gs=[{tier:"II",taken:"inGame",hide:!1,color:"red",valueCost:[1,1,1],cost:["specialChar","wood","clay"],valuePower:[1],power:["attack"]},{tier:"II",taken:"inGame",hide:!1,color:"red",valueCost:[2,3],cost:["specialChar","cash"],valuePower:[1],power:["attack"]},{tier:"II",taken:"inGame",hide:!1,color:"red",valueCost:[1,1,1],cost:["brick","wood","paper"],valuePower:[2,10],power:["attack","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"red",valueCost:[2,1],cost:["clay","glass"],valuePower:[2,11],power:["attack","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"red",valueCost:[2],cost:["brick"],valuePower:[2],power:["attack"]},{tier:"II",taken:"inGame",hide:!1,color:"green",valueCost:[4,1,1,1],cost:["specialChar","brick","wood","glass"],valuePower:[1,2],power:["artefact","points"]},{tier:"II",taken:"inGame",hide:!1,color:"green",valueCost:[5,2,1],cost:["specialChar","clay","brick"],valuePower:[2,2],power:["artefact","points"]},{tier:"II",taken:"inGame",hide:!1,color:"green",valueCost:[2,1],cost:["wood","paper"],valuePower:[3,1,12],power:["artefact","points","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"green",valueCost:[2,1],cost:["wood","glass"],valuePower:[4,1,13],power:["artefact","points","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"blue",valueCost:[6,2],cost:["specialChar","clay"],valuePower:[4,14],power:["points","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"blue",valueCost:[7,1,1],cost:["specialChar","wood","paper"],valuePower:[4,15],power:["points","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"blue",valueCost:[8,3],cost:["specialChar","brick"],valuePower:[5],power:["points"]},{tier:"II",taken:"inGame",hide:!1,color:"blue",valueCost:[1,1],cost:["brick","wood"],valuePower:[4,16],power:["points","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"blue",valueCost:[2,1],cost:["wood","glass"],valuePower:[5],power:["points"]},{tier:"II",taken:"inGame",hide:!1,color:"yellow",valueCost:[],cost:[],valuePower:[6,17],power:["cash","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"yellow",valueCost:[3,1],cost:["cash","clay"],valuePower:[2],power:["materials"]},{tier:"II",taken:"inGame",hide:!1,color:"yellow",valueCost:[2,1,1],cost:["cash","paper","glass"],valuePower:[1],power:["materials"]},{tier:"II",taken:"inGame",hide:!1,color:"yellow",valueCost:[4],cost:["cash"],valuePower:[4],power:["discount"]},{tier:"II",taken:"inGame",hide:!1,color:"brown",valueCost:[2],cost:["cash"],valuePower:[2],power:["clay"]},{tier:"II",taken:"inGame",hide:!1,color:"brown",valueCost:[2],cost:["cash"],valuePower:[2],power:["brick"]},{tier:"II",taken:"inGame",hide:!1,color:"brown",valueCost:[2],cost:["cash"],valuePower:[2],power:["wood"]},{tier:"II",taken:"inGame",hide:!1,color:"grey",valueCost:[],cost:[],valuePower:[1],power:["paper"]},{tier:"II",taken:"inGame",hide:!1,color:"grey",valueCost:[],cost:[],valuePower:[1],power:["glass"]}];_s=[{tier:"III",taken:"inGame",hide:!1,color:"red",valueCost:[3,2,1,1],cost:["specialChar","brick","clay","paper"],valuePower:[2],power:["attack"]},{tier:"III",taken:"inGame",hide:!1,color:"red",valueCost:[10,3,1],cost:["specialChar","wood","glass"],valuePower:[2],power:["attack"]},{tier:"III",taken:"inGame",hide:!1,color:"red",valueCost:[11,2,2],cost:["specialChar","clay","brick"],valuePower:[2],power:["attack"]},{tier:"III",taken:"inGame",hide:!1,color:"red",valueCost:[3,2],cost:["clay","wood"],valuePower:[3],power:["attack"]},{tier:"III",taken:"inGame",hide:!1,color:"red",valueCost:[8],cost:["cash"],valuePower:[3],power:["attack"]},{tier:"III",taken:"inGame",hide:!1,color:"green",valueCost:[12,1,1,1],cost:["specialChar","clay","paper","glass"],valuePower:[5,2],power:["artefact","points"]},{tier:"III",taken:"inGame",hide:!1,color:"green",valueCost:[13,1,2],cost:["specialChar","brick","paper"],valuePower:[5,2],power:["artefact","points"]},{tier:"III",taken:"inGame",hide:!1,color:"green",valueCost:[1,1,2],cost:["brick","wood","glass"],valuePower:[6,3],power:["artefact","points"]},{tier:"III",taken:"inGame",hide:!1,color:"green",valueCost:[2,1,1],cost:["wood","paper","glass"],valuePower:[6,3],power:["artefact","points"]},{tier:"III",taken:"inGame",hide:!1,color:"blue",valueCost:[14,2,2],cost:["specialChar","clay","wood"],valuePower:[6],power:["points"]},{tier:"III",taken:"inGame",hide:!1,color:"blue",valueCost:[15,1,1,2],cost:["specialChar","clay","wood","paper"],valuePower:[6],power:["points"]},{tier:"III",taken:"inGame",hide:!1,color:"blue",valueCost:[16,2,1,1],cost:["specialChar","clay","brick","paper"],valuePower:[5],power:["points"]},{tier:"III",taken:"inGame",hide:!1,color:"blue",valueCost:[1,1,1,2],cost:["clay","brick","wood","glass"],valuePower:[7],power:["points"]},{tier:"III",taken:"inGame",hide:!1,color:"blue",valueCost:[3,2],cost:["brick","wood"],valuePower:[7],power:["points"]},{tier:"III",taken:"inGame",hide:!1,color:"blue",valueCost:[2,1],cost:["brick","glass"],valuePower:[5],power:["points"]},{tier:"III",taken:"inGame",hide:!1,color:"yellow",valueCost:[18,1,1,1],cost:["specialChar","clay","brick","wood"],valuePower:[3,1],power:["points","cashBack"]},{tier:"III",taken:"inGame",hide:!1,color:"yellow",valueCost:[17,2,1],cost:["specialChar","clay","glass"],valuePower:[3,2],power:["points","cashBack"]},{tier:"III",taken:"inGame",hide:!1,color:"yellow",valueCost:[2],cost:["paper"],valuePower:[3,3],power:["points","cashBack"]},{tier:"III",taken:"inGame",hide:!1,color:"yellow",valueCost:[1,1,1],cost:["wood","glass","paper"],valuePower:[3,4],power:["points","cashBack"]},{tier:"III",taken:"inGame",hide:!1,color:"yellow",valueCost:[2,1],cost:["brick","glass"],valuePower:[3,5],power:["points","cashBack"]}];Ps=[{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[1,1,1,1],cost:["clay","wood","paper","glass"],valuePower:[1],power:["guild"]},{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[1,1,1,1],cost:["clay","brick","paper","glass"],valuePower:[2],power:["guild"]},{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[2,1,1,1],cost:["brick","clay","wood","glass"],valuePower:[3],power:["guild"]},{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[2,1,1],cost:["wood","clay","paper"],valuePower:[4],power:["guild"]},{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[2,2],cost:["clay","wood"],valuePower:[5],power:["guild"]},{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[2,2],cost:["brick","wood"],valuePower:[6],power:["guild"]},{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[2,1,1],cost:["brick","clay","paper"],valuePower:[7],power:["guild"]}];$s=["artefact7","attack1","cash6n4special","cashBack","lowCostBlue","lowCostWonder","point4n6cash","point7","pointX3","repeatWonder"];const aa=[-200,-200,-135,-135,-135,-70,-70,-70,-70,-5,-5,-5,-5,-5,60,60,60,60,60,60],Bs=[-120,20,-190,-50,90,-260,-120,20,160,-330,-190,-50,90,230,-400,-260,-120,20,160,300],ra=[-200,-200,-200,-200,-200,-200,-135,-135,-135,-135,-135,-70,-70,-70,-70,-5,-5,-5,60,60],ta=[...Bs].reverse(),la=[-265,-265,-200,-200,-200,-135,-135,-135,-135,-70,-70,-5,-5,-5,-5,60,60,60,125,125],oa=[-120,20,-190,-50,90,-260,-120,20,160,-190,90,160,20,-120,-260,90,-50,-190,20,-120],ia=[3,4,5,10,11,12,13,14];function rs(r,u){let s=[];return u==="I"?s=r.map((l,n)=>{const k=n+1;let P=0;return n<2?P=2:n<5?P=3:n<9?P=4:n<14?P=5:n<20&&(P=0),{...l,id:k,coversBy:P!==0?[k+P,k+P+1]:[],hide:!!ia.find(T=>T===k)}}):u==="II"?(s[0]={...r[0],id:1,coversBy:[7]},s[1]={...r[1],id:2,coversBy:[7,8]},s[2]={...r[2],id:3,coversBy:[8,9]},s[3]={...r[3],id:4,coversBy:[9,10]},s[4]={...r[4],id:5,coversBy:[10,11]},s[5]={...r[5],id:6,coversBy:[11]},s[6]={...r[6],id:7,coversBy:[12],hide:!0},s[7]={...r[7],id:8,coversBy:[12,13],hide:!0},s[8]={...r[8],id:9,coversBy:[13,14],hide:!0},s[9]={...r[9],id:10,coversBy:[14,15],hide:!0},s[10]={...r[10],id:11,coversBy:[15],hide:!0},s[11]={...r[11],id:12,coversBy:[16]},s[12]={...r[12],id:13,coversBy:[16,17]},s[13]={...r[13],id:14,coversBy:[17,18]},s[14]={...r[14],id:15,coversBy:[18]},s[15]={...r[15],id:16,coversBy:[19],hide:!0},s[16]={...r[16],id:17,coversBy:[19,20],hide:!0},s[17]={...r[17],id:18,coversBy:[20],hide:!0},s[18]={...r[18],id:19,coversBy:[]},s[19]={...r[19],id:20,coversBy:[]}):u==="III"&&(s[0]={...r[0],id:1,coversBy:[3,4]},s[1]={...r[1],id:2,coversBy:[4,5]},s[2]={...r[2],id:3,coversBy:[6,7],hide:!0},s[3]={...r[3],id:4,coversBy:[7,8],hide:!0},s[4]={...r[4],id:5,coversBy:[8,9],hide:!0},s[5]={...r[5],id:6,coversBy:[10]},s[6]={...r[6],id:7,coversBy:[10]},s[7]={...r[7],id:8,coversBy:[11]},s[8]={...r[8],id:9,coversBy:[11]},s[9]={...r[9],id:10,coversBy:[14,15],hide:!0},s[10]={...r[10],id:11,coversBy:[12,13],hide:!0},s[11]={...r[11],id:12,coversBy:[16]},s[12]={...r[12],id:13,coversBy:[16,17]},s[13]={...r[13],id:14,coversBy:[17,18]},s[14]={...r[14],id:15,coversBy:[18]},s[15]={...r[15],id:16,coversBy:[19],hide:!0},s[16]={...r[16],id:17,coversBy:[19,20],hide:!0},s[17]={...r[17],id:18,coversBy:[20],hide:!0},s[18]={...r[18],id:19,coversBy:[]},s[19]={...r[19],id:20,coversBy:[]}),s}const ks=(r,u)=>{const s={...u.resources};if(r.color==="brown")switch(r.power[0]){case"clay":s.clayValue+=r.valuePower[0];break;case"brick":s.brickValue+=r.valuePower[0];break;case"wood":s.woodValue+=r.valuePower[0];break}else if(r.color==="grey")switch(r.power[0]){case"paper":s.paperValue+=r.valuePower[0];break;case"glass":s.glassValue+=r.valuePower[0];break}else r.color==="yellow"?r.power.forEach((l,n)=>{if(l==="points"&&(u.points+=r.valuePower[n]),l==="discount")switch(r.valuePower[n]){case 1:s.clayOne=1;break;case 2:s.brickOne=1;break;case 3:s.woodOne=1;break;case 4:s.paperGlassOne=1;break}if(l==="materials")switch(r.valuePower[n]){case 1:s.materialsCBW+=1;break;case 2:s.materialsPG+=1;break}if(l==="specialChar"&&s.specialChars.push(r.valuePower[n]),l==="cash"&&(s.cash+=r.valuePower[n]),l==="cashBack")switch(r.valuePower[n]){case 1:s.cash+=u.wonderCards.filter(k=>k.activated!=="none").length*2;break;case 2:s.cash+=u.cards.yellow.length+1;break;case 3:s.cash+=u.cards.grey.length*3;break;case 4:s.cash+=u.cards.brown.length*2;break;case 5:s.cash+=u.cards.red.length;break}}):r.color==="red"?r.power.forEach((l,n)=>{l==="specialChar"&&s.specialChars.push(r.valuePower[n])}):r.color==="green"?r.power.forEach((l,n)=>{l==="specialChar"&&s.specialChars.push(r.valuePower[n]),l==="artefact"&&s.artefacts.push(r.valuePower[n]),l==="points"&&(u.points+=r.valuePower[n])}):r.color==="blue"?r.power.forEach((l,n)=>{l==="points"&&(u.points+=r.valuePower[n]),l==="specialChar"&&s.specialChars.push(r.valuePower[n])}):r.color;return s},Cs=(r,u)=>{const s={...u};return s.wonderCards=s.wonderCards.map(l=>l.id===r.id?r:l),r.power.forEach((l,n)=>{if(l==="materials")switch(r.valuePower[n]){case 1:s.resources.materialsCBW+=1;break;case 2:s.resources.materialsPG+=1;break}else l==="cash"?s.resources.cash+=r.valuePower[n]:l==="points"&&(s.points+=r.valuePower[n])}),s},ce=r=>(ls("data-v-b9fb2cb4"),r=r(),os(),r),na={key:2,class:"specialChar"},ua={key:3,class:"standardPower"},ca={key:0,style:"margin-right: 1px;"},da={key:1},va={key:2},pa={key:3,class:"resources",style:"width: 100%;"},ha={key:4,class:"resources",style:"width: 100%;"},ya={key:5,class:"resources",style:"width: 100%;"},fa={key:6,class:"resources",style:"width: 100%;"},wa={key:7,class:"resources",style:"width: 100%;"},ka={key:8},Ca={key:9,class:"resources discount",style:"width: 100%;"},ma={key:0,class:"clay"},ba={key:1,class:"brick"},ga={key:2,class:"wood"},_a={key:3,class:"paper"},Pa={key:4,class:"glass"},$a=ce(()=>i("div",{class:"clay"},"c",-1)),Ia=ce(()=>i("div",{class:"brick"},"b",-1)),Ba=ce(()=>i("div",{class:"wood"},"w",-1)),Ga={key:11,class:"resources",style:"width: 100%;"},Ta=ce(()=>i("div",{class:"paper"},"p",-1)),Wa=ce(()=>i("div",{class:"glass"},"g",-1)),Aa={key:12},Ma={key:0},Oa={key:1},Sa=ce(()=>i("div",{class:"miniCard",style:"background: yellow"},null,-1)),Da={key:2},Fa=ce(()=>i("div",{class:"miniCard",style:"background: grey"},null,-1)),Ra={key:3},Va=ce(()=>i("div",{class:"miniCard",style:"background: brown"},null,-1)),Ea={key:4},Na=ce(()=>i("div",{class:"miniCard",style:"background: red"},null,-1)),La={key:13},ja={key:0},xa=ce(()=>i("div",{class:"miniCard",style:"background: yellow"},null,-1)),Xa={key:1},Ha=ce(()=>i("div",{class:"miniCard",style:"background: brown"},null,-1)),Ua=ce(()=>i("div",{class:"miniCard",style:"background: grey"},null,-1)),za={key:2},Ka={key:3},Ya=ce(()=>i("div",{class:"miniCard",style:"background: blue"},null,-1)),qa={key:4},Ja=ce(()=>i("div",{class:"miniCard",style:"background: green"},null,-1)),Qa={key:5},Za=ce(()=>i("div",{class:"cash"},y("3"),-1)),er={key:6},sr=ce(()=>i("div",{class:"miniCard",style:"background: red"},null,-1)),ar={key:4,class:"specialCharCost"},rr={key:5,class:"standardCost"},tr={key:0,class:"resources",style:"width: 100%;"},lr={class:"cash"},or={key:1,class:"resources",style:"width: 100%;"},ir={key:2,class:"resources",style:"width: 100%;"},nr={key:3,class:"resources",style:"width: 100%;"},ur={key:4,class:"resources",style:"width: 100%;"},cr={key:5,class:"resources",style:"width: 100%;"},dr=be({__name:"DuelGameCardComponent",props:{card:{},small:{type:Boolean},cash1P:{},cash2P:{},res1P:{},res2P:{}},setup(r){const u=r,s=g(0),l=g(0),n=g(0),k=g(0),P=g(0),T=g(0),C=g(0),d=g(0),o=g(0),m=g(0),U=g(0),D=g(0),W=g(0),x=g(0),ie=g(0),v=g(0),j=g(0),se=g(0),$e=g(0),ke=g(0),Z=g(0),de=g(""),{card:X}=We(u);return Ke(()=>{switch(X.value.power.forEach((re,q)=>{switch(re){case"points":s.value=X.value.valuePower[q];break;case"artefact":l.value=X.value.valuePower[q];break;case"attack":n.value=X.value.valuePower[q];break;case"clay":k.value=X.value.valuePower[q];break;case"brick":P.value=X.value.valuePower[q];break;case"wood":T.value=X.value.valuePower[q];break;case"paper":C.value=X.value.valuePower[q];break;case"glass":d.value=X.value.valuePower[q];break;case"cash":o.value=X.value.valuePower[q];break;case"specialChar":m.value=X.value.valuePower[q];break;case"discount":U.value=X.value.valuePower[q];break;case"materials":D.value=X.value.valuePower[q];break;case"cashBack":W.value=X.value.valuePower[q];break;case"guild":x.value=X.value.valuePower[q];break}}),X.value.cost.forEach((re,q)=>{switch(re){case"specialChar":ie.value=X.value.valueCost[q];break;case"clay":v.value=X.value.valueCost[q];break;case"brick":j.value=X.value.valueCost[q];break;case"wood":se.value=X.value.valueCost[q];break;case"paper":$e.value=X.value.valueCost[q];break;case"glass":ke.value=X.value.valueCost[q];break;case"cash":Z.value=X.value.valueCost[q];break}}),X.value.color){case"red":de.value="rgb(255, 39, 39)";break;case"green":de.value="rgb(14, 165, 14)";break;case"blue":de.value="rgb(74, 74, 252)";break;case"yellow":de.value="rgb(255, 255, 44)";break;case"brown":de.value="rgb(197, 69, 69)";break;case"grey":de.value="rgb(161, 161, 161)";break;case"purple":de.value="rgb(192, 23, 192)";break}}),(re,q)=>{var V,Je;const ve=Ye("ion-icon");return a(),t("div",{class:Y(["card",`card${e(X).id}`,re.small&&"small"]),style:Q(`--bgColor:${de.value};`)},[e(X).taken==="inGame"&&re.cash1P!==void 0&&re.cash1P>=0?(a(),t("div",{key:0,class:Y(["cashSumP1",re.res1P!==void 0&&re.cash1P>re.res1P&&"colorRed"])},y(re.cash1P),3)):w("",!0),e(X).taken==="inGame"&&re.cash2P!==void 0&&re.cash2P>=0?(a(),t("div",{key:1,class:Y(["cashSumP2",re.res2P!==void 0&&re.cash2P>re.res2P&&"colorRed"])},y(re.cash2P),3)):w("",!0),m.value?(a(),t("div",na,y(m.value+"s"),1)):w("",!0),!e(X).hide||((V=e(X).coversBy)==null?void 0:V.length)===0?(a(),t("div",ua,[l.value?(a(),t("div",ca,[F(y(l.value),1),K(ve,{name:"sparkles-sharp"})])):w("",!0),s.value?(a(),t("div",da,[F(y(s.value),1),K(ve,{name:"ribbon-sharp"})])):w("",!0),n.value?(a(),t("div",va,[(a(!0),t(R,null,N(n.value,f=>(a(),L(ve,{key:f,name:"skull-sharp"}))),128))])):w("",!0),k.value?(a(),t("div",pa,[(a(!0),t(R,null,N(k.value,f=>(a(),t("div",{key:f,class:"clay"},"c"))),128))])):w("",!0),P.value?(a(),t("div",ha,[(a(!0),t(R,null,N(P.value,f=>(a(),t("div",{key:f,class:"brick"},"b"))),128))])):w("",!0),T.value?(a(),t("div",ya,[(a(!0),t(R,null,N(T.value,f=>(a(),t("div",{key:f,class:"wood"},"w"))),128))])):w("",!0),C.value?(a(),t("div",fa,[(a(!0),t(R,null,N(C.value,f=>(a(),t("div",{key:f,class:"paper"},"p"))),128))])):w("",!0),d.value?(a(),t("div",wa,[(a(!0),t(R,null,N(d.value,f=>(a(),t("div",{key:f,class:"glass"},"g"))),128))])):w("",!0),o.value?(a(),t("div",ka,y(o.value+"$"),1)):w("",!0),U.value?(a(),t("div",Ca,[U.value===1?(a(),t("div",ma,"c")):w("",!0),U.value===2?(a(),t("div",ba,"b")):w("",!0),U.value===3?(a(),t("div",ga,"w")):w("",!0),U.value===4?(a(),t("div",_a,"p")):w("",!0),U.value===4?(a(),t("div",Pa,"g")):w("",!0)])):w("",!0),D.value===1?(a(),t("div",{key:10,class:"resources",style:Q("width: 100%; transform: scale(.8);")},[$a,F(" / "),Ia,F(" / "),Ba],4)):w("",!0),D.value===2?(a(),t("div",Ga,[Ta,F(" / "),Wa])):w("",!0),W.value?(a(),t("div",Aa,[W.value===1?(a(),t("div",Ma,[K(ve,{name:"prism"}),F(y("x2$"))])):w("",!0),W.value===2?(a(),t("div",Oa,[Sa,F(" "+y("x1$"))])):w("",!0),W.value===3?(a(),t("div",Da,[Fa,F(" "+y("x3$"))])):w("",!0),W.value===4?(a(),t("div",Ra,[Va,F(" "+y("x2$"))])):w("",!0),W.value===5?(a(),t("div",Ea,[Na,F(" "+y("x1$"))])):w("",!0)])):w("",!0),x.value?(a(),t("div",La,[x.value===1?(a(),t("div",ja,[xa,F(" "+y("x1")),K(ve,{name:"ribbon-sharp"}),F(y("$"))])):w("",!0),x.value===2?(a(),t("div",Xa,[Ha,Ua,F(" "+y("x1")),K(ve,{name:"ribbon-sharp"}),F(y("$"))])):w("",!0),x.value===3?(a(),t("div",za,[K(ve,{name:"prism"}),F(" "+y("x2")),K(ve,{name:"ribbon-sharp"})])):w("",!0),x.value===4?(a(),t("div",Ka,[Ya,F(" "+y("x1")),K(ve,{name:"ribbon-sharp"}),F(y("$"))])):w("",!0),x.value===5?(a(),t("div",qa,[Ja,F(" "+y("x1")),K(ve,{name:"ribbon-sharp"}),F(y("$"))])):w("",!0),x.value===6?(a(),t("div",Qa,[Za,F(" "+y("/")),K(ve,{name:"ribbon-sharp"})])):w("",!0),x.value===7?(a(),t("div",er,[sr,F(" "+y("x1")),K(ve,{name:"ribbon-sharp"}),F(y("$"))])):w("",!0)])):w("",!0)])):w("",!0),!re.small&&ie.value?(a(),t("div",ar,y(ie.value+"s"),1)):w("",!0),!re.small&&(!e(X).hide||((Je=e(X).coversBy)==null?void 0:Je.length)===0)?(a(),t("div",rr,[Z.value?(a(),t("div",tr,[i("div",lr,y(Z.value+"$"),1)])):w("",!0),v.value?(a(),t("div",or,[(a(!0),t(R,null,N(v.value,f=>(a(),t("div",{key:f,class:"clay"},"c"))),128))])):w("",!0),j.value?(a(),t("div",ir,[(a(!0),t(R,null,N(j.value,f=>(a(),t("div",{key:f,class:"brick"},"b"))),128))])):w("",!0),se.value?(a(),t("div",nr,[(a(!0),t(R,null,N(se.value,f=>(a(),t("div",{key:f,class:"wood"},"w"))),128))])):w("",!0),$e.value?(a(),t("div",ur,[(a(!0),t(R,null,N($e.value,f=>(a(),t("div",{key:f,class:"paper"},"p"))),128))])):w("",!0),ke.value?(a(),t("div",cr,[(a(!0),t(R,null,N(ke.value,f=>(a(),t("div",{key:f,class:"glass"},"g"))),128))])):w("",!0)])):w("",!0)],6)}}});const ne=ge(dr,[["__scopeId","data-v-b9fb2cb4"]]);class Gs{constructor(u){pe(this,"pawn",0);pe(this,"coins",[]);pe(this,"punishment1",!0);pe(this,"punishment2",!0);pe(this,"punishment3",!0);pe(this,"punishment4",!0);Object.assign(this,u)}}class Ue{constructor(u){pe(this,"_id",0);pe(this,"user",{});pe(this,"points",0);pe(this,"resources",{cash:7,clayValue:0,brickValue:0,woodValue:0,paperValue:0,glassValue:0,clayOne:0,brickOne:0,woodOne:0,paperGlassOne:0,materialsCBW:0,materialsPG:0,specialChars:[],artefacts:[],specialEffects:[],coins:[]});pe(this,"wonderCards",[]);pe(this,"cards",{red:[],green:[],blue:[],yellow:[],brown:[],grey:[],purple:[]});Object.assign(this,u)}get id(){return this._id}set setId(u){this._id=u}}const vr=Xe(He,"gameDuel"),M=De(vr,"table1");let ms;const Se=js("duelGameStore",{state:()=>({turn:"",tier:"prepare",move:0,pickCoin:"",pickCoinOfThree:"",pickCardFromGraveyard:"",destroyBrown:"",destroyGrey:"",tierOneCards:[],tierTwoCards:[],tierThreeCards:[],theRestOfCoins:[],wonderCards:[],graveyard:[],board:new Gs,player1:new Ue,player2:new Ue,selectWondersForPlayers:[],selectWondersForPlayersMove:0,chooseWhoWillStart:!1,wonByArt:"",wonByAggressive:"",wonBySurr:"",selectedCard:{},selectedWonder:{},isLoading:!1}),getters:{},actions:{async subFirebaseConnect(r){ms=await xs(M,u=>{if(u.exists()){const{turn:s,tier:l,move:n,tierICards:k,tierIICards:P,tierIIICards:T,player1:C,player2:d,gameBoard:o,wonderCards:m,graveyard:U,theRestOfCoins:D,pickCoin:W,pickCoinOfThree:x,pickCardFromGraveyard:ie,destroyBrown:v,destroyGrey:j,selectWondersForPlayers:se,selectWondersForPlayersMove:$e,chooseWhoWillStart:ke,wonByArt:Z,wonByAggressive:de,wonBySurr:X}=u.data();this.turn=s,this.tier=l,this.move=n,this.tierOneCards=k,this.tierTwoCards=P,this.tierThreeCards=T,this.player1=C,this.player2=d,this.board=o,this.wonderCards=m,this.graveyard=U,this.theRestOfCoins=D,this.pickCoin=W,this.pickCoinOfThree=x,this.pickCardFromGraveyard=ie,this.destroyBrown=v,this.destroyGrey=j,this.selectWondersForPlayers=se,this.selectWondersForPlayersMove=$e,this.chooseWhoWillStart=ke,this.wonByArt=Z,this.wonByAggressive=de,this.wonBySurr=X}})},unSubFirebaseConnect(){ms()},unselectCard(){this.selectedCard={},this.selectedWonder={}},async upgradeTurnAndMove(r,u){if(u)await b(M,{turn:r});else if(this.move+1===60)await b(M,{tier:"end",move:oe(1)});else if((this.move+1===20||this.move+1===40)&&!this.chooseWhoWillStart){let s=r;s=s===this.player1.user.uid?`${this.player2.user.uid}`:`${this.player1.user.uid}`,this.board.pawn>0?s=`${this.player1.user.uid}`:this.board.pawn<0&&(s=`${this.player2.user.uid}`),await b(M,{chooseWhoWillStart:!0,turn:s,move:oe(1)})}else await b(M,{turn:r,move:oe(1)})},async setPickCoin(r){await b(M,{pickCoin:r})},async setPickCoinOfThree(r){await b(M,{pickCoinOfThree:r})},async setPickCardFromGraveyard(r){await b(M,{pickCardFromGraveyard:r})},async setDestroyBrown(r){await b(M,{destroyBrown:r})},async setDestroyGrey(r){await b(M,{destroyGrey:r})},async setMovePawn(r,u){if(u===this.player1.user.uid)for(let s=0;s<r;s++){if(this.board.pawn<=-8){await b(M,{"gameBoard.pawn":oe(-1),wonByAggressive:u}),console.log("%c END GAME - ATTACK -> ","background: #222; color: #bada55");return}await b(M,{"gameBoard.pawn":oe(-1)}),this.board.pawn<=-6&&this.board.punishment1?await b(M,{"gameBoard.punishment1":!1,"player2.resources.cash":this.player2.resources.cash<=5?0:this.player2.resources.cash-=5}):this.board.pawn<=-3&&this.board.punishment2&&await b(M,{"gameBoard.punishment2":!1,"player2.resources.cash":this.player2.resources.cash<=2?0:this.player2.resources.cash-=2})}else for(let s=0;s<r;s++){if(this.board.pawn>=8){await b(M,{"gameBoard.pawn":oe(1),wonByAggressive:u}),console.log("%c END GAME - ATTACK -> ","background: #222; color: #bada55");return}await b(M,{"gameBoard.pawn":oe(1)}),this.board.pawn>=3&&this.board.punishment3?await b(M,{"gameBoard.punishment3":!1,"player1.resources.cash":this.player1.resources.cash<=2?0:this.player1.resources.cash-=2}):this.board.pawn>=6&&this.board.punishment4&&await b(M,{"gameBoard.punishment4":!1,"player1.resources.cash":this.player1.resources.cash<=5?0:this.player1.resources.cash-=5})}},async countArtefacts(r){let u=0;if(r===this.player1.user.uid){this.player1.resources.coins.find(l=>l==="artefact7")&&(u+=1);const s=this.player1.cards.green.map(l=>l.valuePower[0]);u+=[...new Set(s)].length}else{this.player2.resources.coins.find(l=>l==="artefact7")&&(u+=1);const s=this.player2.cards.green.map(l=>l.valuePower[0]);u+=[...new Set(s)].length}if(u>=6){await b(M,{wonByArt:r}),console.log("%c END GAME - ARTEFACT -> ","background: #222; color: #bada55");return}},async setCardTaken(r,u){let s={},l=!1,n=!1,k=!1,P=0,T=0;if(this.tier==="I"||u==="I"?(this.tierOneCards=this.$state.tierOneCards.map(C=>(C.id===this.selectedCard.id&&(s=C),{...C,taken:C.id===this.selectedCard.id?"inPlayerBoard":C.taken,coversBy:C!=null&&C.coversBy?C.coversBy.filter(d=>d!==this.selectedCard.id):[]})),await b(M,{tierICards:this.tierOneCards})):this.tier==="II"||u==="II"?(this.tierTwoCards=this.$state.tierTwoCards.map(C=>(C.id===this.selectedCard.id&&(s=C),{...C,taken:C.id===this.selectedCard.id?"inPlayerBoard":C.taken,coversBy:C!=null&&C.coversBy?C.coversBy.filter(d=>d!==this.selectedCard.id):[]})),await b(M,{tierIICards:this.tierTwoCards})):(this.tier==="III"||u==="III"||u==="guild")&&(this.tierThreeCards=this.$state.tierThreeCards.map(C=>(C.id===this.selectedCard.id&&(s=C),{...C,taken:C.id===this.selectedCard.id?"inPlayerBoard":C.taken,coversBy:C!=null&&C.coversBy?C.coversBy.filter(d=>d!==this.selectedCard.id):[]})),await b(M,{tierIIICards:this.tierThreeCards})),this.isLoading=!0,this.turn===this.player1.user.uid){this.player1.resources.coins.find(d=>d==="cash6n4special")&&r===0&&s.cost[0]==="specialChar"&&this.player1.resources.specialChars.find(d=>d===s.valueCost[0])&&(T=4);const C=ks(s,this.player1);if(this.player1.cards[s.color].push({...s,taken:"inPlayerBoard"}),s.color==="red"&&s.power.forEach((d,o)=>{d==="attack"&&(this.player1.resources.coins.find(m=>m==="attack1")?P=++s.valuePower[o]:P=s.valuePower[o],k=!0)}),s.color==="green"&&(n=!0,s.power.forEach((d,o)=>{if(d==="artefact"&&this.player1.resources.artefacts.length!==0){let m=0;this.player1.resources.artefacts.forEach(U=>{U===s.valuePower[o]&&m++}),m===2&&(l=!0)}})),s.color==="purple")switch(s.valuePower[0]){case 1:{const d=this.player1.cards.yellow.length,o=this.player2.cards.yellow.length,m=d>o?d:o;C.cash+=m;break}case 2:{const d=this.player1.cards.brown.length+this.player1.cards.grey.length,o=this.player2.cards.brown.length+this.player2.cards.grey.length,m=d>o?d:o;C.cash+=m;break}case 4:{const d=this.player1.cards.blue.length,o=this.player2.cards.blue.length,m=d>o?d:o;C.cash+=m;break}case 5:{const d=this.player1.cards.green.length,o=this.player2.cards.green.length,m=d>o?d:o;C.cash+=m;break}case 7:{const d=this.player1.cards.red.length,o=this.player2.cards.red.length,m=d>o?d:o;C.cash+=m;break}}if(await b(M,{"player1.points":this.player1.points,"player1.cards":this.player1.cards,"player1.resources":{...C,cash:C.cash+T-r}}),r>0&&this.player2.resources.coins.find(d=>d==="cashBack")){let d=r;s.cost.find((o,m)=>o==="cash"?(d-=s.valueCost[m],b(M,{"player2.resources.cash":oe(d)}),!0):!1)}n&&await this.countArtefacts(`${this.player1.user.uid}`),k&&await this.setMovePawn(P,`${this.player1.user.uid}`),l&&await this.setPickCoin(`${this.player1.user.uid}`),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCoin===""&&this.upgradeTurnAndMove(`${this.player2.user.uid}`)}else{this.player2.resources.coins.find(d=>d==="cash6n4special")&&r===0&&s.cost[0]==="specialChar"&&this.player2.resources.specialChars.find(d=>d===s.valueCost[0])&&(T=4);const C=ks(s,this.player2);if(this.player2.cards[s.color].push({...s,taken:"inPlayerBoard"}),s.color==="red"&&s.power.forEach((d,o)=>{d==="attack"&&(this.player2.resources.coins.find(m=>m==="attack1")?P=s.valuePower[o]+1:P=s.valuePower[o],k=!0)}),s.color==="green"&&(n=!0,s.power.forEach((d,o)=>{if(d==="artefact"&&this.player2.resources.artefacts.length!==0){let m=0;this.player2.resources.artefacts.forEach(U=>{U===s.valuePower[o]&&m++}),m===2&&(l=!0)}})),s.color==="purple")switch(s.valuePower[0]){case 1:{const d=this.player1.cards.yellow.length,o=this.player2.cards.yellow.length,m=d>o?d:o;C.cash+=m;break}case 2:{const d=this.player1.cards.brown.length+this.player1.cards.grey.length,o=this.player2.cards.brown.length+this.player1.cards.grey.length,m=d>o?d:o;C.cash+=m;break}case 4:{const d=this.player1.cards.blue.length,o=this.player2.cards.blue.length,m=d>o?d:o;C.cash+=m;break}case 5:{const d=this.player1.cards.green.length,o=this.player2.cards.green.length,m=d>o?d:o;C.cash+=m;break}case 7:{const d=this.player1.cards.red.length,o=this.player2.cards.red.length,m=d>o?d:o;C.cash+=m;break}}if(await b(M,{"player2.points":this.player2.points,"player2.cards":this.player2.cards,"player2.resources":{...C,cash:C.cash+T-r}}),r>0&&this.player1.resources.coins.find(d=>d==="cashBack")){let d=r;s.cost.find((o,m)=>o==="cash"?(d-=s.valueCost[m],b(M,{"player1.resources.cash":oe(d)}),!0):!1)}n&&await this.countArtefacts(`${this.player2.user.uid}`),k&&await this.setMovePawn(P,`${this.player2.user.uid}`),l&&await this.setPickCoin(`${this.player2.user.uid}`),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCoin===""&&(this.turn===this.player1.user.uid&&u?this.player1.resources.coins.find(d=>d==="repeatWonder")?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.turn===this.player2.user.uid&&u?this.player2.resources.coins.find(d=>d==="repeatWonder")?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`):await this.upgradeTurnAndMove(`${this.player1.user.uid}`))}this.unselectCard(),this.isLoading=!1},async setCardGraveyard(r){var s;let u={};if(this.tier==="I"||r==="I"?(this.tierOneCards=this.$state.tierOneCards.map(l=>(l.id===this.selectedCard.id&&(u=l),{...l,taken:l.id===this.selectedCard.id?"graveyard":l.taken,coversBy:l!=null&&l.coversBy?l.coversBy.filter(n=>n!==this.selectedCard.id):[]})),await b(M,{tierICards:this.tierOneCards})):this.tier==="II"||r==="II"?(this.tierTwoCards=this.$state.tierTwoCards.map(l=>(l.id===this.selectedCard.id&&(u=l),{...l,taken:l.id===this.selectedCard.id?"graveyard":l.taken,coversBy:l!=null&&l.coversBy?l.coversBy.filter(n=>n!==this.selectedCard.id):[]})),await b(M,{tierIICards:this.tierTwoCards})):(this.tier==="III"||r==="III"||r==="guild")&&(this.tierThreeCards=this.$state.tierThreeCards.map(l=>(l.id===this.selectedCard.id&&(u=l),{...l,taken:l.id===this.selectedCard.id?"graveyard":l.taken,coversBy:l!=null&&l.coversBy?l.coversBy.filter(n=>n!==this.selectedCard.id):[]})),await b(M,{tierIIICards:this.tierThreeCards})),this.isLoading=!0,this.graveyard.push({...u,taken:"graveyard"}),r)if(this.turn===this.player1.user.uid){const l={...this.player2.resources};if(u.color==="brown"){switch(u.power[0]){case"clay":l.clayValue-=u.valuePower[0];break;case"brick":l.brickValue-=u.valuePower[0];break;case"wood":l.woodValue-=u.valuePower[0];break}await b(M,{"player2.resources":l,graveyard:this.graveyard,"player2.cards.brown":me({...u,taken:"inPlayerBoard"})})}else if(u.color==="grey"){switch(u.power[0]){case"paper":l.paperValue-=u.valuePower[0];break;case"glass":l.glassValue-=u.valuePower[0];break}await b(M,{"player2.resources":l,graveyard:this.graveyard,"player2.cards.grey":me({...u,taken:"inPlayerBoard"})})}this.player1.resources.coins.find(n=>n==="repeatWonder")?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`)}else{const l={...this.player1.resources};if(u.color==="brown"){switch(u.power[0]){case"clay":l.clayValue-=u.valuePower[0];break;case"brick":l.brickValue-=u.valuePower[0];break;case"wood":l.woodValue-=u.valuePower[0];break}await b(M,{"player1.resources":l,graveyard:this.graveyard,"player1.cards.brown":me({...u,taken:"inPlayerBoard"})})}else if(u.color==="grey"){switch(u.power[0]){case"paper":l.paperValue-=u.valuePower[0];break;case"glass":l.glassValue-=u.valuePower[0];break}await b(M,{"player1.resources":l,graveyard:this.graveyard,"player1.cards.grey":me({...u,taken:"inPlayerBoard"})})}this.player2.resources.coins.find(n=>n==="repeatWonder")?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`)}else if(this.turn===this.player1.user.uid){const l=2+this.player1.cards.yellow.length;await b(M,{"player1.resources.cash":oe(l),graveyard:this.graveyard}),this.upgradeTurnAndMove(`${(s=this.player2.user)==null?void 0:s.uid}`)}else{const l=2+this.player2.cards.yellow.length;await b(M,{"player2.resources.cash":oe(l),graveyard:this.graveyard}),this.upgradeTurnAndMove(`${this.player1.user.uid}`)}this.unselectCard(),this.isLoading=!1},async setCardToWonder(r){let u={},s={},l=!1,n=0,k=!1,P=!1,T=!1,C=!1,d=!1;if(this.tier==="I"?(this.tierOneCards=this.$state.tierOneCards.map(o=>(o.id===this.selectedCard.id&&(u=o),{...o,taken:o.id===this.selectedCard.id?"inWonder":o.taken,coversBy:o!=null&&o.coversBy?o.coversBy.filter(m=>m!==this.selectedCard.id):[]})),await b(M,{tierICards:this.tierOneCards})):this.tier==="II"?(this.tierTwoCards=this.$state.tierTwoCards.map(o=>(o.id===this.selectedCard.id&&(u=o),{...o,taken:o.id===this.selectedCard.id?"inWonder":o.taken,coversBy:o!=null&&o.coversBy?o.coversBy.filter(m=>m!==this.selectedCard.id):[]})),await b(M,{tierIICards:this.tierTwoCards})):this.tier==="III"&&(this.tierThreeCards=this.$state.tierThreeCards.map(o=>(o.id===this.selectedCard.id&&(u=o),{...o,taken:o.id===this.selectedCard.id?"inWonder":o.taken,coversBy:o!=null&&o.coversBy?o.coversBy.filter(m=>m!==this.selectedCard.id):[]})),await b(M,{tierIIICards:this.tierThreeCards})),s=this.selectedWonder,s.activated=u.tier,this.isLoading=!0,this.turn===this.player1.user.uid){const o=Cs(s,this.player1);o.resources.cash-=r,o.resources.coins.find(D=>D==="repeatWonder")&&(k=!0),r>0&&this.player2.resources.coins.find(D=>D==="cashBack")&&b(M,{"player2.resources.cash":oe(r)}),s.power.forEach(async(D,W)=>{D==="attack"?(l=!0,n=s.valuePower[W]):D==="break"?s.valuePower[W]===1?this.player2.cards.brown.length>0&&(P=!0):s.valuePower[W]===2?this.player2.cards.grey.length>0&&(T=!0):s.valuePower[W]===3&&await b(M,{"player2.resources.cash":this.player2.resources.cash<=3?0:oe(-3)}):D==="effect"&&(s.valuePower[W]===1?k=!0:s.valuePower[W]===2?C=!0:s.valuePower[W]===3&&(d=!0))}),l&&this.setMovePawn(n,`${this.player1.user.uid}`),d&&await this.setPickCoinOfThree(`${this.player1.user.uid}`),C&&await this.setPickCardFromGraveyard(`${this.player1.user.uid}`),P&&await this.setDestroyBrown(`${this.player1.user.uid}`),T&&await this.setDestroyGrey(`${this.player1.user.uid}`);const m=o.wonderCards.filter(D=>D.activated!=="none"),U=this.player2.wonderCards.filter(D=>D.activated!=="none");m.length===3&&U.length===4?await b(M,{player1:{...o,wonderCards:m}}):m.length===4&&U.length===3?await b(M,{player1:o,"player2.wonderCards":U}):await b(M,{player1:o}),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCardFromGraveyard===""&&this.pickCoinOfThree===""&&this.destroyBrown===""&&this.destroyGrey===""&&(k&&this.move!==19&&this.move!==39?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`))}else{const o=Cs(s,this.player2);o.resources.cash-=r,o.resources.coins.find(D=>D==="repeatWonder")&&(k=!0),r>0&&this.player1.resources.coins.find(D=>D==="cashBack")&&b(M,{"player1.resources.cash":oe(r)}),s.power.forEach(async(D,W)=>{D==="attack"?(l=!0,n=s.valuePower[W]):D==="break"?s.valuePower[W]===1?this.player1.cards.brown.length>0&&(P=!0):s.valuePower[W]===2?this.player1.cards.grey.length>0&&(T=!0):s.valuePower[W]===3&&await b(M,{"player1.resources.cash":this.player1.resources.cash<=3?0:oe(-3)}):D==="effect"&&(s.valuePower[W]===1?k=!0:s.valuePower[W]===2?C=!0:s.valuePower[W]===3&&(d=!0))}),l&&this.setMovePawn(n,`${this.player2.user.uid}`),d&&await this.setPickCoinOfThree(`${this.player2.user.uid}`),C&&await this.setPickCardFromGraveyard(`${this.player2.user.uid}`),P&&await this.setDestroyBrown(`${this.player2.user.uid}`),T&&await this.setDestroyGrey(`${this.player2.user.uid}`);const m=this.player1.wonderCards.filter(D=>D.activated!=="none"),U=o.wonderCards.filter(D=>D.activated!=="none");m.length===3&&U.length===4?await b(M,{"player1.wonderCards":m,player2:o}):m.length===4&&U.length===3?await b(M,{player2:{...o,wonderCards:U}}):await b(M,{player2:o}),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCardFromGraveyard===""&&this.pickCoinOfThree===""&&this.destroyBrown===""&&this.destroyGrey===""&&(k&&this.move!==19&&this.move!==39?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`))}this.unselectCard(),this.isLoading=!1}}}),pr=be({__name:"DuelGameLayOutTiersComponent",props:{card:{},x:{},y:{},reversColor:{},cash1P:{},cash2P:{},user:{}},setup(r){const u=r,s=Se(),{selectedCard:l,player1:n,player2:k}=Te(s),{card:P}=We(u);return(T,C)=>{var d,o,m;return e(P).taken==="inGame"?(a(),t("div",{key:0,class:Y(["cardWrapper",((d=e(P).coversBy)==null?void 0:d.length)!==0&&e(P).hide&&"cardHide",((o=e(P).coversBy)==null?void 0:o.length)===0&&"canSelect",e(l).id===e(P).id&&"selected"]),style:Q(`--x:${T.x}%; --y:${T.y}%; --z:${e(P).id}; --reversCol:${T.reversColor}; cursor: ${((m=e(P).coversBy)==null?void 0:m.length)===0?"pointer":"default"};`)},[K(ne,{card:e(P),cash1P:T.user.uid===e(n).user.uid?T.cash1P:T.cash2P,cash2P:T.user.uid===e(n).user.uid?T.cash2P:T.cash1P,res1P:T.user.uid===e(n).user.uid?e(n).resources.cash:e(k).resources.cash,res2P:T.user.uid===e(n).user.uid?e(k).resources.cash:e(n).resources.cash},null,8,["card","cash1P","cash2P","res1P","res2P"])],6)):(a(),t("div",{key:1,class:Y(["cardWrapper","invisible"]),style:Q(`--x:${T.x}%; --y:${T.y}%; --z:-10;`)},[K(ne,{card:e(P)},null,8,["card"])],4))}}});const ts=ge(pr,[["__scopeId","data-v-9bbffb4d"]]),hr={class:"cost"},yr={key:0,class:"resources",style:"width: 100%;"},fr={class:"cash"},wr={key:1,class:"resources",style:"width: 100%;"},kr={key:2,class:"resources",style:"width: 100%;"},Cr={key:3,class:"resources",style:"width: 100%;"},mr={key:4,class:"resources",style:"width: 100%;"},br={key:5,class:"resources",style:"width: 100%;"},gr=be({__name:"DuelGameWonderComponent",props:{card:{},cash:{},resCash:{}},setup(r){const u=r,{card:s}=We(u),l=g(0),n=g(0),k=g(0),P=g(0),T=g(0),C=g(0),d=g(0),o=g(0),m=g(0),U=g(0),D=g(0),W=g(0),x=g("");Ke(()=>{s.value.power.forEach((v,j)=>{switch(v){case"effect":l.value=s.value.valuePower[j];break;case"cash":n.value=s.value.valuePower[j];break;case"break":k.value=s.value.valuePower[j];break;case"materials":P.value=s.value.valuePower[j];break;case"attack":T.value=s.value.valuePower[j];break;case"points":C.value=s.value.valuePower[j];break}}),s.value.cost.forEach((v,j)=>{switch(v){case"clay":d.value=s.value.valueCost[j];break;case"brick":o.value=s.value.valueCost[j];break;case"wood":m.value=s.value.valueCost[j];break;case"paper":U.value=s.value.valueCost[j];break;case"glass":D.value=s.value.valueCost[j];break}}),ie()}),Oe(()=>s.value.activated,()=>{ie()});function ie(){switch(s.value.activated){case"I":x.value="rgb(145, 19, 19)";break;case"II":x.value="rgb(58, 59, 160)";break;case"III":x.value="rgb(175, 85, 202)";break;case"guild":x.value="rgb(107, 36, 128)";break}}return(v,j)=>(a(),t("div",{class:Y(["card",`card${e(s).id}`]),style:Q(`--activeColor: ${x.value};`)},[e(s).taken?(a(),t("div",{key:0,class:Y(["cashSum",v.resCash!==void 0&&v.cash!==void 0&&v.cash>v.resCash&&"colorRed"])},y(v.cash),3)):w("",!0),i("div",hr,[W.value?(a(),t("div",yr,[i("div",fr,y(W.value+"$"),1)])):w("",!0),d.value?(a(),t("div",wr,[(a(!0),t(R,null,N(d.value,se=>(a(),t("div",{key:se,class:"clay"},"c"))),128))])):w("",!0),o.value?(a(),t("div",kr,[(a(!0),t(R,null,N(o.value,se=>(a(),t("div",{key:se,class:"brick"},"b"))),128))])):w("",!0),m.value?(a(),t("div",Cr,[(a(!0),t(R,null,N(m.value,se=>(a(),t("div",{key:se,class:"wood"},"w"))),128))])):w("",!0),U.value?(a(),t("div",mr,[(a(!0),t(R,null,N(U.value,se=>(a(),t("div",{key:se,class:"paper"},"p"))),128))])):w("",!0),D.value?(a(),t("div",br,[(a(!0),t(R,null,N(D.value,se=>(a(),t("div",{key:se,class:"glass"},"g"))),128))])):w("",!0)])],6))}});const we=ge(gr,[["__scopeId","data-v-ebcaa4a8"]]),_r={key:3,class:"pointX3"},Pr={key:4,class:"cash6n4special"},$r={key:6,class:"lowCostBlue"},Ir={key:8},Br={key:9},Gr=be({__name:"DuelGameCoinComponent",props:{coin:{}},setup(r){const u=r,s=g(""),{coin:l}=We(u);return Ke(()=>{switch(l.value){case"artefact7":s.value="7";break;case"attack1":s.value="1+";break;case"point7":s.value="7";break;case"pointX3":s.value="3x ";break;case"cash6n4special":s.value="6$+";break;case"lowCostWonder":s.value="$$";break;case"lowCostBlue":s.value="$$";break;case"cashBack":s.value="$";break;case"point4n6cash":s.value="6$";break;case"repeatWonder":s.value="";break;default:s.value=l.value;break}}),(n,k)=>{const P=Ye("ion-icon");return a(),t("span",{class:Y(["boardSingleCoin",(e(l)==="lowCostWonder"||e(l)==="lowCostBlue")&&"lowCost"])},[F(y(s.value)+" ",1),e(l)==="artefact7"?(a(),L(P,{key:0,name:"sparkles-sharp"})):w("",!0),e(l)==="attack1"?(a(),L(P,{key:1,name:"skull-sharp"})):w("",!0),e(l)==="point7"?(a(),L(P,{key:2,name:"ribbon-sharp"})):w("",!0),e(l)==="pointX3"?(a(),t("div",_r,[K(P,{name:"ribbon-sharp"})])):w("",!0),e(l)==="cash6n4special"?(a(),t("div",Pr,y("4$ sp"))):w("",!0),e(l)==="lowCostWonder"?(a(),L(P,{key:5,name:"prism"})):w("",!0),e(l)==="lowCostBlue"?(a(),t("div",$r)):w("",!0),e(l)==="cashBack"?(a(),L(P,{key:7,class:"cashBack",name:"return-up-back"})):w("",!0),e(l)==="point4n6cash"?(a(),t("div",Ir,[F("4"),K(P,{name:"ribbon-sharp"})])):w("",!0),e(l)==="repeatWonder"?(a(),t("div",Br,[K(P,{name:"reload-outline"}),K(P,{name:"prism"})])):w("",!0)],2)}}});const ze=ge(Gr,[["__scopeId","data-v-98df4177"]]),Tr=r=>(ls("data-v-295fc910"),r=r(),os(),r),Wr={class:"duel"},Ar=Xs('<span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span><span class="boardBorder" data-v-295fc910></span>',19),Mr=Tr(()=>i("div",{class:"boardDuelPoints"},[i("div",null,"10"),i("div",null,"5"),i("div",null,"2"),i("div",null,"0"),i("div",null,"2"),i("div",null,"5"),i("div",null,"10")],-1)),Or=be({__name:"DuelGameBoardDuelComponent",props:{isMyTurn:{type:Boolean},user:{}},emits:["coin-selected"],setup(r,{emit:u}){const s=r,l=Se(),{board:n,pickCoin:k,player2:P}=Te(l),{isMyTurn:T}=We(s);return(C,d)=>(a(),t("section",Wr,[i("div",{class:Y(["boardPanishment",C.user.uid===e(P).user.uid?"rotateBoardPanishment":""])},[i("div",{style:Q(e(n).punishment1?"":"opacity: 0;")},"-5$",4),i("div",{style:Q(e(n).punishment2?"":"opacity: 0;")},"-2$",4),i("div",{style:Q(e(n).punishment3?"":"opacity: 0;")},"-2$",4),i("div",{style:Q(e(n).punishment4?"":"opacity: 0;")},"-5$",4)],2),i("div",{class:Y(["boardDuel",C.user.uid===e(P).user.uid?"rotateBoardDuel":""])},[Ar,i("div",{class:"boardPawn",style:Q(`--position:${e(n).pawn}`)},"X",4),Mr],2),i("div",{class:Y(["boardCoins",e(T)&&e(k)!==""&&"selectCoin"])},[(a(!0),t(R,null,N(e(n).coins,o=>(a(),L(ze,{key:o,coin:o,style:Q(e(T)&&e(k)!==""&&"cursor: pointer;"),onClick:m=>e(T)&&e(k)!==""?u("coin-selected",o):null},null,8,["coin","style","onClick"]))),128))],2)]))}});const Sr=ge(Or,[["__scopeId","data-v-295fc910"]]),Dr=be({__name:"DuelGameGraveyardComponent",props:{isMyTurn:{type:Boolean}},emits:["pick-card-from-graveyard"],setup(r,{emit:u}){const s=Se(),{graveyard:l,pickCardFromGraveyard:n}=Te(s);return(k,P)=>(a(),t("section",{class:Y(["graveyard","customInput",k.isMyTurn&&e(n)!==""&&"selectFromGraveyard"]),style:Q(e(l).length>=24?"overflow-y: scroll;":"")},[(a(!0),t(R,null,N(e(l),T=>(a(),L(ne,{key:T.id,card:T,small:"",style:Q(k.isMyTurn&&e(n)!==""&&"cursor: pointer;"),onClick:C=>k.isMyTurn&&e(n)!==""?u("pick-card-from-graveyard",T):null},null,8,["card","style","onClick"]))),128))],6))}});const Fr=ge(Dr,[["__scopeId","data-v-5f79ba2a"]]),Rr={class:"playerInfo"},Vr={key:0,class:"surrenderPopUp"},Er=["disabled"],Nr=["disabled"],Lr=be({__name:"DuelGamePlayersInfoComponent",props:{user:{}},emits:["prepare-game-to-remove-from-db"],setup(r,{emit:u}){const s=r,l=Se(),{player1:n,player2:k,turn:P}=Te(l),{user:T}=We(s),C=g("Kick player"),d=g("Surrender"),o=g("Do you really want to give up?!"),m=g(90),U=g(90),D=g(!1);return(W,x)=>(a(),t("section",Rr,[D.value?(a(),t("div",Vr,[i("p",null,y(o.value),1),i("div",null,[i("button",{class:Y(["customInput","reverseInput"]),onClick:x[0]||(x[0]=async()=>(await u("prepare-game-to-remove-from-db",e(T)),D.value=!1))},y("Yes")),i("button",{class:Y(["customInput","reverseInput"]),onClick:x[1]||(x[1]=()=>D.value=!1)},y("NO!"))])])):w("",!0),i("div",{class:Y(["player1info","customInput",e(P)===e(n).user.uid&&"boldParagraf"])},[i("p",null,y(`Nick: ${e(n).user.displayName||e(n).user.email}`),1),i("p",null,y(`Timer: ${m.value}`),1),i("button",{disabled:e(k).user.uid===e(T).uid&&U.value>0,class:Y(["customButton"]),onClick:x[2]||(x[2]=()=>e(n).user.uid===e(T).uid?D.value=!0:null)},y(e(n).user.uid===e(T).uid?d.value:C.value),9,Er)],2),i("div",{class:Y(["player2info","customInput",e(P)===e(k).user.uid&&"boldParagraf"])},[i("p",null,y(`Nick: ${e(k).user.displayName||e(k).user.email}`),1),i("p",null,y(`Timer: ${U.value}`),1),i("button",{disabled:e(n).user.uid===e(T).uid&&m.value>0,class:Y(["customButton"]),onClick:x[3]||(x[3]=()=>e(k).user.uid===e(T).uid?D.value=!0:null)},y(e(k).user.uid===e(T).uid?d.value:C.value),9,Nr)],2)]))}});const jr=ge(Lr,[["__scopeId","data-v-d54af763"]]),xr={class:"playerCardContainer"},Xr={class:"playerCard playerCard3"},Hr={class:"playerCard playerCard4"},Ur={class:"playerCard playerCard5"},zr={class:"playerCard playerCard6"},Kr={class:"countArt"},Yr={class:"playerCard playerCard7"},qr={class:"playerPointsContainer"},Jr={class:"playerRes"},Qr={class:"playerCoins customInput"},Zr={class:"playerCardContainer"},et={class:"playerCard playerCard3"},st={class:"playerCard playerCard4"},at={class:"playerCard playerCard5"},rt={class:"playerCard playerCard6"},tt={class:"countArt"},lt={class:"playerCard playerCard7"},ot={class:"playerPointsContainer"},it={class:"playerRes"},nt={class:"playerCoins customInput"},ut=be({__name:"DuelGamePlayersResComponent",props:{isMyTurn:{type:Boolean},user:{},selectWonderCard:{type:Boolean}},emits:["destrooy-enemy-card-selected"],setup(r,{emit:u}){const s=r,l=Se(),{player1:n,player2:k,turn:P,tier:T,destroyBrown:C,destroyGrey:d}=Te(l),{user:o}=We(s),m=fs("showPrice"),U=fs("wonderCardSelected");function D(W){if(W===n.value.user.uid){let x=0;n.value.resources.coins.find(v=>v==="artefact7")&&(x+=1);const ie=n.value.cards.green.map(v=>v.valuePower[0]);return x+=[...new Set(ie)].length}else{let x=0;k.value.resources.coins.find(v=>v==="artefact7")&&(x+=1);const ie=k.value.cards.green.map(v=>v.valuePower[0]);return x+=[...new Set(ie)].length}}return(W,x)=>{const ie=Ye("ion-icon");return a(),t(R,null,[i("section",{class:Y(["wonders",e(o).uid===e(n).user.uid?"wonders1":"wonders2","customInput"])},[(a(!0),t(R,null,N(e(n).wonderCards,v=>(a(),L(we,{card:v,key:v.id,cash:e(m)(v,`${e(n).user.uid}`),resCash:e(n).resources.cash,class:Y([W.selectWonderCard&&e(m)(v,`${e(n).user.uid}`)<=e(n).resources.cash&&"selectWonderFromPlayer"]),onClick:j=>e(T)!=="prepare"&&W.selectWonderCard?e(U)(v,e(n).resources.cash):null},null,8,["card","cash","resCash","class","onClick"]))),128))],2),i("section",{class:Y(["playerSection",e(o).uid===e(n).user.uid?"player1":"player2"])},[i("div",xr,[i("div",{class:Y(["playerCard","playerCard1",e(o).uid===e(k).user.uid&&W.isMyTurn&&e(C)!==""&&"selectWonderFromPlayer"])},[(a(!0),t(R,null,N(e(n).cards.brown,v=>(a(),L(ne,{key:v.id,card:v,small:"",style:Q(e(o).uid===e(k).user.uid&&W.isMyTurn&&e(C)!==""?"cursor: pointer;":""),onClick:j=>e(o).uid===e(k).user.uid&&W.isMyTurn&&e(C)!==""?u("destrooy-enemy-card-selected",v,"brown"):null},null,8,["card","style","onClick"]))),128))],2),i("div",{class:Y(["playerCard","playerCard2",e(o).uid===e(k).user.uid&&W.isMyTurn&&e(d)!==""&&"selectWonderFromPlayer"])},[(a(!0),t(R,null,N(e(n).cards.grey,v=>(a(),L(ne,{key:v.id,card:v,small:"",style:Q(e(o).uid===e(k).user.uid&&W.isMyTurn&&e(d)!==""?"cursor: pointer;":""),onClick:j=>e(o).uid===e(k).user.uid&&W.isMyTurn&&e(d)!==""?u("destrooy-enemy-card-selected",v,"grey"):null},null,8,["card","style","onClick"]))),128))],2),i("div",Xr,[(a(!0),t(R,null,N(e(n).cards.yellow,v=>(a(),L(ne,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),i("div",Hr,[(a(!0),t(R,null,N(e(n).cards.blue,v=>(a(),L(ne,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),i("div",Ur,[(a(!0),t(R,null,N(e(n).cards.red,v=>(a(),L(ne,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),i("div",zr,[i("div",Kr,y(D(`${e(n).user.uid}`)+"/6"),1),(a(!0),t(R,null,N(e(n).cards.green.sort((v,j)=>v.valuePower[0]-j.valuePower[0]),v=>(a(),L(ne,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),i("div",Yr,[(a(!0),t(R,null,N(e(n).cards.purple,v=>(a(),L(ne,{key:v.id,card:v,small:""},null,8,["card"]))),128))])]),i("div",qr,[i("div",Jr,[i("p",{style:Q(e(P)===e(n).user.uid?"font-weight: bold;":"")},y(`${e(n).user.displayName||e(n).user.email}`),5),i("p",{style:Q(e(P)===e(n).user.uid?"font-weight: bold;":"")},y("Status: online"),4),i("p",{style:Q(e(P)===e(n).user.uid?"font-weight: bold;":"")},[F(y(`$: ${e(n).resources.cash}`)+" ",1),K(ie,{name:"ribbon-sharp",style:"margin-left: 10px;"}),F(y(`: ${e(n).points}`),1)],4)]),i("div",Qr,[(a(!0),t(R,null,N(e(n).resources.coins,v=>(a(),L(ze,{key:v,coin:v},null,8,["coin"]))),128))])])],2),i("section",{class:Y(["wonders",e(o).uid===e(n).user.uid?"wonders2":"wonders1","customInput"])},[(a(!0),t(R,null,N(e(k).wonderCards,v=>(a(),L(we,{card:v,key:v.id,cash:e(m)(v,`${e(k).user.uid}`),resCash:e(k).resources.cash,class:Y([W.selectWonderCard&&e(m)(v,`${e(k).user.uid}`)<=e(k).resources.cash&&"selectWonderFromPlayer"]),onClick:j=>e(T)!=="prepare"&&W.selectWonderCard?e(U)(v,e(k).resources.cash):null},null,8,["card","cash","resCash","class","onClick"]))),128))],2),i("section",{class:Y(["playerSection",e(o).uid===e(n).user.uid?"player2":"player1"])},[i("div",Zr,[i("div",{class:Y(["playerCard","playerCard1",e(o).uid===e(n).user.uid&&W.isMyTurn&&e(C)!==""&&"selectWonderFromPlayer"])},[(a(!0),t(R,null,N(e(k).cards.brown,v=>(a(),L(ne,{key:v.id,card:v,small:"",style:Q(e(o).uid===e(n).user.uid&&W.isMyTurn&&e(C)!==""?"cursor: pointer;":""),onClick:j=>e(o).uid===e(n).user.uid&&W.isMyTurn&&e(C)!==""?u("destrooy-enemy-card-selected",v,"brown"):null},null,8,["card","style","onClick"]))),128))],2),i("div",{class:Y(["playerCard","playerCard2",e(o).uid===e(n).user.uid&&W.isMyTurn&&e(d)!==""&&"selectWonderFromPlayer"])},[(a(!0),t(R,null,N(e(k).cards.grey,v=>(a(),L(ne,{key:v.id,card:v,small:"",style:Q(e(o).uid===e(n).user.uid&&W.isMyTurn&&e(d)!==""?"cursor: pointer;":""),onClick:j=>e(o).uid===e(n).user.uid&&W.isMyTurn&&e(d)!==""?u("destrooy-enemy-card-selected",v,"grey"):null},null,8,["card","style","onClick"]))),128))],2),i("div",et,[(a(!0),t(R,null,N(e(k).cards.yellow,v=>(a(),L(ne,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),i("div",st,[(a(!0),t(R,null,N(e(k).cards.blue,v=>(a(),L(ne,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),i("div",at,[(a(!0),t(R,null,N(e(k).cards.red,v=>(a(),L(ne,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),i("div",rt,[i("div",tt,y(D(`${e(k).user.uid}`)+"/6"),1),(a(!0),t(R,null,N(e(k).cards.green.sort((v,j)=>v.valuePower[0]-j.valuePower[0]),v=>(a(),L(ne,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),i("div",lt,[(a(!0),t(R,null,N(e(k).cards.purple,v=>(a(),L(ne,{key:v.id,card:v,small:""},null,8,["card"]))),128))])]),i("div",ot,[i("div",it,[i("p",{style:Q(e(P)===e(k).user.uid?"font-weight: bold;":"")},y(`${e(k).user.displayName||e(k).user.email}`),5),i("p",{style:Q(e(P)===e(k).user.uid?"font-weight: bold;":"")},y("Status: online"),4),i("p",{style:Q(e(P)===e(k).user.uid?"font-weight: bold;":"")},[F(y(`$: ${e(k).resources.cash}`)+" ",1),K(ie,{name:"ribbon-sharp",style:"margin-left: 10px;"}),F(y(`: ${e(k).points}`),1)],4)]),i("div",nt,[(a(!0),t(R,null,N(e(k).resources.coins,v=>(a(),L(ze,{key:v,coin:v},null,8,["coin"]))),128))])])],2)],64)}}});const ct=ge(ut,[["__scopeId","data-v-bc63ea86"]]),dt="/vue-project/assets/win-d87fbc05.mp3",vt="/vue-project/assets/lost-7a2664bb.mp3",qe=r=>(ls("data-v-bf48eeee"),r=r(),os(),r),pt={class:"header"},ht={class:"wrapper"},yt={key:0,class:"loading"},ft={key:1,class:"cards cardsWonder"},wt={key:0,class:"pickWonders"},kt={key:1,class:"pickWonders"},Ct={key:2,class:"cards cardsTier"},mt={key:3,class:"cards cardsTier"},bt={key:4,class:"cards cardsTier"},gt={key:5,class:"cards countPoints"},_t={class:"containerPoints customInput"},Pt={class:"currentPoints"},$t={class:"cashPoints"},It={class:"purplePoints"},Bt=qe(()=>i("div",{class:"miniCard"},null,-1)),Gt={class:"coinsPoints"},Tt=qe(()=>i("div",{class:"miniCoin"},null,-1)),Wt={class:"pawnPoints"},At={class:"sumPoints"},Mt={class:"containerPoints customInput"},Ot={class:"currentPoints"},St={class:"cashPoints"},Dt={class:"purplePoints"},Ft=qe(()=>i("div",{class:"miniCard"},null,-1)),Rt={class:"coinsPoints"},Vt=qe(()=>i("div",{class:"miniCoin"},null,-1)),Et={class:"pawnPoints"},Nt={class:"sumPoints"},Lt={key:6,class:"playerAction"},jt=["disabled"],xt=["disabled"],Xt=["disabled"],Ht={key:7,class:"playerAction"},Ut={style:"font-weight: bold;"},zt={key:8,class:"playerAction"},Kt={style:"font-weight: bold;"},Yt={key:9,class:"playerAction"},qt={style:"font-weight: bold;"},Jt={key:10,class:"playerAction"},Qt={key:11,class:"playerAction"},Zt={key:12,class:"playerAction"},el={key:13,class:"playerAction"},sl={key:14,class:"playerAction"},al={key:15,class:"playerAction"},rl={key:16,class:"playerAction"},tl={key:17,class:"playerAction"},ll=be({__name:"TheDuelGameBoard",setup(r){ws("showPrice",ye),ws("wonderCardSelected",Ss);const u=g("Duel Game"),s=g("Buy"),l=g("Sell"),n=g("Build Wonder"),k=g("Back To Home"),P=g("Who Starts?"),T=g("Pick Coin!"),C=g("Pick one Coin of three!"),d=g("Pick card from graveyard!"),o=g("Pick Wonder!"),m=g("Destroy Enemy Card!"),U=g("Winner By Artefacts: "),D=g("Winner By Aggressive: "),W=g("Winner By Surrender: "),x=g(new Audio(Zs)),ie=g(new Audio(dt)),v=g(new Audio(vt)),j=g(0),se=g(0),$e=g(20),ke=g(ea(function(){ss.push("/feed")},$e.value*1e3)),Z=Se(),de=Hs(),{duel:X}=Te(de),{tierOneCards:re,tierTwoCards:q,tierThreeCards:ve,wonderCards:V,graveyard:Je,player1:f,player2:O,board:he,turn:fe,tier:Ce,move:Ie,theRestOfCoins:Qe,pickCoin:Ze,pickCoinOfThree:es,pickCardFromGraveyard:is,destroyBrown:ns,destroyGrey:us,selectWondersForPlayers:cs,selectWondersForPlayersMove:ds,chooseWhoWillStart:Fe,wonByArt:Be,wonByAggressive:_e,wonBySurr:Re,selectedCard:ue,selectedWonder:Ve,isLoading:H}=Te(Z),vs=Xe(He,"users"),Ts=Xe(He,"gameStatus"),ps=De(Ts,"Duel"),Ws=Xe(He,"gameDuel"),ee=De(Ws,"table1"),te=g({}),ss=Us(),le=g(!1),Ae=g(!1),J=Le(()=>fe.value===te.value.uid),hs=Le(()=>{var c,p,I,S;return((c=V.value[0])==null?void 0:c.taken)&&((p=V.value[1])==null?void 0:p.taken)&&((I=V.value[2])==null?void 0:I.taken)&&((S=V.value[3])==null?void 0:S.taken)}),Me=Le(()=>{var c;return(c=ue.value)!=null&&c.id?ye(ue.value,`${te.value.uid}`):-1}),As=Le(()=>{if(!J.value||!ue.value.id)return!1;if(te.value.uid===f.value.user.uid)if(f.value.wonderCards.find(c=>c.activated==="none")){let c=!1;return f.value.wonderCards.forEach(p=>{let I=ye(p,`${te.value.uid}`);p.activated==="none"&&I<=f.value.resources.cash&&(c=!0)}),c}else return!1;else if(O.value.wonderCards.find(c=>c.activated==="none")){let c=!1;return O.value.wonderCards.forEach(p=>{let I=ye(p,`${te.value.uid}`);p.activated==="none"&&I<=O.value.resources.cash&&(c=!0)}),c}else return!1});Oe([()=>Ve.value,()=>ue.value],()=>{var c,p;(!((c=Ve.value)!=null&&c.id)||!((p=ue.value)!=null&&p.id))&&(Ae.value=!1)}),Oe(()=>O.value.wonderCards,async()=>{H.value=!0,O.value.wonderCards.length===4&&Ie.value===0&&(await b(ee,{tier:"I"}),le.value=!0),H.value=!1}),Oe(()=>Ie.value,async()=>{le.value=!0,fe.value===te.value.uid&&x.value.play(),Ie.value>=20&&Ie.value<40&&(H.value=!0,await b(ee,{tier:"II"}),Fe.value&&J.value&&(le.value=!1),H.value=!1),Ie.value>=40&&Ie.value<=60&&(H.value=!0,await b(ee,{tier:"III"}),Fe.value&&J.value&&(le.value=!1),H.value=!1),Ie.value===60&&(H.value=!0,le.value=!1,await b(ee,{tier:"end"}),H.value=!1)}),Oe(()=>Ce.value,()=>{Ce.value==="end"&&(j.value=f.value.points+Math.floor(f.value.resources.cash/3)+(he.value.pawn<=-6&&10||he.value.pawn<=-3&&5||he.value.pawn<=-1&&2||0)+Ne(f.value.resources.coins)+Ee(f.value.cards.purple.map(c=>c.valuePower[0])),se.value=O.value.points+Math.floor(O.value.resources.cash/3)+(he.value.pawn>=6&&10||he.value.pawn>=3&&5||he.value.pawn>=1&&2||0)+Ne(O.value.resources.coins)+Ee(O.value.cards.purple.map(c=>c.valuePower[0])))}),Oe([()=>Be.value,()=>_e.value,()=>Re.value],async([c,p,I])=>{if(I!==""||c!==""||p!==""){I!==""&&(I===te.value.uid?ie.value.play():v.value.play()),c!==""&&(c===te.value.uid?ie.value.play():v.value.play()),p!==""&&(p===te.value.uid?ie.value.play():v.value.play());const S=X.value.players.map($=>$.uid);await b(ps,{isStarted:!1,players:[]}),S.forEach(async $=>{await b(De(vs,$),{game:"",readyToGame:!1,online:"online",timestamp:Js()})}),await Qs(ee),ke.value()}}),zs(async()=>{await de.subFirebaseConnect()}),Ke(async()=>{var _,ae,E;H.value=!0;let c=!1;const p=await je(ps);if(await Ks().then(async B=>{if(B)if(p.exists()){const h=p.data().players.find(A=>A.uid===B.uid);h?(te.value={uid:h.uid,email:h.email,displayName:h.displayName,game:h.game,readyToGame:h.readyToGame,timestamp:h.timestamp,online:h.online},(h.game!=="Duel"||!h.readyToGame)&&(H.value=!1,c=!0)):(H.value=!1,c=!0)}else{const h=await je(De(vs,B.uid));h.exists()?h.data().game!=="Duel"&&(H.value=!1,c=!0):(H.value=!1,c=!0)}}),c)return ss.push("/feed"),null;const I=Ge($s,10),S=Ge(Is,8),$=await je(ee);if($.exists())console.log("Document data:",$.data()),!((_=$.data())!=null&&_.player2.user.uid)&&((ae=$.data())==null||ae.player1.user.uid,te.value.uid);else{if(p.exists()&&p.data().players[0].uid===te.value.uid){const h=p.data().players;await Ys(ee,{player1:{...new Ue,user:h[0]},player2:{...new Ue,user:h[1]},selectWondersForPlayers:[h[0].uid,h[1].uid,h[1].uid,h[0].uid,h[1].uid,h[0].uid,h[0].uid,h[1].uid,h[0].uid],selectWondersForPlayersMove:0,chooseWhoWillStart:!1,turn:te.value.uid,gameBoard:{...new Gs,coins:[I[0],I[1],I[2],I[3],I[4]]},tierICards:rs(Ge(bs,20),"I"),tierIICards:rs(Ge(gs,20),"II"),tierIIICards:rs(Ge([...Ge(_s,17),...Ge(Ps,3)],20),"III"),wonderCards:S,graveyard:[],theRestOfCoins:[I[5],I[6],I[7],I[8],I[9]],tier:"prepare",move:0,pickCoin:"",pickCoinOfThree:"",pickCardFromGraveyard:"",destroyBrown:"",destroyGrey:"",wonByArt:"",wonByAggressive:"",wonBySurr:""})}const B=await je(ee);B.exists()?console.log("Document data second time:",B.data()):console.log("No such document!")}await Z.subFirebaseConnect(`${te.value.uid}`),(Ce.value!=="prepare"||((E=$.data())==null?void 0:E.tier)!=="prepare")&&(le.value=!0),Ze.value!==""&&J.value?(le.value=!1,ue.value={}):es.value!==""&&J.value?(le.value=!1,ue.value={}):is.value!==""&&J.value?(le.value=!1,ue.value={}):(ns.value!==""||us.value!=="")&&J.value?(le.value=!1,ue.value={}):(Be.value!==""||_e.value!==""||Re.value!=="")&&(le.value=!1,ue.value={}),H.value=!1}),qs(async()=>{ke.value.cancel(),Z.unSubFirebaseConnect(),de.unSubFirebaseConnect()});async function ys(c){H.value=!0,await Z.upgradeTurnAndMove(`${c}`,!0),await b(ee,{chooseWhoWillStart:!1}),le.value=!0,H.value=!1}function ye(c,p){if(!(c!=null&&c.id))return-1;let I=0,S=[],$=[],_=[],ae=!1;const E=f.value.resources,B=O.value.resources;return f.value.user.uid===p?(S=[{type:"clay",val:E.clayOne?1:2+B.clayValue},{type:"brick",val:E.brickOne?1:2+B.brickValue},{type:"wood",val:E.woodOne?1:2+B.woodValue}],S=S.sort((h,A)=>A.val-h.val),$=[{type:"paper",val:E.paperGlassOne?1:2+B.paperValue},{type:"glass",val:E.paperGlassOne?1:2+B.glassValue}],$=$.sort((h,A)=>A.val-h.val),c.cost.forEach((h,A)=>{if(h==="specialChar")E.specialChars.find(G=>{if(G===c.valueCost[A])return ae=!0,!0});else if(h==="cash")I+=c.valueCost[A];else if(h==="clay"){let G=c.valueCost[A]-E.clayValue;if(G<=0)return null;for(let z=0;z<G;z++)_.push("clay")}else if(h==="brick"){let G=c.valueCost[A]-E.brickValue;if(G<=0)return null;for(let z=0;z<G;z++)_.push("brick")}else if(h==="wood"){let G=c.valueCost[A]-E.woodValue;if(G<=0)return null;for(let z=0;z<G;z++)_.push("wood")}else if(h==="paper"){let G=c.valueCost[A]-E.paperValue;if(G<=0)return null;for(let z=0;z<G;z++)_.push("paper")}else if(h==="glass"){let G=c.valueCost[A]-E.glassValue;if(G<=0)return null;for(let z=0;z<G;z++)_.push("glass")}})):(S=[{type:"clay",val:B.clayOne?1:2+E.clayValue},{type:"brick",val:B.brickOne?1:2+E.brickValue},{type:"wood",val:B.woodOne?1:2+E.woodValue}],S=S.sort((h,A)=>A.val-h.val),$=[{type:"paper",val:B.paperGlassOne?1:2+E.paperValue},{type:"glass",val:B.paperGlassOne?1:2+E.glassValue}],$=$.sort((h,A)=>A.val-h.val),c.cost.forEach((h,A)=>{if(h==="specialChar")B.specialChars.find(G=>{if(G===c.valueCost[A])return ae=!0,!0});else if(h==="cash")I+=c.valueCost[A];else if(h==="clay"){let G=c.valueCost[A]-B.clayValue;if(G<=0)return null;for(let z=0;z<G;z++)_.push("clay")}else if(h==="brick"){let G=c.valueCost[A]-B.brickValue;if(G<=0)return null;for(let z=0;z<G;z++)_.push("brick")}else if(h==="wood"){let G=c.valueCost[A]-B.woodValue;if(G<=0)return null;for(let z=0;z<G;z++)_.push("wood")}else if(h==="paper"){let G=c.valueCost[A]-B.paperValue;if(G<=0)return null;for(let z=0;z<G;z++)_.push("paper")}else if(h==="glass"){let G=c.valueCost[A]-B.glassValue;if(G<=0)return null;for(let z=0;z<G;z++)_.push("glass")}})),_=Ms(_,S,$,p),(c==null?void 0:c.color)==="blue"&&(f.value.user.uid===p?f.value.resources.coins.find(h=>h==="lowCostBlue")&&(_.shift(),_.shift()):O.value.resources.coins.find(h=>h==="lowCostBlue")&&(_.shift(),_.shift())),c!=null&&c.activated&&(f.value.user.uid===p?f.value.resources.coins.find(h=>h==="lowCostWonder")&&(_.shift(),_.shift()):O.value.resources.coins.find(h=>h==="lowCostWonder")&&(_.shift(),_.shift())),_.forEach(h=>{var A,G;I+=((A=S.find(({type:z})=>z===h))==null?void 0:A.val)||((G=$.find(({type:z})=>z===h))==null?void 0:G.val)||0}),ae?0:I}function Ms(c,p,I,S){let $=c;const _=f.value.resources,ae=O.value.resources;if(f.value.user.uid===S){for(let E=0;E<_.materialsCBW;E++){let B=!1,h=0;$.find((A,G)=>A===p[0].type?(B=!0,h=G,!0):!1),B?$.splice(h,1):($.find((A,G)=>A===p[1].type?(B=!0,h=G,!0):!1),B?$.splice(h,1):($.find((A,G)=>A===p[2].type?(B=!0,h=G,!0):!1),B&&$.splice(h,1)))}for(let E=0;E<_.materialsPG;E++){let B=!1,h=0;$.find((A,G)=>A===I[0].type?(B=!0,h=G,!0):!1),B?$.splice(h,1):($.find((A,G)=>A===I[1].type?(B=!0,h=G,!0):!1),B&&$.splice(h,1))}}else{for(let E=0;E<ae.materialsCBW;E++){let B=!1,h=0;$.find((A,G)=>A===p[0].type?(B=!0,h=G,!0):!1),B?$.splice(h,1):($.find((A,G)=>A===p[1].type?(B=!0,h=G,!0):!1),B?$.splice(h,1):($.find((A,G)=>A===p[2].type?(B=!0,h=G,!0):!1),B&&$.splice(h,1)))}for(let E=0;E<ae.materialsPG;E++){let B=!1,h=0;$.find((A,G)=>A===I[0].type?(B=!0,h=G,!0):!1),B?$.splice(h,1):($.find((A,G)=>A===I[1].type?(B=!0,h=G,!0):!1),B&&$.splice(h,1))}}return $}const Pe=async c=>{if(!J.value||Re.value!=="")return null;H.value=!0;let p={};const I=V.value.map(S=>S.id===c?(p={...S,taken:!0},p):S);fe.value===f.value.user.uid?(await b(ee,{player1:{...f.value,wonderCards:[...f.value.wonderCards,{...p}]},wonderCards:I,selectWondersForPlayersMove:oe(1)}),Z.upgradeTurnAndMove(`${cs.value[ds.value]}`,!0)):(await b(ee,{player2:{...O.value,wonderCards:[...O.value.wonderCards,{...p}]},wonderCards:I,selectWondersForPlayersMove:oe(1)}),Z.upgradeTurnAndMove(`${cs.value[ds.value]}`,!0)),H.value=!1},as=c=>{if(!J.value||Fe.value||Be.value||_e.value)return null;if(ue.value={},Ve.value={},Ae.value=!1,!(c.coversBy&&c.coversBy.length>0)){if(c.taken!=="inGame")return;ue.value=c}},Os=()=>{if(!J.value)return null;Ae.value=!0};function Ss(c,p){if(!J.value)return null;let I=ye(c,`${te.value.uid}`);if(I>p)return null;Ve.value=c,le.value=!1,Z.setCardToWonder(I)}const Ds=async c=>{H.value=!0,le.value=!1;let p=0;switch(c){case"point4n6cash":p+=6;break;case"cash6n4special":p+=6;break}fe.value===f.value.user.uid?(await b(ee,{"gameBoard.coins":me(c),"player1.resources.coins":xe(c),pickCoin:""}),p!==0&&await b(ee,{"player1.resources.cash":oe(6)})):(await b(ee,{"gameBoard.coins":me(c),"player2.resources.coins":xe(c),pickCoin:""}),p!==0&&await b(ee,{"player2.resources.cash":oe(6)})),Z.countArtefacts(fe.value),Be.value===""&&_e.value===""&&Ze.value===""&&Z.upgradeTurnAndMove(fe.value===f.value.user.uid?`${O.value.user.uid}`:`${f.value.user.uid}`),H.value=!1},Fs=async c=>{H.value=!0,le.value=!1;let p=0;switch(c){case"point4n6cash":p+=6;break;case"cash6n4special":p+=6;break}fe.value===f.value.user.uid?(await b(ee,{"gameBoard.coins":me(c),"player1.resources.coins":xe(c),pickCoinOfThree:""}),p!==0&&await b(ee,{"player1.resources.cash":oe(6)})):(await b(ee,{"gameBoard.coins":me(c),"player2.resources.coins":xe(c),pickCoinOfThree:""}),p!==0&&await b(ee,{"player2.resources.cash":oe(6)})),Z.countArtefacts(fe.value),Be.value===""&&_e.value===""&&es.value===""&&(fe.value===f.value.user.uid?f.value.resources.coins.find(I=>I==="repeatWonder")?Z.upgradeTurnAndMove(`${f.value.user.uid}`):Z.upgradeTurnAndMove(`${O.value.user.uid}`):O.value.resources.coins.find(I=>I==="repeatWonder")?Z.upgradeTurnAndMove(`${O.value.user.uid}`):Z.upgradeTurnAndMove(`${f.value.user.uid}`)),H.value=!1},Rs=async c=>{H.value=!0,le.value=!1,await b(ee,{graveyard:me(c),pickCardFromGraveyard:""}),ue.value=c,await Z.setCardTaken(0,c.tier),H.value=!1},Vs=async(c,p)=>{H.value=!0,le.value=!1,p==="brown"?await b(ee,{destroyBrown:""}):await b(ee,{destroyGrey:""}),ue.value=c,await Z.setCardGraveyard(c.tier),H.value=!1},Ee=c=>{let p=0;return c.forEach(I=>{if(I===1){const S=f.value.cards.yellow.length,$=O.value.cards.yellow.length;p+=S>$?S:$}if(I===2){const S=f.value.cards.brown.length+f.value.cards.grey.length,$=O.value.cards.brown.length+O.value.cards.grey.length;p+=S>$?S:$}if(I===3){const S=f.value.wonderCards.length,$=O.value.wonderCards.length;p+=S>$?S*2:$*2}if(I===4){const S=f.value.cards.blue.length,$=O.value.cards.blue.length;p+=S>$?S:$}if(I===5){const S=f.value.cards.green.length,$=O.value.cards.green.length;p+=S>$?S:$}if(I===1){const S=Math.floor(f.value.resources.cash/3),$=Math.floor(O.value.resources.cash/3);p+=S>$?S:$}if(I===7){const S=f.value.cards.red.length,$=O.value.cards.red.length;p+=S>$?S:$}}),p},Ne=c=>{let p=0;return c.forEach(I=>{I==="point4n6cash"&&(p+=4),I==="point7"&&(p+=7),I==="pointX3"&&(p+=3*c.length)}),p};async function Es(c){await b(ee,{wonBySurr:c.uid}),le.value=!1}return(c,p)=>{var S,$;const I=Ye("ion-icon");return a(),t("main",null,[i("header",pt,[i("h1",null,y(u.value),1)]),i("section",ht,[e(H)?(a(),t("div",yt,[K(sa)])):w("",!0),K(Sr,{isMyTurn:J.value,user:te.value,onCoinSelected:Ds},null,8,["isMyTurn","user"]),K(Fr,{isMyTurn:J.value,onPickCardFromGraveyard:Rs},null,8,["isMyTurn"]),K(jr,{user:te.value,onPrepareGameToRemoveFromDb:Es},null,8,["user"]),K(ct,{user:te.value,selectWonderCard:Ae.value,isMyTurn:J.value,onDestrooyEnemyCardSelected:Vs},null,8,["user","selectWonderCard","isMyTurn"]),e(Ce)==="prepare"?(a(),t("section",ft,[hs.value?w("",!0):(a(),t("div",wt,[e(V)[0]&&!e(V)[0].taken?(a(),L(we,{key:0,card:e(V)[0],onClick:p[0]||(p[0]=_=>Pe(e(V)[0].id))},null,8,["card"])):w("",!0),e(V)[1]&&!e(V)[1].taken?(a(),L(we,{key:1,card:e(V)[1],onClick:p[1]||(p[1]=_=>Pe(e(V)[1].id))},null,8,["card"])):w("",!0),e(V)[2]&&!e(V)[2].taken?(a(),L(we,{key:2,card:e(V)[2],onClick:p[2]||(p[2]=_=>Pe(e(V)[2].id))},null,8,["card"])):w("",!0),e(V)[3]&&!e(V)[3].taken?(a(),L(we,{key:3,card:e(V)[3],onClick:p[3]||(p[3]=_=>Pe(e(V)[3].id))},null,8,["card"])):w("",!0)])),hs.value?(a(),t("div",kt,[e(V)[4]&&!e(V)[4].taken?(a(),L(we,{key:0,card:e(V)[4],onClick:p[4]||(p[4]=_=>Pe(e(V)[4].id))},null,8,["card"])):w("",!0),e(V)[5]&&!e(V)[5].taken?(a(),L(we,{key:1,card:e(V)[5],onClick:p[5]||(p[5]=_=>Pe(e(V)[5].id))},null,8,["card"])):w("",!0),e(V)[6]&&!e(V)[6].taken?(a(),L(we,{key:2,card:e(V)[6],onClick:p[6]||(p[6]=_=>Pe(e(V)[6].id))},null,8,["card"])):w("",!0),e(V)[7]&&!e(V)[7].taken?(a(),L(we,{key:3,card:e(V)[7],onClick:p[7]||(p[7]=_=>Pe(e(V)[7].id))},null,8,["card"])):w("",!0)])):w("",!0)])):w("",!0),e(Ce)==="I"?(a(),t("section",Ct,[(a(!0),t(R,null,N(e(re),(_,ae)=>{var E,B;return a(),L(ts,{key:ae,card:_,user:te.value,x:e(Bs)[ae],y:e(aa)[ae],reversColor:"rgb(145, 19, 19)",cash1P:((E=_.coversBy)==null?void 0:E.length)===0?ye(_,`${e(f).user.uid}`):-1,cash2P:((B=_.coversBy)==null?void 0:B.length)===0?ye(_,`${e(O).user.uid}`):-1,onClick:h=>as(_)},null,8,["card","user","x","y","reversColor","cash1P","cash2P","onClick"])}),128))])):w("",!0),e(Ce)==="II"?(a(),t("section",mt,[(a(!0),t(R,null,N(e(q),(_,ae)=>{var E,B;return a(),L(ts,{key:ae,card:_,user:te.value,x:e(ta)[ae],y:e(ra)[ae],reversColor:"rgb(58, 59, 160)",cash1P:((E=_.coversBy)==null?void 0:E.length)===0?ye(_,`${e(f).user.uid}`):-1,cash2P:((B=_.coversBy)==null?void 0:B.length)===0?ye(_,`${e(O).user.uid}`):-1,onClick:h=>as(_)},null,8,["card","user","x","y","reversColor","cash1P","cash2P","onClick"])}),128))])):w("",!0),e(Ce)==="III"?(a(),t("section",bt,[(a(!0),t(R,null,N(e(ve),(_,ae)=>{var E,B;return a(),L(ts,{key:ae,card:_,user:te.value,x:e(oa)[ae],y:e(la)[ae],reversColor:_.tier==="guild"?"rgb(107, 36, 128)":"rgb(175, 85, 202)",cash1P:((E=_.coversBy)==null?void 0:E.length)===0?ye(_,`${e(f).user.uid}`):-1,cash2P:((B=_.coversBy)==null?void 0:B.length)===0?ye(_,`${e(O).user.uid}`):-1,onClick:h=>as(_)},null,8,["card","user","x","y","reversColor","cash1P","cash2P","onClick"])}),128))])):w("",!0),e(Ce)==="end"?(a(),t("section",gt,[i("p",{style:Q(j.value>se.value?"font-weight: bold;":"")},[F(y(`${e(f).user.displayName||e(f).user.email}`),1),j.value>se.value?(a(),L(I,{key:0,class:"animateHand",name:"thumbs-up-sharp"})):w("",!0)],4),i("div",_t,[i("div",Pt,[K(I,{name:"ribbon-sharp"}),F(y(`:${e(f).points}`),1)]),i("div",$t,y(`$:${Math.floor(e(f).resources.cash/3)}`),1),i("div",It,[Bt,F(" "+y(`:${Ee(e(f).cards.purple.map(_=>_.valuePower[0]))}`),1)]),i("div",Gt,[Tt,F(" "+y(`:${Ne(e(f).resources.coins)}`),1)]),i("div",Wt,[K(I,{name:"skull-sharp"}),F(y(`:${e(he).pawn<=-6&&10||e(he).pawn<=-3&&5||e(he).pawn<=-1&&2||0}`),1)]),i("div",At,y(`= ${j.value}`),1)]),i("p",{style:Q(se.value>j.value?"font-weight: bold;":"")},[F(y(`${e(O).user.displayName||e(O).user.email}`),1),se.value>j.value?(a(),L(I,{key:0,class:"animateHand",name:"thumbs-up-sharp"})):w("",!0)],4),i("div",Mt,[i("div",Ot,[K(I,{name:"ribbon-sharp"}),F(y(`:${e(O).points}`),1)]),i("div",St,y(`$:${Math.floor(e(O).resources.cash/3)}`),1),i("div",Dt,[Ft,F(" "+y(`:${Ee(e(O).cards.purple.map(_=>_.valuePower[0]))}`),1)]),i("div",Rt,[Vt,F(" "+y(`:${Ne(e(O).resources.coins)}`),1)]),i("div",Et,[K(I,{name:"skull-sharp"}),F(y(`:${e(he).pawn>=6&&10||e(he).pawn>=3&&5||e(he).pawn>=1&&2||0}`),1)]),i("div",Nt,y(`= ${se.value}`),1)])])):w("",!0),le.value&&((S=e(ue))!=null&&S.id)&&!e(H)?(a(),t("section",Lt,[i("button",{disabled:Me.value<0||!J.value||(e(fe)===e(f).user.uid?Me.value>e(f).resources.cash:Me.value>e(O).resources.cash),class:"customButton",onClick:p[8]||(p[8]=()=>J.value?(e(Z).setCardTaken(Me.value),Ae.value=!1,le.value=!1):null)},y(`${s.value} ${Me.value>=0?Me.value:""}`),9,jt),i("button",{disabled:!(($=e(ue))!=null&&$.id),class:"customButton",onClick:p[9]||(p[9]=()=>J.value?(e(Z).setCardGraveyard(),Ae.value=!1,le.value=!1):null)},y(l.value),9,xt),i("button",{disabled:!As.value,class:"customButton",onClick:p[10]||(p[10]=()=>J.value?Os():null)},y(n.value),9,Xt)])):e(Be)!==""?(a(),t("section",Ht,[i("p",Ut,[F(y(U.value+`${e(Be)===e(f).user.uid?e(f).user.displayName||e(f).user.email:e(O).user.displayName||e(O).user.email}`),1),K(I,{class:"animateHand",name:"thumbs-up-sharp"})])])):e(_e)!==""?(a(),t("section",zt,[i("p",Kt,[F(y(D.value+`${e(_e)===e(f).user.uid?e(f).user.displayName||e(f).user.email:e(O).user.displayName||e(O).user.email}`),1),K(I,{class:"animateHand",name:"thumbs-up-sharp"})])])):e(Re)!==""?(a(),t("section",Yt,[i("p",qt,[F(y(W.value+`${e(_e)===e(f).user.uid?e(f).user.displayName||e(f).user.email:e(O).user.displayName||e(O).user.email}`),1),K(I,{class:"animateHand",name:"thumbs-up-sharp"})]),i("button",{class:"customButton",onClick:p[11]||(p[11]=()=>(ke.value.cancel(),e(ss).push("/feed")))},y(k.value),1)])):J.value&&e(Fe)&&!e(H)?(a(),t("section",Jt,[i("button",{class:"customButton",onClick:p[12]||(p[12]=async()=>await ys(`${e(f).user.uid}`))},y(e(f).user.displayName),1),i("p",null,y(` ${P.value} `),1),i("button",{class:"customButton",onClick:p[13]||(p[13]=async()=>await ys(`${e(O).user.uid}`))},y(e(O).user.displayName),1)])):J.value&&e(Ze)!==""&&!e(H)?(a(),t("section",Qt,[i("p",null,y(T.value),1)])):J.value&&e(es)!==""&&!e(H)?(a(),t("section",Zt,[i("p",null,y(C.value),1),(a(),t(R,null,N(3,_=>K(ze,{key:e(Qe)[_],coin:e(Qe)[_],onClick:ae=>Fs(e(Qe)[_])},null,8,["coin","onClick"])),64))])):J.value&&e(is)!==""&&!e(H)?(a(),t("section",el,[i("p",null,y(d.value),1)])):J.value&&e(ns)!==""&&!e(H)?(a(),t("section",sl,[i("p",null,y(m.value),1)])):J.value&&e(us)!==""&&!e(H)?(a(),t("section",al,[i("p",null,y(m.value),1)])):J.value&&e(Ce)==="prepare"&&!e(H)?(a(),t("section",rl,[i("p",null,y(o.value),1)])):(a(),t("section",tl))])])}}});const ul=ge(ll,[["__scopeId","data-v-bf48eeee"]]);export{ul as default};
