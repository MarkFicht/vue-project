var Ra=Object.defineProperty;var Ea=(s,c,a)=>c in s?Ra(s,c,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[c]=a;var we=(s,c,a)=>(Ea(s,typeof c!="symbol"?c+"":c,a),a);import{h as Ye,k as Ke,K as Va,j as ze,L as Na,y as m,M as X,N as Te,s as We,d as Pe,r as h,t as Ee,B as na,o as p,c as I,u as e,n as $,b as P,e as U,f as ee,_ as _e,x as ve,w as Ge,a as n,F as Y,O as q,v as S,q as la,i as La,l as ha,P as He,Q as Ha,R as ja,G as Ua,g as Xa,S as Ze,m as xe,H as Ya,T as Re,I as Ka,p as za,A as ea}from"./index-85539224.js";import{b as qa,d as Qa,g as Ja,L as Za}from"./debounce-5e97aefb.js";let ya=[],fa=[],wa=[],ma=[],Ca=[],ka=[];ka=[{id:1,taken:!1,activated:"none",cost:["brick","wood","clay","paper"],valueCost:[1,1,1,2],power:["attack","points","break"],valuePower:[1,3,1]},{id:2,taken:!1,activated:"none",cost:["brick","wood","glass"],valueCost:[2,1,1],power:["attack","points","break"],valuePower:[1,3,2]},{id:3,taken:!1,activated:"none",cost:["brick","clay","paper"],valueCost:[2,2,1],power:["effect","points","break","cash"],valuePower:[1,3,3,3]},{id:4,taken:!1,activated:"none",cost:["brick","clay","glass"],valueCost:[1,1,2],power:["effect","points"],valuePower:[1,6]},{id:5,taken:!1,activated:"none",cost:["wood","glass","paper"],valueCost:[2,1,1],power:["effect","points","cash"],valuePower:[1,3,6]},{id:6,taken:!1,activated:"none",cost:["clay","glass","paper"],valueCost:[2,2,1],power:["effect","points"],valuePower:[2,2]},{id:7,taken:!1,activated:"none",cost:["wood","brick","clay"],valueCost:[2,1,1],power:["effect","points","materials"],valuePower:[1,2,2]},{id:8,taken:!1,activated:"none",cost:["wood","glass","paper"],valueCost:[3,1,1],power:["effect","points"],valuePower:[3,4]},{id:9,taken:!1,activated:"none",cost:["brick","paper"],valueCost:[3,1],power:["points"],valuePower:[9]},{id:10,taken:!1,activated:"none",cost:["wood","brick","paper"],valueCost:[1,1,2],power:["materials","points"],valuePower:[1,4]},{id:11,taken:!1,activated:"none",cost:["wood","brick","glass","paper"],valueCost:[1,1,1,1],power:["effect","cash"],valuePower:[1,12]},{id:12,taken:!1,activated:"none",cost:["clay","glass"],valueCost:[3,1],power:["attack","points"],valuePower:[2,3]}];ya=[{tier:"I",idImg:1,taken:"inGame",hide:!1,color:"brown",valueCost:[],cost:[],valuePower:[1],power:["wood"]},{tier:"I",idImg:2,taken:"inGame",hide:!1,color:"brown",valueCost:[1],cost:["cash"],valuePower:[1],power:["brick"]},{tier:"I",idImg:3,taken:"inGame",hide:!1,color:"brown",valueCost:[],cost:[],valuePower:[1],power:["clay"]},{tier:"I",idImg:4,taken:"inGame",hide:!1,color:"brown",valueCost:[1],cost:["cash"],valuePower:[1],power:["wood"]},{tier:"I",idImg:5,taken:"inGame",hide:!1,color:"brown",valueCost:[],cost:[],valuePower:[1],power:["brick"]},{tier:"I",idImg:6,taken:"inGame",hide:!1,color:"brown",valueCost:[1],cost:["cash"],valuePower:[1],power:["clay"]},{tier:"I",idImg:7,taken:"inGame",hide:!1,color:"grey",valueCost:[1],cost:["cash"],valuePower:[1],power:["glass"]},{tier:"I",idImg:8,taken:"inGame",hide:!1,color:"grey",valueCost:[1],cost:["cash"],valuePower:[1],power:["paper"]},{tier:"I",idImg:9,taken:"inGame",hide:!1,color:"red",valueCost:[1],cost:["wood"],valuePower:[1,1],power:["attack","specialChar"]},{tier:"I",idImg:10,taken:"inGame",hide:!1,color:"red",valueCost:[1],cost:["clay"],valuePower:[1,2],power:["attack","specialChar"]},{tier:"I",idImg:11,taken:"inGame",hide:!1,color:"red",valueCost:[2],cost:["cash"],valuePower:[1,3],power:["attack","specialChar"]},{tier:"I",idImg:12,taken:"inGame",hide:!1,color:"red",valueCost:[],cost:[],valuePower:[1],power:["attack"]},{tier:"I",idImg:13,taken:"inGame",hide:!1,color:"green",valueCost:[2],cost:["cash"],valuePower:[1,4],power:["artefact","specialChar"]},{tier:"I",idImg:14,taken:"inGame",hide:!1,color:"green",valueCost:[1],cost:["paper"],valuePower:[3,1],power:["artefact","points"]},{tier:"I",idImg:15,taken:"inGame",hide:!1,color:"green",valueCost:[2],cost:["cash"],valuePower:[2,5],power:["artefact","specialChar"]},{tier:"I",idImg:16,taken:"inGame",hide:!1,color:"green",valueCost:[1],cost:["glass"],valuePower:[4,1],power:["artefact","points"]},{tier:"I",idImg:17,taken:"inGame",hide:!1,color:"yellow",valueCost:[],cost:[],valuePower:[4,9],power:["cash","specialChar"]},{tier:"I",idImg:18,taken:"inGame",hide:!1,color:"yellow",valueCost:[3],cost:["cash"],valuePower:[2],power:["discount"]},{tier:"I",idImg:19,taken:"inGame",hide:!1,color:"yellow",valueCost:[3],cost:["cash"],valuePower:[1],power:["discount"]},{tier:"I",idImg:20,taken:"inGame",hide:!1,color:"yellow",valueCost:[3],cost:["cash"],valuePower:[3],power:["discount"]},{tier:"I",idImg:21,taken:"inGame",hide:!1,color:"blue",valueCost:[],cost:[],valuePower:[6,3],power:["specialChar","points"]},{tier:"I",idImg:22,taken:"inGame",hide:!1,color:"blue",valueCost:[],cost:[],valuePower:[7,3],power:["specialChar","points"]},{tier:"I",idImg:23,taken:"inGame",hide:!1,color:"blue",valueCost:[1],cost:["brick"],valuePower:[8,3],power:["specialChar","points"]}];fa=[{tier:"II",idImg:24,taken:"inGame",hide:!1,color:"brown",valueCost:[2],cost:["cash"],valuePower:[2],power:["wood"]},{tier:"II",idImg:25,taken:"inGame",hide:!1,color:"brown",valueCost:[2],cost:["cash"],valuePower:[2],power:["brick"]},{tier:"II",idImg:26,taken:"inGame",hide:!1,color:"brown",valueCost:[2],cost:["cash"],valuePower:[2],power:["clay"]},{tier:"II",idImg:27,taken:"inGame",hide:!1,color:"grey",valueCost:[],cost:[],valuePower:[1],power:["glass"]},{tier:"II",idImg:28,taken:"inGame",hide:!1,color:"grey",valueCost:[],cost:[],valuePower:[1],power:["paper"]},{tier:"II",idImg:29,taken:"inGame",hide:!1,color:"red",valueCost:[1,1,1],cost:["specialChar","wood","clay"],valuePower:[1],power:["attack"]},{tier:"II",idImg:30,taken:"inGame",hide:!1,color:"red",valueCost:[2,3],cost:["specialChar","cash"],valuePower:[1],power:["attack"]},{tier:"II",idImg:31,taken:"inGame",hide:!1,color:"red",valueCost:[2],cost:["brick"],valuePower:[2],power:["attack"]},{tier:"II",idImg:32,taken:"inGame",hide:!1,color:"red",valueCost:[1,1,1],cost:["brick","wood","paper"],valuePower:[2,10],power:["attack","specialChar"]},{tier:"II",idImg:33,taken:"inGame",hide:!1,color:"red",valueCost:[2,1],cost:["clay","glass"],valuePower:[2,11],power:["attack","specialChar"]},{tier:"II",idImg:34,taken:"inGame",hide:!1,color:"green",valueCost:[1,2],cost:["wood","paper"],valuePower:[3,1,12],power:["artefact","points","specialChar"]},{tier:"II",idImg:35,taken:"inGame",hide:!1,color:"green",valueCost:[1,2],cost:["wood","glass"],valuePower:[4,1,13],power:["artefact","points","specialChar"]},{tier:"II",idImg:36,taken:"inGame",hide:!1,color:"green",valueCost:[5,2,1],cost:["specialChar","clay","brick"],valuePower:[2,2],power:["artefact","points"]},{tier:"II",idImg:37,taken:"inGame",hide:!1,color:"green",valueCost:[4,1,1,1],cost:["specialChar","brick","wood","glass"],valuePower:[1,2],power:["artefact","points"]},{tier:"II",idImg:38,taken:"inGame",hide:!1,color:"yellow",valueCost:[],cost:[],valuePower:[6,17],power:["cash","specialChar"]},{tier:"II",idImg:39,taken:"inGame",hide:!1,color:"yellow",valueCost:[3,1],cost:["cash","clay"],valuePower:[2],power:["materials"]},{tier:"II",idImg:40,taken:"inGame",hide:!1,color:"yellow",valueCost:[2,1,1],cost:["cash","paper","glass"],valuePower:[1],power:["materials"]},{tier:"II",idImg:41,taken:"inGame",hide:!1,color:"yellow",valueCost:[4],cost:["cash"],valuePower:[4],power:["discount"]},{tier:"II",idImg:42,taken:"inGame",hide:!1,color:"blue",valueCost:[7,1,1],cost:["specialChar","wood","paper"],valuePower:[4,15],power:["points","specialChar"]},{tier:"II",idImg:43,taken:"inGame",hide:!1,color:"blue",valueCost:[6,2],cost:["specialChar","clay"],valuePower:[4,14],power:["points","specialChar"]},{tier:"II",idImg:44,taken:"inGame",hide:!1,color:"blue",valueCost:[2,1],cost:["wood","glass"],valuePower:[5],power:["points"]},{tier:"II",idImg:45,taken:"inGame",hide:!1,color:"blue",valueCost:[8,3],cost:["specialChar","brick"],valuePower:[5],power:["points"]},{tier:"II",idImg:46,taken:"inGame",hide:!1,color:"blue",valueCost:[1,1],cost:["brick","wood"],valuePower:[4,16],power:["points","specialChar"]}];wa=[{tier:"III",idImg:47,taken:"inGame",hide:!1,color:"red",valueCost:[11,2,2],cost:["specialChar","clay","brick"],valuePower:[2],power:["attack"]},{tier:"III",idImg:48,taken:"inGame",hide:!1,color:"red",valueCost:[3,2],cost:["clay","wood"],valuePower:[3],power:["attack"]},{tier:"III",idImg:49,taken:"inGame",hide:!1,color:"red",valueCost:[10,3,1],cost:["specialChar","wood","glass"],valuePower:[2],power:["attack"]},{tier:"III",idImg:50,taken:"inGame",hide:!1,color:"red",valueCost:[3,2,1,1],cost:["specialChar","brick","clay","paper"],valuePower:[2],power:["attack"]},{tier:"III",idImg:51,taken:"inGame",hide:!1,color:"red",valueCost:[8],cost:["cash"],valuePower:[3],power:["attack"]},{tier:"III",idImg:52,taken:"inGame",hide:!1,color:"green",valueCost:[1,1,2],cost:["brick","wood","glass"],valuePower:[6,3],power:["artefact","points"]},{tier:"III",idImg:53,taken:"inGame",hide:!1,color:"green",valueCost:[12,1,1,1],cost:["specialChar","clay","paper","glass"],valuePower:[5,2],power:["artefact","points"]},{tier:"III",idImg:54,taken:"inGame",hide:!1,color:"green",valueCost:[2,1,1],cost:["wood","paper","glass"],valuePower:[6,3],power:["artefact","points"]},{tier:"III",idImg:55,taken:"inGame",hide:!1,color:"green",valueCost:[13,1,2],cost:["specialChar","brick","paper"],valuePower:[5,2],power:["artefact","points"]},{tier:"III",idImg:56,taken:"inGame",hide:!1,color:"yellow",valueCost:[18,1,1,1],cost:["specialChar","clay","brick","wood"],valuePower:[3,1],power:["points","cashBack"]},{tier:"III",idImg:57,taken:"inGame",hide:!1,color:"yellow",valueCost:[2],cost:["paper"],valuePower:[3,3],power:["points","cashBack"]},{tier:"III",idImg:58,taken:"inGame",hide:!1,color:"yellow",valueCost:[1,1,1],cost:["wood","glass","paper"],valuePower:[3,4],power:["points","cashBack"]},{tier:"III",idImg:59,taken:"inGame",hide:!1,color:"yellow",valueCost:[17,2,1],cost:["specialChar","clay","glass"],valuePower:[3,2],power:["points","cashBack"]},{tier:"III",idImg:60,taken:"inGame",hide:!1,color:"yellow",valueCost:[2,1],cost:["brick","glass"],valuePower:[3,5],power:["points","cashBack"]},{tier:"III",idImg:61,taken:"inGame",hide:!1,color:"blue",valueCost:[1,1,1,2],cost:["clay","brick","wood","glass"],valuePower:[7],power:["points"]},{tier:"III",idImg:62,taken:"inGame",hide:!1,color:"blue",valueCost:[14,2,2],cost:["specialChar","clay","wood"],valuePower:[6],power:["points"]},{tier:"III",idImg:63,taken:"inGame",hide:!1,color:"blue",valueCost:[15,1,1,2],cost:["specialChar","clay","wood","paper"],valuePower:[6],power:["points"]},{tier:"III",idImg:64,taken:"inGame",hide:!1,color:"blue",valueCost:[3,2],cost:["brick","wood"],valuePower:[7],power:["points"]},{tier:"III",idImg:65,taken:"inGame",hide:!1,color:"blue",valueCost:[16,2,1,1],cost:["specialChar","clay","brick","paper"],valuePower:[5],power:["points"]},{tier:"III",idImg:66,taken:"inGame",hide:!1,color:"blue",valueCost:[2,1],cost:["brick","glass"],valuePower:[5],power:["points"]}];ma=[{tier:"guild",idImg:67,taken:"inGame",hide:!1,color:"purple",valueCost:[1,1,1,1],cost:["clay","wood","paper","glass"],valuePower:[1],power:["guild"]},{tier:"guild",idImg:68,taken:"inGame",hide:!1,color:"purple",valueCost:[1,1,1,1],cost:["clay","brick","paper","glass"],valuePower:[2],power:["guild"]},{tier:"guild",idImg:69,taken:"inGame",hide:!1,color:"purple",valueCost:[2,1,1,1],cost:["brick","clay","wood","glass"],valuePower:[3],power:["guild"]},{tier:"guild",idImg:70,taken:"inGame",hide:!1,color:"purple",valueCost:[2,1,1],cost:["wood","clay","paper"],valuePower:[4],power:["guild"]},{tier:"guild",idImg:71,taken:"inGame",hide:!1,color:"purple",valueCost:[2,2],cost:["clay","wood"],valuePower:[5],power:["guild"]},{tier:"guild",idImg:72,taken:"inGame",hide:!1,color:"purple",valueCost:[2,2],cost:["brick","wood"],valuePower:[6],power:["guild"]},{tier:"guild",idImg:73,taken:"inGame",hide:!1,color:"purple",valueCost:[2,1,1],cost:["brick","clay","paper"],valuePower:[7],power:["guild"]}];Ca=["artefact7","attack1","cash6n4special","cashBack","lowCostBlue","lowCostWonder","point4n6cash","point7","pointX3","repeatWonder"];const xa=[-140,-140,-100,-100,-100,-60,-60,-60,-60,-20,-20,-20,-20,-20,20,20,20,20,20,20],ga=[-105,5,-160,-50,60,-215,-105,5,115,-270,-160,-50,60,170,-325,-215,-105,5,115,225],es=[-140,-140,-140,-140,-140,-140,-100,-100,-100,-100,-100,-60,-60,-60,-60,-20,-20,-20,20,20],as=[...ga].reverse(),ss=[-180,-180,-140,-140,-140,-100,-100,-100,-100,-60,-60,-20,-20,-20,-20,20,20,20,60,60],rs=[-105,5,-160,-50,60,-215,-105,5,115,-160,60,-215,-105,5,115,-160,-50,60,-105,5],ls=[3,4,5,10,11,12,13,14];class ba{constructor(c){we(this,"pawn",0);we(this,"coins",[]);we(this,"punishment1",!0);we(this,"punishment2",!0);we(this,"punishment3",!0);we(this,"punishment4",!0);Object.assign(this,c)}}class sa{constructor(c){we(this,"_id",0);we(this,"user",{});we(this,"points",0);we(this,"resources",{cash:7,clayValue:0,brickValue:0,woodValue:0,paperValue:0,glassValue:0,clayOne:0,brickOne:0,woodOne:0,paperGlassOne:0,materialsCBW:0,materialsPG:0,specialChars:[],artefacts:[],specialEffects:[],coins:[]});we(this,"wonderCards",[]);we(this,"cards",{red:[],green:[],blue:[],yellow:[],brown:[],grey:[],purple:[]});Object.assign(this,c)}get id(){return this._id}set setId(c){this._id=c}}const ts=Ye(ze,"gameDuel"),T=Ke(ts,"table1");let da;const Oe=Va("duelGameStore",{state:()=>({turn:"",tier:"prepare",move:0,pickCoin:"",pickCoinOfThree:"",pickCardFromGraveyard:"",destroyBrown:"",destroyGrey:"",tierOneCards:[],tierTwoCards:[],tierThreeCards:[],theRestOfCoins:[],wonderCards:[],graveyard:[],board:new ba,player1:new sa,player2:new sa,selectWondersForPlayers:[],selectWondersForPlayersMove:0,chooseWhoWillStart:!1,wonByArt:"",wonByAggressive:"",wonBySurr:"",wonByPoints:"",selectedCard:{},selectedWonder:{},isLoading:!1,endGameAnimationEnd:!1}),getters:{},actions:{async subFirebaseConnect(s){da=await Na(T,c=>{if(c.exists()){const{turn:a,tier:t,move:r,tierICards:u,tierIICards:g,tierIIICards:C,player1:d,player2:l,gameBoard:o,wonderCards:i,graveyard:b,theRestOfCoins:f,pickCoin:G,pickCoinOfThree:L,pickCardFromGraveyard:O,destroyBrown:v,destroyGrey:Q,selectWondersForPlayers:Be,selectWondersForPlayersMove:oe,chooseWhoWillStart:F,wonByArt:ie,wonByAggressive:se,wonBySurr:pe,wonByPoints:_}=c.data();this.turn=a,this.tier=t,this.move=r,this.tierOneCards=u,this.tierTwoCards=g,this.tierThreeCards=C,this.player1=d,this.player2=l,this.board=o,this.wonderCards=i,this.graveyard=b,this.theRestOfCoins=f,this.pickCoin=G,this.pickCoinOfThree=L,this.pickCardFromGraveyard=O,this.destroyBrown=v,this.destroyGrey=Q,this.selectWondersForPlayers=Be,this.selectWondersForPlayersMove=oe,this.chooseWhoWillStart=F,this.wonByArt=ie,this.wonByAggressive=se,this.wonBySurr=pe,this.wonByPoints=_}})},unSubFirebaseConnect(){da()},unselectCard(){this.selectedCard={},this.selectedWonder={}},async upgradeTurnAndMove(s,c,a){if(c)await m(T,{turn:s});else if(this.move+1===60&&this.wonByAggressive===""&&this.wonByArt===""&&this.wonBySurr==="")await m(T,{tier:"end",move:X(1)});else if((this.move+1===20||this.move+1===40)&&!this.chooseWhoWillStart){let t=s;t=t===this.player1.user.uid?`${this.player2.user.uid}`:`${this.player1.user.uid}`,this.board.pawn>0||a&&a>0?t=`${this.player1.user.uid}`:(this.board.pawn<0||a&&a<0)&&(t=`${this.player2.user.uid}`),await m(T,{chooseWhoWillStart:!0,turn:t,move:X(1)})}else await m(T,{turn:s,move:X(1)})},async setPickCoin(s){await m(T,{pickCoin:s})},async setPickCoinOfThree(s){await m(T,{pickCoinOfThree:s})},async setPickCardFromGraveyard(s){await m(T,{pickCardFromGraveyard:s})},async setDestroyBrown(s){await m(T,{destroyBrown:s})},async setDestroyGrey(s){await m(T,{destroyGrey:s})},async setMovePawn(s,c){let a=0;if(c===this.player1.user.uid){const t=setInterval(async()=>{this.board.pawn<-7&&(clearInterval(t),await m(T,{"gameBoard.pawn":X(-1),wonByAggressive:c}),console.log("%c END GAME - ATTACK -> ","background: #222; color: #bada55")),this.board.punishment1&&this.board.pawn<=-5?await m(T,{"gameBoard.punishment1":!1,"gameBoard.pawn":X(-1),"player2.resources.cash":this.player2.resources.cash<=5?0:this.player2.resources.cash-=5}):this.board.punishment2&&this.board.pawn<=-2?await m(T,{"gameBoard.punishment2":!1,"gameBoard.pawn":X(-1),"player2.resources.cash":this.player2.resources.cash<=2?0:this.player2.resources.cash-=2}):await m(T,{"gameBoard.pawn":X(-1)}),a++,a>=s&&clearInterval(t)},333)}else{const t=setInterval(async()=>{this.board.pawn>7&&(clearInterval(t),await m(T,{"gameBoard.pawn":X(1),wonByAggressive:c}),console.log("%c END GAME - ATTACK -> ","background: #222; color: #bada55")),this.board.punishment3&&this.board.pawn>=2?await m(T,{"gameBoard.punishment3":!1,"gameBoard.pawn":X(1),"player1.resources.cash":this.player1.resources.cash<=5?0:this.player1.resources.cash-=5}):this.board.punishment4&&this.board.pawn>=5?await m(T,{"gameBoard.punishment4":!1,"gameBoard.pawn":X(1),"player1.resources.cash":this.player1.resources.cash<=2?0:this.player1.resources.cash-=2}):await m(T,{"gameBoard.pawn":X(1)}),a++,a>=s&&clearInterval(t)},333)}},async countArtefacts(s){let c=0;if(s===this.player1.user.uid){this.player1.resources.coins.find(t=>t==="artefact7")&&(c+=1);const a=this.player1.cards.green.map(t=>t.valuePower[0]);c+=[...new Set(a)].length}else{this.player2.resources.coins.find(t=>t==="artefact7")&&(c+=1);const a=this.player2.cards.green.map(t=>t.valuePower[0]);c+=[...new Set(a)].length}if(c>=6){await m(T,{wonByArt:s}),console.log("%c END GAME - ARTEFACT -> ","background: #222; color: #bada55");return}},async setCardTaken(s,c){let a={},t=!1,r=!1,u=!1,g=0,C=0;if(c==="I"||this.tier==="I"?(this.tierOneCards=this.$state.tierOneCards.map(d=>(d.id===this.selectedCard.id&&(a=d),{...d,taken:d.id===this.selectedCard.id?"inPlayerBoard":d.taken,coversBy:d!=null&&d.coversBy?d.coversBy.filter(l=>l!==this.selectedCard.id):[]})),await m(T,{tierICards:this.tierOneCards})):c==="II"||this.tier==="II"?(this.tierTwoCards=this.$state.tierTwoCards.map(d=>(d.id===this.selectedCard.id&&(a=d),{...d,taken:d.id===this.selectedCard.id?"inPlayerBoard":d.taken,coversBy:d!=null&&d.coversBy?d.coversBy.filter(l=>l!==this.selectedCard.id):[]})),await m(T,{tierIICards:this.tierTwoCards})):(c==="III"||c==="guild"||this.tier==="III")&&(this.tierThreeCards=this.$state.tierThreeCards.map(d=>(d.id===this.selectedCard.id&&(a=d),{...d,taken:d.id===this.selectedCard.id?"inPlayerBoard":d.taken,coversBy:d!=null&&d.coversBy?d.coversBy.filter(l=>l!==this.selectedCard.id):[]})),await m(T,{tierIIICards:this.tierThreeCards})),this.isLoading=!0,this.turn===this.player1.user.uid){this.player1.resources.coins.find(l=>l==="cash6n4special")&&s===0&&a.cost[0]==="specialChar"&&this.player1.resources.specialChars.find(l=>l===a.valueCost[0])&&(C=4);const d=va(a,this.player1);if(this.player1.cards[a.color].push({...a,taken:"inPlayerBoard"}),a.color==="red"&&a.power.forEach((l,o)=>{l==="attack"&&(this.player1.resources.coins.find(i=>i==="attack1")?g=++a.valuePower[o]:g=a.valuePower[o],u=!0)}),a.color==="green"&&(r=!0,a.power.forEach((l,o)=>{if(l==="artefact"&&this.player1.resources.artefacts.length!==0){let i=0;this.player1.resources.artefacts.forEach(b=>{b===a.valuePower[o]&&i++}),i===2&&(t=!0)}})),a.color==="purple")switch(a.valuePower[0]){case 1:{const l=this.player1.cards.yellow.length,o=this.player2.cards.yellow.length,i=l>o?l:o;d.cash+=i;break}case 2:{const l=this.player1.cards.brown.length+this.player1.cards.grey.length,o=this.player2.cards.brown.length+this.player2.cards.grey.length,i=l>o?l:o;d.cash+=i;break}case 4:{const l=this.player1.cards.blue.length,o=this.player2.cards.blue.length,i=l>o?l:o;d.cash+=i;break}case 5:{const l=this.player1.cards.green.length,o=this.player2.cards.green.length,i=l>o?l:o;d.cash+=i;break}case 7:{const l=this.player1.cards.red.length,o=this.player2.cards.red.length,i=l>o?l:o;d.cash+=i;break}}if(await m(T,{"player1.points":this.player1.points,"player1.cards":this.player1.cards,"player1.resources":{...d,cash:d.cash+C-s}}),s>0&&this.player2.resources.coins.find(l=>l==="cashBack")){let l=s;a.cost.find((o,i)=>o==="cash"?(l-=a.valueCost[i],!0):!1),m(T,{"player2.resources.cash":X(l)})}r&&await this.countArtefacts(`${this.player1.user.uid}`),u&&await this.setMovePawn(g,`${this.player1.user.uid}`),t&&await this.setPickCoin(`${this.player1.user.uid}`),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCoin===""&&(this.turn===this.player1.user.uid&&c?(this.move+1===20||this.move+1===40)&&g!==0?await this.upgradeTurnAndMove(`${this.player2.user.uid}`,!1,this.board.pawn+g):this.player1.resources.coins.find(l=>l==="repeatWonder")&&(this.move+1!==20||this.move+1!==40)?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.turn===this.player2.user.uid&&c?this.player2.resources.coins.find(l=>l==="repeatWonder")&&(this.move+1!==20||this.move+1!==40)?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`):await this.upgradeTurnAndMove(`${this.player2.user.uid}`))}else{this.player2.resources.coins.find(l=>l==="cash6n4special")&&s===0&&a.cost[0]==="specialChar"&&this.player2.resources.specialChars.find(l=>l===a.valueCost[0])&&(C=4);const d=va(a,this.player2);if(this.player2.cards[a.color].push({...a,taken:"inPlayerBoard"}),a.color==="red"&&a.power.forEach((l,o)=>{l==="attack"&&(this.player2.resources.coins.find(i=>i==="attack1")?g=a.valuePower[o]+1:g=a.valuePower[o],u=!0)}),a.color==="green"&&(r=!0,a.power.forEach((l,o)=>{if(l==="artefact"&&this.player2.resources.artefacts.length!==0){let i=0;this.player2.resources.artefacts.forEach(b=>{b===a.valuePower[o]&&i++}),i===2&&(t=!0)}})),a.color==="purple")switch(a.valuePower[0]){case 1:{const l=this.player1.cards.yellow.length,o=this.player2.cards.yellow.length,i=l>o?l:o;d.cash+=i;break}case 2:{const l=this.player1.cards.brown.length+this.player1.cards.grey.length,o=this.player2.cards.brown.length+this.player1.cards.grey.length,i=l>o?l:o;d.cash+=i;break}case 4:{const l=this.player1.cards.blue.length,o=this.player2.cards.blue.length,i=l>o?l:o;d.cash+=i;break}case 5:{const l=this.player1.cards.green.length,o=this.player2.cards.green.length,i=l>o?l:o;d.cash+=i;break}case 7:{const l=this.player1.cards.red.length,o=this.player2.cards.red.length,i=l>o?l:o;d.cash+=i;break}}if(await m(T,{"player2.points":this.player2.points,"player2.cards":this.player2.cards,"player2.resources":{...d,cash:d.cash+C-s}}),s>0&&this.player1.resources.coins.find(l=>l==="cashBack")){let l=s;a.cost.find((o,i)=>o==="cash"?(l-=a.valueCost[i],!0):!1),m(T,{"player1.resources.cash":X(l)})}r&&await this.countArtefacts(`${this.player2.user.uid}`),u&&await this.setMovePawn(g,`${this.player2.user.uid}`),t&&await this.setPickCoin(`${this.player2.user.uid}`),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCoin===""&&((this.move+1===20||this.move+1===40)&&g!==0?await this.upgradeTurnAndMove(`${this.player1.user.uid}`,!1,this.board.pawn-g):this.turn===this.player1.user.uid&&c?this.player1.resources.coins.find(l=>l==="repeatWonder")&&(this.move+1!==20||this.move+1!==40)?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.turn===this.player2.user.uid&&c?this.player2.resources.coins.find(l=>l==="repeatWonder")&&(this.move+1!==20||this.move+1!==40)?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`):await this.upgradeTurnAndMove(`${this.player1.user.uid}`))}this.unselectCard(),this.isLoading=!1},async setCardGraveyard(s){var a;let c={};if(s==="I"||this.tier==="I"?(this.tierOneCards=this.$state.tierOneCards.map(t=>(t.id===this.selectedCard.id&&(c=t),{...t,taken:t.id===this.selectedCard.id?"graveyard":t.taken,coversBy:t!=null&&t.coversBy?t.coversBy.filter(r=>r!==this.selectedCard.id):[]})),await m(T,{tierICards:this.tierOneCards})):s==="II"||this.tier==="II"?(this.tierTwoCards=this.$state.tierTwoCards.map(t=>(t.id===this.selectedCard.id&&(c=t),{...t,taken:t.id===this.selectedCard.id?"graveyard":t.taken,coversBy:t!=null&&t.coversBy?t.coversBy.filter(r=>r!==this.selectedCard.id):[]})),await m(T,{tierIICards:this.tierTwoCards})):(s==="III"||s==="guild"||this.tier==="III")&&(this.tierThreeCards=this.$state.tierThreeCards.map(t=>(t.id===this.selectedCard.id&&(c=t),{...t,taken:t.id===this.selectedCard.id?"graveyard":t.taken,coversBy:t!=null&&t.coversBy?t.coversBy.filter(r=>r!==this.selectedCard.id):[]})),await m(T,{tierIIICards:this.tierThreeCards})),this.isLoading=!0,this.graveyard.push({...c,taken:"graveyard"}),s)if(this.turn===this.player1.user.uid){const t={...this.player2.resources};if(c.color==="brown"){switch(c.power[0]){case"clay":t.clayValue-=c.valuePower[0];break;case"brick":t.brickValue-=c.valuePower[0];break;case"wood":t.woodValue-=c.valuePower[0];break}await m(T,{"player2.resources":t,graveyard:this.graveyard,"player2.cards.brown":Te({...c,taken:"inPlayerBoard"})})}else if(c.color==="grey"){switch(c.power[0]){case"paper":t.paperValue-=c.valuePower[0];break;case"glass":t.glassValue-=c.valuePower[0];break}await m(T,{"player2.resources":t,graveyard:this.graveyard,"player2.cards.grey":Te({...c,taken:"inPlayerBoard"})})}this.player1.resources.coins.find(r=>r==="repeatWonder")&&(this.move+1!==20||this.move+1!==40)?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`)}else{const t={...this.player1.resources};if(c.color==="brown"){switch(c.power[0]){case"clay":t.clayValue-=c.valuePower[0];break;case"brick":t.brickValue-=c.valuePower[0];break;case"wood":t.woodValue-=c.valuePower[0];break}await m(T,{"player1.resources":t,graveyard:this.graveyard,"player1.cards.brown":Te({...c,taken:"inPlayerBoard"})})}else if(c.color==="grey"){switch(c.power[0]){case"paper":t.paperValue-=c.valuePower[0];break;case"glass":t.glassValue-=c.valuePower[0];break}await m(T,{"player1.resources":t,graveyard:this.graveyard,"player1.cards.grey":Te({...c,taken:"inPlayerBoard"})})}this.player2.resources.coins.find(r=>r==="repeatWonder")&&(this.move+1!==20||this.move+1!==40)?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`)}else if(this.turn===this.player1.user.uid){const t=2+this.player1.cards.yellow.length;await m(T,{"player1.resources.cash":X(t),graveyard:this.graveyard}),this.upgradeTurnAndMove(`${(a=this.player2.user)==null?void 0:a.uid}`)}else{const t=2+this.player2.cards.yellow.length;await m(T,{"player2.resources.cash":X(t),graveyard:this.graveyard}),this.upgradeTurnAndMove(`${this.player1.user.uid}`)}this.unselectCard(),this.isLoading=!1},async setCardToWonder(s){let c={},a={},t=!1,r=0,u=!1,g=!1,C=!1,d=!1,l=!1;if(this.tier==="I"?(this.tierOneCards=this.$state.tierOneCards.map(o=>(o.id===this.selectedCard.id&&(c=o),{...o,taken:o.id===this.selectedCard.id?"inWonder":o.taken,coversBy:o!=null&&o.coversBy?o.coversBy.filter(i=>i!==this.selectedCard.id):[]})),await m(T,{tierICards:this.tierOneCards})):this.tier==="II"?(this.tierTwoCards=this.$state.tierTwoCards.map(o=>(o.id===this.selectedCard.id&&(c=o),{...o,taken:o.id===this.selectedCard.id?"inWonder":o.taken,coversBy:o!=null&&o.coversBy?o.coversBy.filter(i=>i!==this.selectedCard.id):[]})),await m(T,{tierIICards:this.tierTwoCards})):this.tier==="III"&&(this.tierThreeCards=this.$state.tierThreeCards.map(o=>(o.id===this.selectedCard.id&&(c=o),{...o,taken:o.id===this.selectedCard.id?"inWonder":o.taken,coversBy:o!=null&&o.coversBy?o.coversBy.filter(i=>i!==this.selectedCard.id):[]})),await m(T,{tierIIICards:this.tierThreeCards})),a=this.selectedWonder,a.activated=c.tier,this.isLoading=!0,this.turn===this.player1.user.uid){const o=pa(a,this.player1);o.resources.cash-=s,o.resources.coins.find(f=>f==="repeatWonder")&&(u=!0),s>0&&this.player2.resources.coins.find(f=>f==="cashBack")&&m(T,{"player2.resources.cash":X(s)}),a.power.forEach(async(f,G)=>{f==="attack"?(t=!0,r=a.valuePower[G]):f==="break"?a.valuePower[G]===1?this.player2.cards.brown.length>0&&(g=!0):a.valuePower[G]===2?this.player2.cards.grey.length>0&&(C=!0):a.valuePower[G]===3&&await m(T,{"player2.resources.cash":this.player2.resources.cash<=3?0:X(-3)}):f==="effect"&&(a.valuePower[G]===1?u=!0:a.valuePower[G]===2?d=!0:a.valuePower[G]===3&&(l=!0))}),t&&this.setMovePawn(r,`${this.player1.user.uid}`),l&&await this.setPickCoinOfThree(`${this.player1.user.uid}`),d&&await this.setPickCardFromGraveyard(`${this.player1.user.uid}`),g&&await this.setDestroyBrown(`${this.player1.user.uid}`),C&&await this.setDestroyGrey(`${this.player1.user.uid}`);const i=o.wonderCards.filter(f=>f.activated!=="none"),b=this.player2.wonderCards.filter(f=>f.activated!=="none");i.length===3&&b.length===4?await m(T,{player1:{...o,wonderCards:i}}):i.length===4&&b.length===3?await m(T,{player1:o,"player2.wonderCards":b}):await m(T,{player1:o}),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCardFromGraveyard===""&&this.pickCoinOfThree===""&&this.destroyBrown===""&&this.destroyGrey===""&&(u&&this.move!==19&&this.move!==39?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`))}else{const o=pa(a,this.player2);o.resources.cash-=s,o.resources.coins.find(f=>f==="repeatWonder")&&(u=!0),s>0&&this.player1.resources.coins.find(f=>f==="cashBack")&&m(T,{"player1.resources.cash":X(s)}),a.power.forEach(async(f,G)=>{f==="attack"?(t=!0,r=a.valuePower[G]):f==="break"?a.valuePower[G]===1?this.player1.cards.brown.length>0&&(g=!0):a.valuePower[G]===2?this.player1.cards.grey.length>0&&(C=!0):a.valuePower[G]===3&&await m(T,{"player1.resources.cash":this.player1.resources.cash<=3?0:X(-3)}):f==="effect"&&(a.valuePower[G]===1?u=!0:a.valuePower[G]===2?d=!0:a.valuePower[G]===3&&(l=!0))}),t&&this.setMovePawn(r,`${this.player2.user.uid}`),l&&await this.setPickCoinOfThree(`${this.player2.user.uid}`),d&&await this.setPickCardFromGraveyard(`${this.player2.user.uid}`),g&&await this.setDestroyBrown(`${this.player2.user.uid}`),C&&await this.setDestroyGrey(`${this.player2.user.uid}`);const i=this.player1.wonderCards.filter(f=>f.activated!=="none"),b=o.wonderCards.filter(f=>f.activated!=="none");i.length===3&&b.length===4?await m(T,{"player1.wonderCards":i,player2:o}):i.length===4&&b.length===3?await m(T,{player2:{...o,wonderCards:b}}):await m(T,{player2:o}),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCardFromGraveyard===""&&this.pickCoinOfThree===""&&this.destroyBrown===""&&this.destroyGrey===""&&(u&&this.move!==19&&this.move!==39?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`))}this.unselectCard(),this.isLoading=!1}}}),os=Oe(),{player1:Me,player2:aa}=We(os);function oa(s,c){let a=[];return c==="I"?a=s.map((t,r)=>{const u=r+1;let g=0;return r<2?g=2:r<5?g=3:r<9?g=4:r<14?g=5:r<20&&(g=0),{...t,id:u,coversBy:g!==0?[u+g,u+g+1]:[],hide:!!ls.find(C=>C===u)}}):c==="II"?(a[0]={...s[0],id:1,coversBy:[7]},a[1]={...s[1],id:2,coversBy:[7,8]},a[2]={...s[2],id:3,coversBy:[8,9]},a[3]={...s[3],id:4,coversBy:[9,10]},a[4]={...s[4],id:5,coversBy:[10,11]},a[5]={...s[5],id:6,coversBy:[11]},a[6]={...s[6],id:7,coversBy:[12],hide:!0},a[7]={...s[7],id:8,coversBy:[12,13],hide:!0},a[8]={...s[8],id:9,coversBy:[13,14],hide:!0},a[9]={...s[9],id:10,coversBy:[14,15],hide:!0},a[10]={...s[10],id:11,coversBy:[15],hide:!0},a[11]={...s[11],id:12,coversBy:[16]},a[12]={...s[12],id:13,coversBy:[16,17]},a[13]={...s[13],id:14,coversBy:[17,18]},a[14]={...s[14],id:15,coversBy:[18]},a[15]={...s[15],id:16,coversBy:[19],hide:!0},a[16]={...s[16],id:17,coversBy:[19,20],hide:!0},a[17]={...s[17],id:18,coversBy:[20],hide:!0},a[18]={...s[18],id:19,coversBy:[]},a[19]={...s[19],id:20,coversBy:[]}):c==="III"&&(a[0]={...s[0],id:1,coversBy:[3,4]},a[1]={...s[1],id:2,coversBy:[4,5]},a[2]={...s[2],id:3,coversBy:[6,7],hide:!0},a[3]={...s[3],id:4,coversBy:[7,8],hide:!0},a[4]={...s[4],id:5,coversBy:[8,9],hide:!0},a[5]={...s[5],id:6,coversBy:[10]},a[6]={...s[6],id:7,coversBy:[10]},a[7]={...s[7],id:8,coversBy:[11]},a[8]={...s[8],id:9,coversBy:[11]},a[9]={...s[9],id:10,coversBy:[12,13],hide:!0},a[10]={...s[10],id:11,coversBy:[14,15],hide:!0},a[11]={...s[11],id:12,coversBy:[16]},a[12]={...s[12],id:13,coversBy:[16,17]},a[13]={...s[13],id:14,coversBy:[17,18]},a[14]={...s[14],id:15,coversBy:[18]},a[15]={...s[15],id:16,coversBy:[19],hide:!0},a[16]={...s[16],id:17,coversBy:[19,20],hide:!0},a[17]={...s[17],id:18,coversBy:[20],hide:!0},a[18]={...s[18],id:19,coversBy:[]},a[19]={...s[19],id:20,coversBy:[]}),a}const va=(s,c)=>{const a={...c.resources};if(s.color==="brown")switch(s.power[0]){case"clay":a.clayValue+=s.valuePower[0];break;case"brick":a.brickValue+=s.valuePower[0];break;case"wood":a.woodValue+=s.valuePower[0];break}else if(s.color==="grey")switch(s.power[0]){case"paper":a.paperValue+=s.valuePower[0];break;case"glass":a.glassValue+=s.valuePower[0];break}else s.color==="yellow"?s.power.forEach((t,r)=>{if(t==="points"&&(c.points+=s.valuePower[r]),t==="discount")switch(s.valuePower[r]){case 1:a.clayOne=1;break;case 2:a.brickOne=1;break;case 3:a.woodOne=1;break;case 4:a.paperGlassOne=1;break}if(t==="materials")switch(s.valuePower[r]){case 1:a.materialsCBW+=1;break;case 2:a.materialsPG+=1;break}if(t==="specialChar"&&a.specialChars.push(s.valuePower[r]),t==="cash"&&(a.cash+=s.valuePower[r]),t==="cashBack")switch(s.valuePower[r]){case 1:a.cash+=c.wonderCards.filter(u=>u.activated!=="none").length*2;break;case 2:a.cash+=c.cards.yellow.length+1;break;case 3:a.cash+=c.cards.grey.length*3;break;case 4:a.cash+=c.cards.brown.length*2;break;case 5:a.cash+=c.cards.red.length;break}}):s.color==="red"?s.power.forEach((t,r)=>{t==="specialChar"&&a.specialChars.push(s.valuePower[r])}):s.color==="green"?s.power.forEach((t,r)=>{t==="specialChar"&&a.specialChars.push(s.valuePower[r]),t==="artefact"&&a.artefacts.push(s.valuePower[r]),t==="points"&&(c.points+=s.valuePower[r])}):s.color==="blue"?s.power.forEach((t,r)=>{t==="points"&&(c.points+=s.valuePower[r]),t==="specialChar"&&a.specialChars.push(s.valuePower[r])}):s.color;return a},pa=(s,c)=>{const a={...c};return a.wonderCards=a.wonderCards.map(t=>t.id===s.id?s:t),s.power.forEach((t,r)=>{if(t==="materials")switch(s.valuePower[r]){case 1:a.resources.materialsCBW+=1;break;case 2:a.resources.materialsPG+=1;break}else t==="cash"?a.resources.cash+=s.valuePower[r]:t==="points"&&(a.points+=s.valuePower[r])}),a};function fe(s,c){if(!(s!=null&&s.id))return-1;let a=0,t=[],r=[],u=[],g=!1;const C=Me.value.resources,d=aa.value.resources;return Me.value.user.uid===c?(t=[{type:"clay",val:C.clayOne?1:2+d.clayValue},{type:"brick",val:C.brickOne?1:2+d.brickValue},{type:"wood",val:C.woodOne?1:2+d.woodValue}],t=t.sort((l,o)=>o.val-l.val),r=[{type:"paper",val:C.paperGlassOne?1:2+d.paperValue},{type:"glass",val:C.paperGlassOne?1:2+d.glassValue}],r=r.sort((l,o)=>o.val-l.val),s.cost.forEach((l,o)=>{if(l==="specialChar")C.specialChars.find(i=>{if(i===s.valueCost[o])return g=!0,!0});else if(l==="cash")a+=s.valueCost[o];else if(l==="clay"){const i=s.valueCost[o]-C.clayValue;if(i<=0)return null;for(let b=0;b<i;b++)u.push("clay")}else if(l==="brick"){const i=s.valueCost[o]-C.brickValue;if(i<=0)return null;for(let b=0;b<i;b++)u.push("brick")}else if(l==="wood"){const i=s.valueCost[o]-C.woodValue;if(i<=0)return null;for(let b=0;b<i;b++)u.push("wood")}else if(l==="paper"){const i=s.valueCost[o]-C.paperValue;if(i<=0)return null;for(let b=0;b<i;b++)u.push("paper")}else if(l==="glass"){const i=s.valueCost[o]-C.glassValue;if(i<=0)return null;for(let b=0;b<i;b++)u.push("glass")}})):(t=[{type:"clay",val:d.clayOne?1:2+C.clayValue},{type:"brick",val:d.brickOne?1:2+C.brickValue},{type:"wood",val:d.woodOne?1:2+C.woodValue}],t=t.sort((l,o)=>o.val-l.val),r=[{type:"paper",val:d.paperGlassOne?1:2+C.paperValue},{type:"glass",val:d.paperGlassOne?1:2+C.glassValue}],r=r.sort((l,o)=>o.val-l.val),s.cost.forEach((l,o)=>{if(l==="specialChar")d.specialChars.find(i=>{if(i===s.valueCost[o])return g=!0,!0});else if(l==="cash")a+=s.valueCost[o];else if(l==="clay"){const i=s.valueCost[o]-d.clayValue;if(i<=0)return null;for(let b=0;b<i;b++)u.push("clay")}else if(l==="brick"){const i=s.valueCost[o]-d.brickValue;if(i<=0)return null;for(let b=0;b<i;b++)u.push("brick")}else if(l==="wood"){const i=s.valueCost[o]-d.woodValue;if(i<=0)return null;for(let b=0;b<i;b++)u.push("wood")}else if(l==="paper"){const i=s.valueCost[o]-d.paperValue;if(i<=0)return null;for(let b=0;b<i;b++)u.push("paper")}else if(l==="glass"){const i=s.valueCost[o]-d.glassValue;if(i<=0)return null;for(let b=0;b<i;b++)u.push("glass")}})),u=is(u,t,r,c),(s==null?void 0:s.color)==="blue"&&(Me.value.user.uid===c?Me.value.resources.coins.find(l=>l==="lowCostBlue")&&(u.shift(),u.shift()):aa.value.resources.coins.find(l=>l==="lowCostBlue")&&(u.shift(),u.shift())),s!=null&&s.activated&&(Me.value.user.uid===c?Me.value.resources.coins.find(l=>l==="lowCostWonder")&&(u.shift(),u.shift()):aa.value.resources.coins.find(l=>l==="lowCostWonder")&&(u.shift(),u.shift())),u.forEach(l=>{var o,i;a+=((o=t.find(({type:b})=>b===l))==null?void 0:o.val)||((i=r.find(({type:b})=>b===l))==null?void 0:i.val)||0}),g?0:a}function is(s,c,a,t){const r=s,u=Me.value.resources,g=aa.value.resources;if(Me.value.user.uid===t){for(let C=0;C<u.materialsCBW;C++){let d=!1,l=0;r.find((o,i)=>o===c[0].type?(d=!0,l=i,!0):!1),d?r.splice(l,1):(r.find((o,i)=>o===c[1].type?(d=!0,l=i,!0):!1),d?r.splice(l,1):(r.find((o,i)=>o===c[2].type?(d=!0,l=i,!0):!1),d&&r.splice(l,1)))}for(let C=0;C<u.materialsPG;C++){let d=!1,l=0;r.find((o,i)=>o===a[0].type?(d=!0,l=i,!0):!1),d?r.splice(l,1):(r.find((o,i)=>o===a[1].type?(d=!0,l=i,!0):!1),d&&r.splice(l,1))}}else{for(let C=0;C<g.materialsCBW;C++){let d=!1,l=0;r.find((o,i)=>o===c[0].type?(d=!0,l=i,!0):!1),d?r.splice(l,1):(r.find((o,i)=>o===c[1].type?(d=!0,l=i,!0):!1),d?r.splice(l,1):(r.find((o,i)=>o===c[2].type?(d=!0,l=i,!0):!1),d&&r.splice(l,1)))}for(let C=0;C<g.materialsPG;C++){let d=!1,l=0;r.find((o,i)=>o===a[0].type?(d=!0,l=i,!0):!1),d?r.splice(l,1):(r.find((o,i)=>o===a[1].type?(d=!0,l=i,!0):!1),d&&r.splice(l,1))}}return r}const ns=Pe({__name:"DuelGameCardComponent",props:{card:{},small:{type:Boolean},cash1P:{},cash2P:{},res1P:{},res2P:{}},setup(s){const c=s,a=h(0),t=h(0),r=h(0),u=h(0),g=h(0),C=h(0),d=h(0),l=h(0),o=h(0),i=h(0),b=h(0),f=h(0),G=h(0),L=h(0),O=h(0),v=h(0),Q=h(0),Be=h(0),oe=h(0),F=h(0),ie=h(0),se=h(""),pe=h(""),{card:_}=Ee(c);return na(()=>{switch(_.value.power.forEach((K,R)=>{switch(K){case"points":a.value=_.value.valuePower[R];break;case"artefact":t.value=_.value.valuePower[R];break;case"attack":r.value=_.value.valuePower[R];break;case"clay":u.value=_.value.valuePower[R];break;case"brick":g.value=_.value.valuePower[R];break;case"wood":C.value=_.value.valuePower[R];break;case"paper":d.value=_.value.valuePower[R];break;case"glass":l.value=_.value.valuePower[R];break;case"cash":o.value=_.value.valuePower[R];break;case"specialChar":i.value=_.value.valuePower[R];break;case"discount":b.value=_.value.valuePower[R];break;case"materials":f.value=_.value.valuePower[R];break;case"cashBack":G.value=_.value.valuePower[R];break;case"guild":L.value=_.value.valuePower[R];break}}),_.value.cost.forEach((K,R)=>{switch(K){case"specialChar":O.value=_.value.valueCost[R];break;case"clay":v.value=_.value.valueCost[R];break;case"brick":Q.value=_.value.valueCost[R];break;case"wood":Be.value=_.value.valueCost[R];break;case"paper":oe.value=_.value.valueCost[R];break;case"glass":F.value=_.value.valueCost[R];break;case"cash":ie.value=_.value.valueCost[R];break}}),_.value.color){case"red":se.value="rgb(255, 39, 39)";break;case"green":se.value="rgb(14, 165, 14)";break;case"blue":se.value="rgb(74, 74, 252)";break;case"yellow":se.value="rgb(255, 255, 44)";break;case"brown":se.value="rgb(197, 69, 69)";break;case"grey":se.value="rgb(161, 161, 161)";break;case"purple":se.value="rgb(192, 23, 192)";break}switch(_.value.tier){case"I":pe.value="calc(var(--width-tier) * -10) calc(var(--height-tier) * -6)";break;case"II":pe.value="calc(var(--width-tier) * -11) calc(var(--height-tier) * -6)";break;case"III":pe.value="0 calc(var(--height-tier) * -7)";break;case"guild":pe.value="calc(var(--width-tier) * -1) calc(var(--height-tier) * -7)";break}}),(K,R)=>{var Ae;return p(),I("div",{class:$(["card",`card${e(_).idImg}`,!e(_).hide||((Ae=e(_).coversBy)==null?void 0:Ae.length)===0?"":"hideCard",K.small&&"small"]),style:ee(`--reversBg:${pe.value};`)},[e(_).taken==="inGame"&&K.cash1P!==void 0&&K.cash1P>=0?(p(),I("div",{key:0,class:$(["cashSum cashSumP1",K.res1P!==void 0&&K.cash1P>K.res1P&&"toHighPrice"])},P(K.cash1P),3)):U("",!0),e(_).taken==="inGame"&&K.cash2P!==void 0&&K.cash2P>=0?(p(),I("div",{key:1,class:$(["cashSum cashSumP2",K.res2P!==void 0&&K.cash2P>K.res2P&&"toHighPrice"])},P(K.cash2P),3)):U("",!0)],6)}}});const te=_e(ns,[["__scopeId","data-v-efdd48b9"]]),us=Pe({__name:"DuelGameLayOutTiersComponent",props:{card:{},x:{},y:{},cash1P:{},cash2P:{},user:{}},setup(s){const c=Oe(),{selectedCard:a,player1:t,player2:r}=We(c);return(u,g)=>{var C,d,l;return p(),I("div",{class:$(["cardWrapper",u.card.taken==="inGame"?"":"invisible",((C=u.card.coversBy)==null?void 0:C.length)!==0&&u.card.hide&&"cardHide",((d=u.card.coversBy)==null?void 0:d.length)===0&&"canSelect",e(a).id===u.card.id&&"selected"]),style:ee(`--x:${u.x}%; --y:${u.y}%; --z:${u.card.id}; cursor: ${((l=u.card.coversBy)==null?void 0:l.length)===0?"pointer":"default"};`)},[ve(te,{card:u.card,cash1P:u.card.taken==="inGame"?u.user.uid===e(t).user.uid?u.cash1P:u.cash2P:void 0,cash2P:u.card.taken==="inGame"?u.user.uid===e(t).user.uid?u.cash2P:u.cash1P:void 0,res1P:u.card.taken==="inGame"?u.user.uid===e(t).user.uid?e(t).resources.cash:e(r).resources.cash:void 0,res2P:u.card.taken==="inGame"?u.user.uid===e(t).user.uid?e(r).resources.cash:e(t).resources.cash:void 0},null,8,["card","cash1P","cash2P","res1P","res2P"])],6)}}});const ia=_e(us,[["__scopeId","data-v-4c203467"]]),cs=Pe({__name:"DuelGameWonderComponent",props:{card:{},cash:{},resCash:{}},setup(s){const c=s,{card:a}=Ee(c),t=h(0),r=h(0),u=h(0),g=h(0),C=h(0),d=h(0),l=h(0),o=h(0),i=h(0),b=h(0),f=h(0);h(0);const G=h("");na(()=>{a.value.power.forEach((O,v)=>{switch(O){case"effect":t.value=a.value.valuePower[v];break;case"cash":r.value=a.value.valuePower[v];break;case"break":u.value=a.value.valuePower[v];break;case"materials":g.value=a.value.valuePower[v];break;case"attack":C.value=a.value.valuePower[v];break;case"points":d.value=a.value.valuePower[v];break}}),a.value.cost.forEach((O,v)=>{switch(O){case"clay":l.value=a.value.valueCost[v];break;case"brick":o.value=a.value.valueCost[v];break;case"wood":i.value=a.value.valueCost[v];break;case"paper":b.value=a.value.valueCost[v];break;case"glass":f.value=a.value.valueCost[v];break}}),L()}),Ge(()=>a.value.activated,()=>{L()});function L(){switch(a.value.activated){case"I":G.value="calc(var(--width-tier) * -10) calc(var(--height-tier) * -6)";break;case"II":G.value="calc(var(--width-tier) * -11) calc(var(--height-tier) * -6)";break;case"III":G.value="0 calc(var(--height-tier) * -7)";break;case"guild":G.value="calc(var(--width-tier) * -1) calc(var(--height-tier) * -7)";break}}return(O,v)=>(p(),I("div",{class:$(["cardWrapper"]),style:ee(`--bg-position: ${G.value};`)},[n("div",{class:$(["card",`card${e(a).id}`])},null,2),n("div",{class:$(["tierCardForWonder",G.value!==""&&"getImg"])},null,2),e(a).taken&&e(a).activated==="none"?(p(),I("div",{key:0,class:$(["cashSum",O.resCash!==void 0&&O.cash!==void 0&&O.cash>O.resCash&&"toHighPrice"])},P(O.cash),3)):U("",!0)],4))}});const Ie=_e(cs,[["__scopeId","data-v-d45b3928"]]),ds=Pe({__name:"DuelGameCoinComponent",props:{coin:{}},setup(s){const c=s,a=h(""),{coin:t}=Ee(c);return na(()=>{switch(t.value){case"artefact7":a.value="7";break;case"attack1":a.value="1+";break;case"point7":a.value="7";break;case"pointX3":a.value="3x ";break;case"cash6n4special":a.value="6$+";break;case"lowCostWonder":a.value="$$";break;case"lowCostBlue":a.value="$$";break;case"cashBack":a.value="$";break;case"point4n6cash":a.value="6$";break;case"repeatWonder":a.value="";break;default:a.value=t.value;break}}),(r,u)=>(p(),I("span",{class:$(["boardSingleCoin",`${e(t)}`])},null,2))}});const ra=_e(ds,[["__scopeId","data-v-1d3419af"]]),vs={class:"duel"},ps={class:$(["punishment"])},hs=Pe({__name:"DuelGameBoardDuelComponent",props:{isMyTurn:{type:Boolean},user:{}},emits:["coin-selected"],setup(s,{emit:c}){const a=s,t=Oe(),{board:r,pickCoin:u,player2:g,wonByAggressive:C}=We(t),{isMyTurn:d}=Ee(a);return(l,o)=>(p(),I("section",vs,[n("div",ps,[n("div",{class:$([l.user.uid!==e(g).user.uid?"punishment1":"punishment4"]),style:ee(e(r).punishment1?"":"opacity: 0;")},null,6),n("div",{class:$([l.user.uid!==e(g).user.uid?"punishment2":"punishment3"]),style:ee(e(r).punishment2?"":"opacity: 0;")},null,6),n("div",{class:$([l.user.uid!==e(g).user.uid?"punishment3":"punishment2"]),style:ee(e(r).punishment3?"":"opacity: 0;")},null,6),n("div",{class:$([l.user.uid!==e(g).user.uid?"punishment4":"punishment1"]),style:ee(e(r).punishment4?"":"opacity: 0;")},null,6)]),n("div",{class:$(["boardPawn",l.user.uid===e(g).user.uid&&"rotatePawnDuel"])},[n("div",{class:$(["pawn",e(C)!==""&&"pawnWin"]),style:ee(`--position:${e(r).pawn}`)},null,6)],2),n("div",{class:$(["boardCoins",e(d)&&e(u)!==""&&"selectCoin"])},[(p(!0),I(Y,null,q(e(r).coins,i=>(p(),S(ra,{key:i,coin:i,style:ee(e(d)&&e(u)!==""&&"cursor: pointer;"),onClick:b=>e(d)&&e(u)!==""?c("coin-selected",i):null},null,8,["coin","style","onClick"]))),128))],2)]))}});const ys=_e(hs,[["__scopeId","data-v-21ad74a8"]]),fs={class:$(["graveyard","customInput"])},ws=Pe({__name:"DuelGameGraveyardComponent",props:{isMyTurn:{type:Boolean}},emits:["pick-card-from-graveyard"],setup(s,{emit:c}){const a=Oe(),{graveyard:t,pickCardFromGraveyard:r}=We(a);return(u,g)=>(p(),I("section",fs,[n("div",{class:$([e(t).length>=16&&"addScrollbar",u.isMyTurn&&e(r)!==""&&"selectFromGraveyard"])},[(p(!0),I(Y,null,q(e(t),C=>(p(),S(te,{key:C.id,card:C,small:"",style:ee(u.isMyTurn&&e(r)!==""&&"cursor: pointer;"),onClick:d=>u.isMyTurn&&e(r)!==""?c("pick-card-from-graveyard",C):null},null,8,["card","style","onClick"]))),128))],2)]))}});const ms=_e(ws,[["__scopeId","data-v-292654b0"]]),Cs={class:"playerInfoContainer"},ks={key:0,class:"surrenderPopUp"},gs={key:0,class:"animateHand"},bs=["disabled"],Is={key:0,class:"animateHand"},Ps=["disabled"],_s=Pe({__name:"DuelGamePlayersInfoComponent",props:{user:{}},emits:["prepare-game-to-remove-from-db"],setup(s,{emit:c}){const a=s,t=Oe(),{player1:r,player2:u,turn:g}=We(t),{user:C}=Ee(a),d=h("Kick player"),l=h("Surrender"),o=h("Do you really want to give up?!"),i=h(90),b=h(90),f=h(!1);return(G,L)=>{const O=la("ion-icon");return p(),I("section",Cs,[f.value?(p(),I("div",ks,[n("p",null,P(o.value),1),n("div",null,[n("button",{class:$(["customInput","reverseInput"]),onClick:L[0]||(L[0]=async()=>(await c("prepare-game-to-remove-from-db",e(C)),f.value=!1))},P("Yes")),n("button",{class:$(["customInput","reverseInput"]),onClick:L[1]||(L[1]=()=>f.value=!1)},P("NO!"))])])):U("",!0),n("div",{class:$(["player1info","customInput",e(g)===e(r).user.uid&&"boldParagraf"])},[n("p",null,P(`${e(r).user.displayName||e(r).user.email}`),1),n("p",null,P(`Timer: ${i.value}`),1),e(g)===e(r).user.uid?(p(),I("div",gs,[ve(O,{name:"time-sharp"})])):U("",!0),n("button",{disabled:e(u).user.uid===e(C).uid&&b.value>0,class:$(["customButton"]),onClick:L[2]||(L[2]=()=>e(r).user.uid===e(C).uid?f.value=!0:null)},P(e(r).user.uid===e(C).uid?l.value:d.value),9,bs)],2),n("div",{class:$(["player2info","customInput",e(g)===e(u).user.uid&&"boldParagraf"])},[n("p",null,P(`${e(u).user.displayName||e(u).user.email}`),1),n("p",null,P(`Timer: ${b.value}`),1),e(g)===e(u).user.uid?(p(),I("div",Is,[ve(O,{name:"time-sharp"})])):U("",!0),n("button",{disabled:e(r).user.uid===e(C).uid&&i.value>0,class:$(["customButton"]),onClick:L[3]||(L[3]=()=>e(u).user.uid===e(C).uid?f.value=!0:null)},P(e(u).user.uid===e(C).uid?l.value:d.value),9,Ps)],2)])}}});const Bs=_e(_s,[["__scopeId","data-v-ce59c057"]]),$s={class:"playerCardsContainer"},Gs={class:"playerCardColorContainer playerCard3"},Ts={class:"playerCardColorContainer playerCard4"},Ws={class:"playerCardColorContainer playerCard5"},As={class:"playerCardColorContainer playerCard7"},Ss={class:"playerCashPointsContainer"},Ds={key:0,class:"animateHand"},Ms={class:"cashPointsContainer"},Os={class:"cashSum"},Fs={class:"cashSum pointSum"},Rs={class:"playerCoins customInput"},Es={class:"playerCardsContainer"},Vs={class:"playerCardColorContainer playerCard3"},Ns={class:"playerCardColorContainer playerCard4"},Ls={class:"playerCardColorContainer playerCard5"},Hs={class:"playerCardColorContainer playerCard7"},js={class:"playerCashPointsContainer"},Us={key:0,class:"animateHand"},Xs={class:"cashPointsContainer"},Ys={class:"cashSum"},Ks={class:"cashSum pointSum"},zs={class:"playerCoins customInput"},qs=Pe({__name:"DuelGamePlayersResComponent",props:{isMyTurn:{type:Boolean},user:{},selectWonderCard:{type:Boolean}},emits:["destrooy-enemy-card-selected"],setup(s,{emit:c}){const a=s,t=Oe(),{player1:r,player2:u,turn:g,tier:C,destroyBrown:d,destroyGrey:l,wonByArt:o}=We(t),{user:i}=Ee(a),b=La("wonderCardSelected");function f(G){if(G===r.value.user.uid){let L=0;r.value.resources.coins.find(v=>v==="artefact7")&&(L+=1);const O=r.value.cards.green.map(v=>v.valuePower[0]);return L+=[...new Set(O)].length}else{let L=0;u.value.resources.coins.find(v=>v==="artefact7")&&(L+=1);const O=u.value.cards.green.map(v=>v.valuePower[0]);return L+=[...new Set(O)].length}}return(G,L)=>{const O=la("ion-icon");return p(),I(Y,null,[n("section",{class:$(["wonders",e(i).uid===e(r).user.uid?"wonders1":"wonders2"])},[(p(!0),I(Y,null,q(e(r).wonderCards,v=>(p(),S(Ie,{card:v,key:v.id,cash:e(fe)(v,`${e(r).user.uid}`),resCash:e(r).resources.cash,class:$([G.selectWonderCard&&G.isMyTurn&&e(i).uid===e(r).user.uid&&e(fe)(v,`${e(r).user.uid}`)<=e(r).resources.cash&&"selectWonderFromPlayer"]),onClick:Q=>e(C)!=="prepare"&&G.selectWonderCard?e(b)(v,e(r).resources.cash):null},null,8,["card","cash","resCash","class","onClick"]))),128))],2),n("section",{class:$(["playerCardsTierSection",e(i).uid===e(r).user.uid?"playerCardsTierSection1":"playerCardsTierSection2"])},[n("div",$s,[n("div",{class:$(["playerCardColorContainer","playerCard1",e(i).uid===e(u).user.uid&&G.isMyTurn&&e(d)!==""&&"selectCardToDestroy"])},[(p(!0),I(Y,null,q(e(r).cards.brown,v=>(p(),S(te,{key:v.id,card:v,small:"",style:ee(e(i).uid===e(u).user.uid&&G.isMyTurn&&e(d)!==""?"cursor: pointer;":""),onClick:Q=>e(i).uid===e(u).user.uid&&G.isMyTurn&&e(d)!==""?c("destrooy-enemy-card-selected",v,"brown"):null},null,8,["card","style","onClick"]))),128))],2),n("div",{class:$(["playerCardColorContainer","playerCard2",e(i).uid===e(u).user.uid&&G.isMyTurn&&e(l)!==""&&"selectCardToDestroy"])},[(p(!0),I(Y,null,q(e(r).cards.grey,v=>(p(),S(te,{key:v.id,card:v,small:"",style:ee(e(i).uid===e(u).user.uid&&G.isMyTurn&&e(l)!==""?"cursor: pointer;":""),onClick:Q=>e(i).uid===e(u).user.uid&&G.isMyTurn&&e(l)!==""?c("destrooy-enemy-card-selected",v,"grey"):null},null,8,["card","style","onClick"]))),128))],2),n("div",Gs,[(p(!0),I(Y,null,q(e(r).cards.yellow,v=>(p(),S(te,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",Ts,[(p(!0),I(Y,null,q(e(r).cards.blue,v=>(p(),S(te,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",Ws,[(p(!0),I(Y,null,q(e(r).cards.red,v=>(p(),S(te,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",{class:$(["playerCardColorContainer","playerCard6",e(o)!==""&&e(o)===e(r).user.uid&&"artWin"])},[n("div",{class:$(["countArt",e(i).uid===e(r).user.uid?"":"reverseCountArt"])},P(f(`${e(r).user.uid}`)+"/6"),3),(p(!0),I(Y,null,q(e(r).cards.green.sort((v,Q)=>v.valuePower[0]-Q.valuePower[0]),v=>(p(),S(te,{key:v.id,card:v,small:""},null,8,["card"]))),128))],2),n("div",As,[(p(!0),I(Y,null,q(e(r).cards.purple,v=>(p(),S(te,{key:v.id,card:v,small:""},null,8,["card"]))),128))])])],2),n("section",{class:$(["playerResContainer",e(i).uid===e(r).user.uid?"playerResContainer1":"playerResContainer2"])},[n("div",Ss,[e(g)===e(r).user.uid?(p(),I("div",Ds,[ve(O,{name:"time-sharp"})])):U("",!0),n("p",{style:ee(e(g)===e(r).user.uid?"font-weight: bold;":"")},P(`${e(r).user.displayName||e(r).user.email}`),5),n("p",{style:ee(e(g)===e(r).user.uid?"font-weight: bold;":"")},P("Status: online"),4),n("div",Ms,[n("div",Os,P(e(r).resources.cash),1),n("div",Fs,P(e(r).points),1)])]),n("div",Rs,[(p(!0),I(Y,null,q(e(r).resources.coins,v=>(p(),S(ra,{key:v,coin:v},null,8,["coin"]))),128))])],2),n("section",{class:$(["wonders",e(i).uid===e(r).user.uid?"wonders2":"wonders1"])},[(p(!0),I(Y,null,q(e(u).wonderCards,v=>(p(),S(Ie,{card:v,key:v.id,cash:e(fe)(v,`${e(u).user.uid}`),resCash:e(u).resources.cash,class:$([G.selectWonderCard&&G.isMyTurn&&e(i).uid===e(u).user.uid&&e(fe)(v,`${e(u).user.uid}`)<=e(u).resources.cash&&"selectWonderFromPlayer"]),onClick:Q=>e(C)!=="prepare"&&G.selectWonderCard?e(b)(v,e(u).resources.cash):null},null,8,["card","cash","resCash","class","onClick"]))),128))],2),n("section",{class:$(["playerCardsTierSection",e(i).uid===e(r).user.uid?"playerCardsTierSection2":"playerCardsTierSection1"])},[n("div",Es,[n("div",{class:$(["playerCardColorContainer","playerCard1",e(i).uid===e(r).user.uid&&G.isMyTurn&&e(d)!==""&&"selectCardToDestroy"])},[(p(!0),I(Y,null,q(e(u).cards.brown,v=>(p(),S(te,{key:v.id,card:v,small:"",style:ee(e(i).uid===e(r).user.uid&&G.isMyTurn&&e(d)!==""?"cursor: pointer;":""),onClick:Q=>e(i).uid===e(r).user.uid&&G.isMyTurn&&e(d)!==""?c("destrooy-enemy-card-selected",v,"brown"):null},null,8,["card","style","onClick"]))),128))],2),n("div",{class:$(["playerCardColorContainer","playerCard2",e(i).uid===e(r).user.uid&&G.isMyTurn&&e(l)!==""&&"selectCardToDestroy"])},[(p(!0),I(Y,null,q(e(u).cards.grey,v=>(p(),S(te,{key:v.id,card:v,small:"",style:ee(e(i).uid===e(r).user.uid&&G.isMyTurn&&e(l)!==""?"cursor: pointer;":""),onClick:Q=>e(i).uid===e(r).user.uid&&G.isMyTurn&&e(l)!==""?c("destrooy-enemy-card-selected",v,"grey"):null},null,8,["card","style","onClick"]))),128))],2),n("div",Vs,[(p(!0),I(Y,null,q(e(u).cards.yellow,v=>(p(),S(te,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",Ns,[(p(!0),I(Y,null,q(e(u).cards.blue,v=>(p(),S(te,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",Ls,[(p(!0),I(Y,null,q(e(u).cards.red,v=>(p(),S(te,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",{class:$(["playerCardColorContainer","playerCard6",e(o)!==""&&e(o)===e(u).user.uid&&"artWin"])},[n("div",{class:$(["countArt",e(i).uid===e(r).user.uid?"reverseCountArt":""])},P(f(`${e(u).user.uid}`)+"/6"),3),(p(!0),I(Y,null,q(e(u).cards.green.sort((v,Q)=>v.valuePower[0]-Q.valuePower[0]),v=>(p(),S(te,{key:v.id,card:v,small:""},null,8,["card"]))),128))],2),n("div",Hs,[(p(!0),I(Y,null,q(e(u).cards.purple,v=>(p(),S(te,{key:v.id,card:v,small:""},null,8,["card"]))),128))])])],2),n("section",{class:$(["playerResContainer",e(i).uid===e(r).user.uid?"playerResContainer2":"playerResContainer1"])},[n("div",js,[e(g)===e(u).user.uid?(p(),I("div",Us,[ve(O,{name:"time-sharp"})])):U("",!0),n("p",{style:ee(e(g)===e(u).user.uid?"font-weight: bold;":"")},P(`${e(u).user.displayName||e(u).user.email}`),5),n("p",{style:ee(e(g)===e(u).user.uid?"font-weight: bold;":"")},P("Status: online"),4),n("div",Xs,[n("div",Ys,P(e(u).resources.cash),1),n("div",Ks,P(e(u).points),1)])]),n("div",zs,[(p(!0),I(Y,null,q(e(u).resources.coins,v=>(p(),S(ra,{key:v,coin:v},null,8,["coin"]))),128))])],2)],64)}}});const Qs=_e(qs,[["__scopeId","data-v-ec8d4d72"]]),Ia=""+new URL("win-d87fbc05.mp3",import.meta.url).href,Pa=""+new URL("lost-7a2664bb.mp3",import.meta.url).href,re=s=>(Ha("data-v-d29fcd10"),s=s(),ja(),s),Js={class:"countPoints"},Zs={class:"containerPoints customInput"},xs={class:"wonderPoints"},er=re(()=>n("div",{class:"cashSum wonderCard"},null,-1)),ar={class:"bluePoints"},sr=re(()=>n("div",{class:"cashSum blueCard"},null,-1)),rr={class:"yellowPoints"},lr=re(()=>n("div",{class:"cashSum yellowCard"},null,-1)),tr={class:"greenPoints"},or=re(()=>n("div",{class:"cashSum greenCard"},null,-1)),ir={class:"cashPoints"},nr=re(()=>n("div",{class:"cashSum cashCard"},null,-1)),ur={class:"purplePoints"},cr=re(()=>n("div",{class:"cashSum purpleCard"},null,-1)),dr={class:"coinsPoints"},vr=re(()=>n("div",{class:"cashSum miniCoin"},null,-1)),pr={class:"pawnPoints"},hr=re(()=>n("div",{class:"cashSum attackImg"},null,-1)),yr={class:"sumPoints"},fr=re(()=>n("div",{class:"cashSum pointsImg"},null,-1)),wr={class:"containerPoints customInput"},mr={class:"wonderPoints"},Cr=re(()=>n("div",{class:"cashSum wonderCard"},null,-1)),kr={class:"bluePoints"},gr=re(()=>n("div",{class:"cashSum blueCard"},null,-1)),br={class:"yellowPoints"},Ir=re(()=>n("div",{class:"cashSum yellowCard"},null,-1)),Pr={class:"greenPoints"},_r=re(()=>n("div",{class:"cashSum greenCard"},null,-1)),Br={class:"cashPoints"},$r=re(()=>n("div",{class:"cashSum cashCard"},null,-1)),Gr={class:"purplePoints"},Tr=re(()=>n("div",{class:"cashSum purpleCard"},null,-1)),Wr={class:"coinsPoints"},Ar=re(()=>n("div",{class:"cashSum miniCoin"},null,-1)),Sr={class:"pawnPoints"},Dr=re(()=>n("div",{class:"cashSum attackImg"},null,-1)),Mr={class:"sumPoints"},Or=re(()=>n("div",{class:"cashSum pointsImg"},null,-1)),Fr=Pe({__name:"DuelGameEndGameComponent",props:{user:{}},setup(s){const c=s,a=Oe(),{player1:t,player2:r,tier:u,board:g,endGameAnimationEnd:C}=We(a),d=Ye(ze,"gameDuel"),l=Ke(d,"table1");Ee(c);const o=h(0),i=h(0),b=h(!1),f=h(0),G=h(new Audio(Ia)),L=h(new Audio(Pa));G.value.volume=.66,L.value.volume=.66;const O=h(0),v=h(0),Q=h(0),Be=h(0),oe=h(0),F=h(0),ie=h(0),se=h(0),pe=h(0),_=h(0),K=h(0),R=h(0),Ae=h(0),B=h(0),qe=h(0),W=h(0),D=h(0),Qe=h(0),ne=h(0),me=h(0),le=h(0),Se=h(0),De=h(0),Ve=h(0);Ge(u,async()=>{u.value==="end"&&(Fe(),await Ce())}),Ge([()=>b.value],()=>{Je()}),ha(async()=>{Fe(),await Ce()});const Je=()=>{if(oe.value===0&&D.value===0)je();else{const M=setInterval(()=>{clearInterval(M);const k=setInterval(()=>{F.value<oe.value?(f.value=1,F.value++,o.value++):Qe.value<D.value?(f.value=2,Qe.value++,i.value++):(f.value=0,je(),clearInterval(k))},50)},1300)}},je=()=>{if(ie.value===0&&ne.value===0)Ue();else{const M=setInterval(()=>{clearInterval(M);const k=setInterval(()=>{se.value<ie.value?(f.value=3,se.value++,o.value++):me.value<ne.value?(f.value=4,me.value++,i.value++):(f.value=0,Ue(),clearInterval(k))},50)},555)}},Ue=()=>{if(pe.value===0&&le.value===0)Xe();else{const M=setInterval(()=>{clearInterval(M);const k=setInterval(()=>{_.value<pe.value?(f.value=5,_.value++,o.value++):Se.value<le.value?(f.value=6,Se.value++,i.value++):(f.value=0,Xe(),clearInterval(k))},50)},555)}},Xe=()=>{if(K.value===0&&De.value===0)J();else{const M=setInterval(()=>{clearInterval(M);const k=setInterval(()=>{R.value<K.value?(f.value=7,R.value++,o.value++):Ve.value<De.value?(f.value=8,Se.value++,i.value++):(f.value=0,J(),clearInterval(k))},50)},555)}},J=()=>{const M=setInterval(()=>{if(clearInterval(M),o.value>i.value)f.value=9;else if(o.value<i.value)f.value=10;else if(o.value===i.value){f.value=11;const k=setInterval(()=>{clearInterval(k),v.value>B.value?f.value=12:B.value>v.value&&(f.value=13)},777)}},777);C.value=!0},Fe=()=>{O.value=ke(t.value.wonderCards),v.value=ue(t.value.cards.blue),Q.value=ue(t.value.cards.yellow),Be.value=ue(t.value.cards.green),o.value=O.value+v.value+Q.value+Be.value,oe.value=Math.floor(t.value.resources.cash/3),ie.value=ge(t.value.cards.purple.map(M=>M.valuePower[0])),pe.value=ae(t.value.resources.coins),K.value=g.value.pawn<=-6&&10||g.value.pawn<=-3&&5||g.value.pawn<=-1&&2||0,Ae.value=ke(r.value.wonderCards),B.value=ue(r.value.cards.blue),qe.value=ue(r.value.cards.yellow),W.value=ue(r.value.cards.green),i.value=Ae.value+B.value+qe.value+W.value,D.value=Math.floor(r.value.resources.cash/3),ne.value=ge(r.value.cards.purple.map(M=>M.valuePower[0])),le.value=ae(r.value.resources.coins),De.value=g.value.pawn>=6&&10||g.value.pawn>=3&&5||g.value.pawn>=1&&2||0,b.value=!0},Ce=async()=>{const M=o.value+oe.value+ie.value+pe.value+K.value,k=i.value+D.value+ne.value+le.value+De.value;M>k?await m(l,{wonByPoints:t.value.user.uid}):M<k?await m(l,{wonByPoints:r.value.user.uid}):v.value>B.value?await m(l,{wonByPoints:t.value.user.uid}):v.value<B.value?await m(l,{wonByPoints:r.value.user.uid}):await m(l,{wonByPoints:"draw"})},ke=M=>{let k=0;return M.forEach(z=>{z.power.find((H,j)=>H==="points"?(z.activated!=="none"&&(k+=z.valuePower[j]),!0):null)}),k},ue=M=>{let k=0;return M.forEach(z=>{z.power.find((H,j)=>H==="points"?(k+=z.valuePower[j],!0):null)}),k},ge=M=>{let k=0;return M.forEach(z=>{if(z===1){const H=t.value.cards.yellow.length,j=r.value.cards.yellow.length;k+=H>j?H:j}if(z===2){const H=t.value.cards.brown.length+t.value.cards.grey.length,j=r.value.cards.brown.length+r.value.cards.grey.length;k+=H>j?H:j}if(z===3){const H=t.value.wonderCards.length,j=r.value.wonderCards.length;k+=H>j?H*2:j*2}if(z===4){const H=t.value.cards.blue.length,j=r.value.cards.blue.length;k+=H>j?H:j}if(z===5){const H=t.value.cards.green.length,j=r.value.cards.green.length;k+=H>j?H:j}if(z===6){const H=Math.floor(t.value.resources.cash/3),j=Math.floor(r.value.resources.cash/3);k+=H>j?H:j}if(z===7){const H=t.value.cards.red.length,j=r.value.cards.red.length;k+=H>j?H:j}}),k},ae=M=>{let k=0;return M.forEach(z=>{z==="point4n6cash"&&(k+=4),z==="point7"&&(k+=7),z==="pointX3"&&(k+=3*M.length)}),k};return(M,k)=>{const z=la("ion-icon");return p(),I("section",Js,[n("p",{style:ee(f.value===9||f.value===12?"font-weight: bold;":"")},[He(P(`${e(t).user.displayName||e(t).user.email}`),1),f.value===9||f.value===12?(p(),S(z,{key:0,class:"animateHand marginLeft",name:"thumbs-up-sharp"})):U("",!0)],4),n("div",Zs,[n("div",xs,[er,n("p",null,P(`${O.value}`),1)]),n("div",ar,[sr,n("p",{class:$([f.value===12&&"animatePulse"])},P(`${v.value}`),3)]),n("div",rr,[lr,n("p",null,P(`${Q.value}`),1)]),n("div",tr,[or,n("p",null,P(`${Be.value}`),1)]),n("div",ir,[nr,n("p",{class:$([f.value===1&&"scalePlus"])},P(`${F.value}`),3)]),n("div",ur,[cr,n("p",{class:$([f.value===3&&"scalePlus"])},P(`${se.value}`),3)]),n("div",dr,[vr,n("p",{class:$([f.value===5&&"scalePlus"])},P(`${_.value}`),3)]),n("div",pr,[hr,n("p",{class:$([f.value===7&&"scalePlus"])},P(`${R.value}`),3)]),n("div",yr,[fr,n("p",{class:$([(f.value===9||f.value>=11)&&"animatePulse"])},P(`${o.value}`),3)])]),n("p",{style:ee(f.value===10||f.value===13?"font-weight: bold;":"")},[He(P(`${e(r).user.displayName||e(r).user.email}`),1),f.value===10||f.value===13?(p(),S(z,{key:0,class:"animateHand marginLeft",name:"thumbs-up-sharp"})):U("",!0)],4),n("div",wr,[n("div",mr,[Cr,n("p",null,P(`${Ae.value}`),1)]),n("div",kr,[gr,n("p",{class:$([f.value===13&&"animatePulse"])},P(`${B.value}`),3)]),n("div",br,[Ir,n("p",null,P(`${qe.value}`),1)]),n("div",Pr,[_r,n("p",null,P(`${W.value}`),1)]),n("div",Br,[$r,n("p",{class:$([f.value===2&&"scalePlus"])},P(`${Qe.value}`),3)]),n("div",Gr,[Tr,n("p",{class:$([f.value===4&&"scalePlus"])},P(`${me.value}`),3)]),n("div",Wr,[Ar,n("p",{class:$([f.value===6&&"scalePlus"])},P(`${Se.value}`),3)]),n("div",Sr,[Dr,n("p",{class:$([f.value===8&&"scalePlus"])},P(`${Ve.value}`),3)]),n("div",Mr,[Or,n("p",{class:$([(f.value===10||f.value>=11)&&"animatePulse"])},P(`${i.value}`),3)])])])}}});const Rr=_e(Fr,[["__scopeId","data-v-d29fcd10"]]),Er={class:"wrapper"},Vr={key:0,class:"loading"},Nr={key:1,class:"cards cardsWonderPrepre"},Lr={key:0,class:"pickWonders"},Hr={key:1,class:"pickWonders"},jr={key:2,class:"cards cardsTier"},Ur={key:3,class:"cards cardsTier"},Xr={key:4,class:"cards cardsTier"},Yr={key:6,class:"playerAction"},Kr=["disabled"],zr=["disabled"],qr=["disabled"],Qr={key:7,class:"playerAction"},Jr={style:"font-weight: bold;"},Zr={key:8,class:"playerAction"},xr={style:"font-weight: bold;"},el={key:9,class:"playerAction"},al={style:"font-weight: bold;"},sl={key:10,class:"playerAction"},rl={style:"font-weight: bold;"},ll={key:11,class:"playerAction"},tl={key:12,class:"playerAction"},ol={key:13,class:"playerAction"},il={key:14,class:"playerAction"},nl={key:15,class:"playerAction"},ul={key:16,class:"playerAction"},cl={key:17,class:"playerAction"},dl={key:18,class:"playerAction"},vl={key:19,class:"playerAction"},pl=Pe({__name:"TheDuelGameBoard",setup(s){Ua("wonderCardSelected",Wa);const c=h("Buy for"),a=h("Sell for"),t=h("Build Wonder"),r=h("Go Back"),u=h("Who Starts?"),g=h("Pick Coin!"),C=h("Pick one Coin of three!"),d=h("Pick card from graveyard!"),l=h("Pick Wonder!"),o=h("Opponent Need To Pick Wonder..."),i=h("Destroy Enemy Card!"),b=h("Winner By Artefacts: "),f=h("Winner By Aggressive: "),G=h("Winner By Surrender: "),L=h("Winner By Points: "),O=h(new Audio(qa)),v=h(new Audio(Ia)),Q=h(new Audio(Pa));O.value.volume=.66,v.value.volume=.66,Q.value.volume=.66;const Be=h(20),oe=h(Qa(function(){Ne.push("/feed")},Be.value*1e3)),F=h(!1),ie=h(!1),se=Ja(),{duel:pe}=We(se),_=Oe(),{tierOneCards:K,tierTwoCards:R,tierThreeCards:Ae,wonderCards:B,graveyard:qe,player1:W,player2:D,board:Qe,turn:ne,tier:me,move:le,theRestOfCoins:Se,pickCoin:De,pickCoinOfThree:Ve,pickCardFromGraveyard:Je,destroyBrown:je,destroyGrey:Ue,selectWondersForPlayers:Xe,selectWondersForPlayersMove:J,chooseWhoWillStart:Fe,wonByArt:Ce,wonByAggressive:ke,wonBySurr:ue,wonByPoints:ge,selectedCard:ae,selectedWonder:M,isLoading:k,endGameAnimationEnd:z}=We(_),H=Ye(ze,"users"),j=Ye(ze,"gameStatus"),_a=Ke(j,"Duel"),Ba=Ye(ze,"gameDuel"),Z=Ke(Ba,"table1"),x=h({}),Ne=Xa(),E=Ze(()=>ne.value===x.value.uid),ua=Ze(()=>{var w,y,A,he;return((w=B.value[0])==null?void 0:w.taken)&&((y=B.value[1])==null?void 0:y.taken)&&((A=B.value[2])==null?void 0:A.taken)&&((he=B.value[3])==null?void 0:he.taken)}),Le=Ze(()=>{var w;return(w=ae.value)!=null&&w.id?fe(ae.value,`${x.value.uid}`):-1}),$a=Ze(()=>{if(!E.value||!ae.value.id)return!1;if(x.value.uid===W.value.user.uid)if(W.value.wonderCards.find(w=>w.activated==="none")){let w=!1;return W.value.wonderCards.forEach(y=>{let A=fe(y,`${x.value.uid}`);y.activated==="none"&&A<=W.value.resources.cash&&(w=!0)}),w}else return!1;else if(D.value.wonderCards.find(w=>w.activated==="none")){let w=!1;return D.value.wonderCards.forEach(y=>{let A=fe(y,`${x.value.uid}`);y.activated==="none"&&A<=D.value.resources.cash&&(w=!0)}),w}else return!1});Ge([()=>M.value,()=>ae.value],()=>{var w,y;(!((w=M.value)!=null&&w.id)||!((y=ae.value)!=null&&y.id))&&(ie.value=!1)}),Ge([()=>D.value.wonderCards],async()=>{k.value=!0,D.value.wonderCards.length===4&&le.value===0&&(await m(Z,{tier:"I"}),F.value=!0),k.value=!1}),Ge([()=>J.value],async([w])=>{if((w===3||w===7)&&E.value){const y=B.value.find(A=>A.taken===!1);y&&await $e(y.id)}}),Ge(le,async()=>{F.value=!0,E.value&&O.value.play(),le.value>=20&&le.value<40&&(k.value=!0,ue.value===""&&await m(Z,{tier:"II"}),Fe.value&&E.value&&(F.value=!1),k.value=!1),le.value>=40&&le.value<60&&(k.value=!0,ke.value===""&&Ce.value===""&&ue.value===""&&await m(Z,{tier:"III"}),Fe.value&&E.value&&(F.value=!1),k.value=!1),le.value===60&&(k.value=!0,F.value=!1,ke.value===""&&Ce.value===""&&ue.value===""&&await m(Z,{tier:"end"}),k.value=!1)}),Ge([()=>Ce.value,()=>ke.value,()=>ue.value,()=>ge.value],async([w,y,A,he])=>{(A!==""||w!==""||y!==""||he!=="")&&(A!==""&&(A===x.value.uid?v.value.play():Q.value.play()),w!==""&&(w===x.value.uid?v.value.play():Q.value.play()),y!==""&&(y===x.value.uid?v.value.play():Q.value.play()),await se.deleteGameDuel(),oe.value())}),Ge([()=>z.value],([w])=>{w&&(ge.value==="draw"?v.value.play():ge.value!==""&&(ge.value===x.value.uid?v.value.play():Q.value.play()))}),ha(async()=>{var N,ce,be;k.value=!0;let w=!1;await se.subFirebaseConnect();const y=await xe(_a);if(await Ya().then(async de=>{if(de)if(y.exists()){const V=y.data().players.find(Fa=>Fa.uid===de.uid);V?(x.value={uid:V.uid,email:V.email,displayName:V.displayName,game:V.game,readyToGame:V.readyToGame,timestamp:V.timestamp,online:V.online},(V.game!=="Duel"||!V.readyToGame)&&(k.value=!1,w=!0)):(k.value=!1,w=!0)}else{const V=await xe(Ke(H,de.uid));V.exists()?V.data().game!=="Duel"&&(k.value=!1,w=!0):(k.value=!1,w=!0)}}),w)return Ne.push("/feed"),null;const A=Re(Ca,10),he=Re(ka,8),ye=await xe(Z);if(ye.exists())console.log("Document data:",ye.data()),!((N=ye.data())!=null&&N.player2.user.uid)&&((ce=ye.data())==null||ce.player1.user.uid,x.value.uid);else{if(y.exists()&&y.data().players[0].uid===x.value.uid){const V=y.data().players;await Ka(Z,{player1:{...new sa,user:V[0]},player2:{...new sa,user:V[1]},selectWondersForPlayers:[V[0].uid,V[1].uid,V[1].uid,V[0].uid,V[1].uid,V[0].uid,V[0].uid,V[1].uid,V[0].uid],selectWondersForPlayersMove:0,chooseWhoWillStart:!1,turn:x.value.uid,gameBoard:{...new ba,coins:[A[0],A[1],A[2],A[3],A[4]]},tierICards:oa(Re(ya,20),"I"),tierIICards:oa(Re(fa,20),"II"),tierIIICards:oa(Re([...Re(wa,17),...Re(ma,3)],20),"III"),wonderCards:he,graveyard:[],theRestOfCoins:[A[5],A[6],A[7],A[8],A[9]],tier:"prepare",move:0,pickCoin:"",pickCoinOfThree:"",pickCardFromGraveyard:"",destroyBrown:"",destroyGrey:"",wonByArt:"",wonByAggressive:"",wonBySurr:"",wonByPoints:""})}const de=await xe(Z);de.exists()?console.log("Document data second time:",de.data()):console.log("No such document!")}await _.subFirebaseConnect(`${x.value.uid}`),(me.value!=="prepare"||((be=ye.data())==null?void 0:be.tier)!=="prepare")&&(F.value=!0),De.value!==""&&E.value?(F.value=!1,ae.value={}):Ve.value!==""&&E.value?(F.value=!1,ae.value={}):Je.value!==""&&E.value?(F.value=!1,ae.value={}):(je.value!==""||Ue.value!=="")&&E.value?(F.value=!1,ae.value={}):(Ce.value!==""||ke.value!==""||ue.value!==""||ge.value!=="")&&(F.value=!1,ae.value={}),k.value=!1}),za(async()=>{oe.value.cancel(),_.unSubFirebaseConnect(),se.unSubFirebaseConnect()});const $e=async w=>{if(!E.value||ue.value!=="")return null;k.value=!0;const y=setTimeout(()=>{clearTimeout(y),Ga(w),k.value=!0},500)};async function Ga(w){var he;if((he=B.value.find(ye=>ye.id===w))!=null&&he.taken)return;let y={};const A=B.value.map(ye=>ye.id===w?(y={...ye,taken:!0},y):ye);ne.value===W.value.user.uid?await m(Z,{player1:{...W.value,wonderCards:[...W.value.wonderCards,{...y}]},wonderCards:A,selectWondersForPlayersMove:X(1),turn:`${Xe.value[J.value+1]}`}):await m(Z,{player2:{...D.value,wonderCards:[...D.value.wonderCards,{...y}]},wonderCards:A,selectWondersForPlayersMove:X(1),turn:`${Xe.value[J.value+1]}`})}async function ca(w){k.value=!0,await _.upgradeTurnAndMove(`${w}`,!0),await m(Z,{chooseWhoWillStart:!1}),F.value=!0,k.value=!1}const ta=w=>{if(!E.value||Fe.value||Ce.value||ke.value)return null;if(ae.value={},M.value={},ie.value=!1,!(w.coversBy&&w.coversBy.length>0)){if(w.taken!=="inGame")return;ae.value=w}},Ta=()=>{if(!E.value)return null;ie.value=!0};function Wa(w,y){if(!E.value)return null;let A=fe(w,`${x.value.uid}`);if(A>y)return null;M.value=w,F.value=!1,_.setCardToWonder(A)}const Aa=async w=>{k.value=!0,F.value=!1;let y=0;switch(w){case"point4n6cash":y+=6;break;case"cash6n4special":y+=6;break}ne.value===W.value.user.uid?(await m(Z,{"gameBoard.coins":Te(w),"player1.resources.coins":ea(w),pickCoin:""}),y!==0&&await m(Z,{"player1.resources.cash":X(6)})):(await m(Z,{"gameBoard.coins":Te(w),"player2.resources.coins":ea(w),pickCoin:""}),y!==0&&await m(Z,{"player2.resources.cash":X(6)})),_.countArtefacts(ne.value),Ce.value===""&&ke.value===""&&De.value===""&&_.upgradeTurnAndMove(ne.value===W.value.user.uid?`${D.value.user.uid}`:`${W.value.user.uid}`),k.value=!1},Sa=async w=>{k.value=!0,F.value=!1;let y=0;switch(w){case"point4n6cash":y+=6;break;case"cash6n4special":y+=6;break}ne.value===W.value.user.uid?(await m(Z,{"gameBoard.coins":Te(w),"player1.resources.coins":ea(w),pickCoinOfThree:""}),y!==0&&await m(Z,{"player1.resources.cash":X(6)})):(await m(Z,{"gameBoard.coins":Te(w),"player2.resources.coins":ea(w),pickCoinOfThree:""}),y!==0&&await m(Z,{"player2.resources.cash":X(6)})),_.countArtefacts(ne.value),Ce.value===""&&ke.value===""&&Ve.value===""&&(ne.value===W.value.user.uid?w==="repeatWonder"?_.upgradeTurnAndMove(`${D.value.user.uid}`):W.value.resources.coins.find(A=>A==="repeatWonder")&&(le.value+1!==20||le.value+1!==40)?_.upgradeTurnAndMove(`${W.value.user.uid}`):_.upgradeTurnAndMove(`${D.value.user.uid}`):w==="repeatWonder"?_.upgradeTurnAndMove(`${W.value.user.uid}`):D.value.resources.coins.find(A=>A==="repeatWonder")&&(le.value+1!==20||le.value+1!==40)?_.upgradeTurnAndMove(`${D.value.user.uid}`):_.upgradeTurnAndMove(`${W.value.user.uid}`)),k.value=!1},Da=async w=>{k.value=!0,F.value=!1,await m(Z,{graveyard:Te(w),pickCardFromGraveyard:""}),ae.value=w,await _.setCardTaken(0,w.tier),k.value=!1},Ma=async(w,y)=>{k.value=!0,F.value=!1,y==="brown"?await m(Z,{destroyBrown:""}):await m(Z,{destroyGrey:""}),ae.value=w,await _.setCardGraveyard(w.tier),k.value=!1};async function Oa(w){var A;const y=(A=pe.value.players.find(he=>he.uid!==w.uid))==null?void 0:A.uid;await m(Z,{wonBySurr:y}),F.value=!1}return(w,y)=>{var he,ye;const A=la("ion-icon");return p(),I("main",null,[n("section",Er,[e(k)?(p(),I("div",Vr,[ve(Za)])):U("",!0),ve(ys,{user:x.value,isMyTurn:E.value,onCoinSelected:Aa},null,8,["user","isMyTurn"]),ve(ms,{isMyTurn:E.value,onPickCardFromGraveyard:Da},null,8,["isMyTurn"]),ve(Bs,{user:x.value,onPrepareGameToRemoveFromDb:Oa},null,8,["user"]),ve(Qs,{user:x.value,isMyTurn:E.value,selectWonderCard:ie.value,onDestrooyEnemyCardSelected:Ma},null,8,["user","isMyTurn","selectWonderCard"]),e(me)==="prepare"?(p(),I("section",Nr,[ua.value?U("",!0):(p(),I("div",Lr,[e(B)[0]&&!e(B)[0].taken?(p(),S(Ie,{key:0,card:e(B)[0],onClick:y[0]||(y[0]=()=>e(B)[0].taken||e(J)===3||e(J)===7?null:$e(e(B)[0].id))},null,8,["card"])):U("",!0),e(B)[1]&&!e(B)[1].taken?(p(),S(Ie,{key:1,card:e(B)[1],onClick:y[1]||(y[1]=()=>e(B)[1].taken||e(J)===3||e(J)===7?null:$e(e(B)[1].id))},null,8,["card"])):U("",!0),e(B)[2]&&!e(B)[2].taken?(p(),S(Ie,{key:2,card:e(B)[2],onClick:y[2]||(y[2]=()=>e(B)[2].taken||e(J)===3||e(J)===7?null:$e(e(B)[2].id))},null,8,["card"])):U("",!0),e(B)[3]&&!e(B)[3].taken?(p(),S(Ie,{key:3,card:e(B)[3],onClick:y[3]||(y[3]=()=>e(B)[3].taken||e(J)===3||e(J)===7?null:$e(e(B)[3].id))},null,8,["card"])):U("",!0)])),ua.value?(p(),I("div",Hr,[e(B)[4]&&!e(B)[4].taken?(p(),S(Ie,{key:0,card:e(B)[4],onClick:y[4]||(y[4]=()=>e(B)[4].taken||e(J)===3||e(J)===7?null:$e(e(B)[4].id))},null,8,["card"])):U("",!0),e(B)[5]&&!e(B)[5].taken?(p(),S(Ie,{key:1,card:e(B)[5],onClick:y[5]||(y[5]=()=>e(B)[5].taken||e(J)===3||e(J)===7?null:$e(e(B)[5].id))},null,8,["card"])):U("",!0),e(B)[6]&&!e(B)[6].taken?(p(),S(Ie,{key:2,card:e(B)[6],onClick:y[6]||(y[6]=()=>e(B)[6].taken||e(J)===3||e(J)===7?null:$e(e(B)[6].id))},null,8,["card"])):U("",!0),e(B)[7]&&!e(B)[7].taken?(p(),S(Ie,{key:3,card:e(B)[7],onClick:y[7]||(y[7]=()=>e(B)[7].taken||e(J)===3||e(J)===7?null:$e(e(B)[7].id))},null,8,["card"])):U("",!0)])):U("",!0)])):U("",!0),e(me)==="I"?(p(),I("section",jr,[(p(!0),I(Y,null,q(e(K),(N,ce)=>{var be,de;return p(),S(ia,{key:ce,card:N,user:x.value,x:e(ga)[ce],y:e(xa)[ce],cash1P:((be=N.coversBy)==null?void 0:be.length)===0?e(fe)(N,`${e(W).user.uid}`):-1,cash2P:((de=N.coversBy)==null?void 0:de.length)===0?e(fe)(N,`${e(D).user.uid}`):-1,onClick:V=>ta(N)},null,8,["card","user","x","y","cash1P","cash2P","onClick"])}),128))])):U("",!0),e(me)==="II"?(p(),I("section",Ur,[(p(!0),I(Y,null,q(e(R),(N,ce)=>{var be,de;return p(),S(ia,{key:ce,card:N,user:x.value,x:e(as)[ce],y:e(es)[ce],cash1P:((be=N.coversBy)==null?void 0:be.length)===0?e(fe)(N,`${e(W).user.uid}`):-1,cash2P:((de=N.coversBy)==null?void 0:de.length)===0?e(fe)(N,`${e(D).user.uid}`):-1,onClick:V=>ta(N)},null,8,["card","user","x","y","cash1P","cash2P","onClick"])}),128))])):U("",!0),e(me)==="III"?(p(),I("section",Xr,[(p(!0),I(Y,null,q(e(Ae),(N,ce)=>{var be,de;return p(),S(ia,{key:ce,card:N,user:x.value,x:e(rs)[ce],y:e(ss)[ce],cash1P:((be=N.coversBy)==null?void 0:be.length)===0?e(fe)(N,`${e(W).user.uid}`):-1,cash2P:((de=N.coversBy)==null?void 0:de.length)===0?e(fe)(N,`${e(D).user.uid}`):-1,onClick:V=>ta(N)},null,8,["card","user","x","y","cash1P","cash2P","onClick"])}),128))])):U("",!0),e(me)==="end"?(p(),S(Rr,{key:5,class:"cards",user:x.value},null,8,["user"])):U("",!0),F.value&&((he=e(ae))!=null&&he.id)&&!e(k)?(p(),I("section",Yr,[n("button",{disabled:Le.value<0||!E.value||(e(ne)===e(W).user.uid?Le.value>e(W).resources.cash:Le.value>e(D).resources.cash),class:"customButton",onClick:y[8]||(y[8]=()=>E.value?(e(_).setCardTaken(Le.value),ie.value=!1,F.value=!1):null)},P(`${c.value} ${Le.value>=0?Le.value:""}`),9,Kr),n("button",{disabled:!((ye=e(ae))!=null&&ye.id),class:"customButton",onClick:y[9]||(y[9]=()=>E.value?(e(_).setCardGraveyard(),ie.value=!1,F.value=!1):null)},P(a.value+` ${e(ne)===e(W).user.uid?e(W).cards.yellow.length+2:e(D).cards.yellow.length+2}`),9,zr),n("button",{disabled:!$a.value,class:"customButton",onClick:y[10]||(y[10]=()=>E.value?Ta():null)},P(t.value),9,qr)])):e(Ce)!==""?(p(),I("section",Qr,[n("p",Jr,[He(P(b.value+`${e(Ce)===e(W).user.uid?e(W).user.displayName||e(W).user.email:e(D).user.displayName||e(D).user.email}`),1),ve(A,{class:"animateHand",name:"thumbs-up-sharp"})]),n("button",{class:"customButton",onClick:y[11]||(y[11]=()=>(oe.value.cancel(),e(Ne).push("/feed")))},P(r.value),1)])):e(ke)!==""?(p(),I("section",Zr,[n("p",xr,[He(P(f.value+`${e(ke)===e(W).user.uid?e(W).user.displayName||e(W).user.email:e(D).user.displayName||e(D).user.email}`),1),ve(A,{class:"animateHand",name:"thumbs-up-sharp"})]),n("button",{class:"customButton",onClick:y[12]||(y[12]=()=>(oe.value.cancel(),e(Ne).push("/feed")))},P(r.value),1)])):e(ue)!==""?(p(),I("section",el,[n("p",al,[He(P(G.value+`${e(ue)===e(W).user.uid?e(W).user.displayName||e(W).user.email:e(D).user.displayName||e(D).user.email}`),1),ve(A,{class:"animateHand",name:"thumbs-up-sharp"})]),n("button",{class:"customButton",onClick:y[13]||(y[13]=()=>(oe.value.cancel(),e(Ne).push("/feed")))},P(r.value),1)])):e(ge)!==""&&e(z)?(p(),I("section",sl,[n("p",rl,[He(P(L.value+`${e(ge)==="draw"?"DRAW":e(ge)===e(W).user.uid?e(W).user.displayName||e(W).user.email:e(D).user.displayName||e(D).user.email}`),1),ve(A,{class:"animateHand",name:"thumbs-up-sharp"})]),n("button",{class:"customButton",onClick:y[14]||(y[14]=()=>(oe.value.cancel(),e(Ne).push("/feed")))},P(r.value),1)])):E.value&&e(Fe)&&!e(k)?(p(),I("section",ll,[n("button",{class:"customButton",onClick:y[15]||(y[15]=async()=>await ca(`${e(W).user.uid}`))},P(e(W).user.displayName),1),n("p",null,P(` ${u.value} `),1),n("button",{class:"customButton",onClick:y[16]||(y[16]=async()=>await ca(`${e(D).user.uid}`))},P(e(D).user.displayName),1)])):E.value&&e(De)!==""&&!e(k)?(p(),I("section",tl,[n("p",null,P(g.value),1)])):E.value&&e(Ve)!==""&&!e(k)?(p(),I("section",ol,[n("p",null,P(C.value),1),(p(),I(Y,null,q(3,N=>ve(ra,{class:$("selectCardOfThreeBorder"),key:e(Se)[N],coin:e(Se)[N],onClick:ce=>Sa(e(Se)[N])},null,8,["coin","onClick"])),64))])):E.value&&e(Je)!==""&&!e(k)?(p(),I("section",il,[n("p",null,P(d.value),1)])):E.value&&e(je)!==""&&!e(k)?(p(),I("section",nl,[n("p",null,P(i.value),1)])):E.value&&e(Ue)!==""&&!e(k)?(p(),I("section",ul,[n("p",null,P(i.value),1)])):E.value&&e(me)==="prepare"&&!e(k)?(p(),I("section",cl,[n("p",null,P(l.value),1)])):!E.value&&e(me)==="prepare"&&!e(k)?(p(),I("section",dl,[n("p",null,P(o.value),1)])):(p(),I("section",vl))])])}}});const wl=_e(pl,[["__scopeId","data-v-8568d99f"]]);export{wl as default};
