var Gs=Object.defineProperty;var Ts=(r,u,s)=>u in r?Gs(r,u,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[u]=s;var pe=(r,u,s)=>(Ts(r,typeof u!="symbol"?u+"":u,s),s);import{d as we,r as B,t as Be,A as xe,a as Me,o as a,c as t,i as e,n as ee,e as f,h,J as F,v as H,F as R,K as L,f as x,j as U,b as n,L as Oe,M as De,_ as ke,l as is,p as ns,N as Ws,m as us,O as As,x as b,P as te,Q as fe,s as Ge,w as We,R as Ms,k as ss,E as as,S as Ne,B as Os,C as Ds,G as rs,H as Ss,z as Le}from"./index-65df3919.js";import{L as Fs}from"./LoadingSpinner-67d4de55.js";let cs=[],ds=[],vs=[],ps=[],hs=[],ys=[];ys=[{id:1,taken:!1,activated:"none",cost:["brick","wood","clay","paper"],valueCost:[1,1,1,2],power:["attack","points","break"],valuePower:[1,3,1]},{id:2,taken:!1,activated:"none",cost:["brick","wood","glass"],valueCost:[2,1,1],power:["attack","points","break"],valuePower:[1,3,2]},{id:3,taken:!1,activated:"none",cost:["brick","clay","paper"],valueCost:[2,2,1],power:["effect","points","break","cash"],valuePower:[1,3,3,3]},{id:4,taken:!1,activated:"none",cost:["brick","clay","glass"],valueCost:[1,1,2],power:["effect","points"],valuePower:[1,6]},{id:5,taken:!1,activated:"none",cost:["wood","glass","paper"],valueCost:[2,1,1],power:["effect","points","cash"],valuePower:[1,3,6]},{id:6,taken:!1,activated:"none",cost:["clay","glass","paper"],valueCost:[2,2,1],power:["effect","points"],valuePower:[2,2]},{id:7,taken:!1,activated:"none",cost:["wood","brick","clay"],valueCost:[2,1,1],power:["effect","points","materials"],valuePower:[1,2,2]},{id:8,taken:!1,activated:"none",cost:["wood","glass","paper"],valueCost:[3,1,1],power:["effect","points"],valuePower:[3,4]},{id:9,taken:!1,activated:"none",cost:["brick","paper"],valueCost:[3,1],power:["points"],valuePower:[9]},{id:10,taken:!1,activated:"none",cost:["wood","brick","paper"],valueCost:[1,1,2],power:["materials","points"],valuePower:[1,4]},{id:11,taken:!1,activated:"none",cost:["wood","brick","glass","paper"],valueCost:[1,1,1,1],power:["effect","cash"],valuePower:[1,12]},{id:12,taken:!1,activated:"none",cost:["clay","glass"],valueCost:[3,1],power:["attack","points"],valuePower:[2,3]}];cs=[{tier:"I",taken:"inGame",hide:!1,color:"red",valueCost:[1],cost:["wood"],valuePower:[1,1],power:["attack","specialChar"]},{tier:"I",taken:"inGame",hide:!1,color:"red",valueCost:[1],cost:["clay"],valuePower:[1,2],power:["attack","specialChar"]},{tier:"I",taken:"inGame",hide:!1,color:"red",valueCost:[2],cost:["cash"],valuePower:[1,3],power:["attack","specialChar"]},{tier:"I",taken:"inGame",hide:!1,color:"red",valueCost:[],cost:[],valuePower:[1],power:["attack"]},{tier:"I",taken:"inGame",hide:!1,color:"green",valueCost:[2],cost:["cash"],valuePower:[1,4],power:["artefact","specialChar"]},{tier:"I",taken:"inGame",hide:!1,color:"green",valueCost:[2],cost:["cash"],valuePower:[2,5],power:["artefact","specialChar"]},{tier:"I",taken:"inGame",hide:!1,color:"green",valueCost:[1],cost:["paper"],valuePower:[3,1],power:["artefact","points"]},{tier:"I",taken:"inGame",hide:!1,color:"green",valueCost:[1],cost:["glass"],valuePower:[4,1],power:["artefact","points"]},{tier:"I",taken:"inGame",hide:!1,color:"blue",valueCost:[],cost:[],valuePower:[6,3],power:["specialChar","points"]},{tier:"I",taken:"inGame",hide:!1,color:"blue",valueCost:[],cost:[],valuePower:[7,3],power:["specialChar","points"]},{tier:"I",taken:"inGame",hide:!1,color:"blue",valueCost:[1],cost:["brick"],valuePower:[8,3],power:["specialChar","points"]},{tier:"I",taken:"inGame",hide:!1,color:"yellow",valueCost:[],cost:[],valuePower:[4,9],power:["cash","specialChar"]},{tier:"I",taken:"inGame",hide:!1,color:"yellow",valueCost:[3],cost:["cash"],valuePower:[1],power:["discount"]},{tier:"I",taken:"inGame",hide:!1,color:"yellow",valueCost:[3],cost:["cash"],valuePower:[2],power:["discount"]},{tier:"I",taken:"inGame",hide:!1,color:"yellow",valueCost:[3],cost:["cash"],valuePower:[3],power:["discount"]},{tier:"I",taken:"inGame",hide:!1,color:"brown",valueCost:[1],cost:["cash"],valuePower:[1],power:["clay"]},{tier:"I",taken:"inGame",hide:!1,color:"brown",valueCost:[1],cost:["cash"],valuePower:[1],power:["brick"]},{tier:"I",taken:"inGame",hide:!1,color:"brown",valueCost:[1],cost:["cash"],valuePower:[1],power:["wood"]},{tier:"I",taken:"inGame",hide:!1,color:"brown",valueCost:[],cost:[],valuePower:[1],power:["clay"]},{tier:"I",taken:"inGame",hide:!1,color:"brown",valueCost:[],cost:[],valuePower:[1],power:["brick"]},{tier:"I",taken:"inGame",hide:!1,color:"brown",valueCost:[],cost:[],valuePower:[1],power:["wood"]},{tier:"I",taken:"inGame",hide:!1,color:"grey",valueCost:[1],cost:["cash"],valuePower:[1],power:["paper"]},{tier:"I",taken:"inGame",hide:!1,color:"grey",valueCost:[1],cost:["cash"],valuePower:[1],power:["glass"]}];ds=[{tier:"II",taken:"inGame",hide:!1,color:"red",valueCost:[1,1,1],cost:["specialChar","wood","clay"],valuePower:[1],power:["attack"]},{tier:"II",taken:"inGame",hide:!1,color:"red",valueCost:[2,3],cost:["specialChar","cash"],valuePower:[1],power:["attack"]},{tier:"II",taken:"inGame",hide:!1,color:"red",valueCost:[1,1,1],cost:["brick","wood","paper"],valuePower:[2,10],power:["attack","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"red",valueCost:[2,1],cost:["clay","glass"],valuePower:[2,11],power:["attack","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"red",valueCost:[2],cost:["brick"],valuePower:[2],power:["attack"]},{tier:"II",taken:"inGame",hide:!1,color:"green",valueCost:[4,1,1,1],cost:["specialChar","brick","wood","glass"],valuePower:[1,2],power:["artefact","points"]},{tier:"II",taken:"inGame",hide:!1,color:"green",valueCost:[5,2,1],cost:["specialChar","clay","brick"],valuePower:[2,2],power:["artefact","points"]},{tier:"II",taken:"inGame",hide:!1,color:"green",valueCost:[2,1],cost:["wood","paper"],valuePower:[3,1,12],power:["artefact","points","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"green",valueCost:[2,1],cost:["wood","glass"],valuePower:[4,1,13],power:["artefact","points","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"blue",valueCost:[6,2],cost:["specialChar","clay"],valuePower:[4,14],power:["points","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"blue",valueCost:[7,1,1],cost:["specialChar","wood","paper"],valuePower:[4,15],power:["points","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"blue",valueCost:[8,3],cost:["specialChar","brick"],valuePower:[5],power:["points"]},{tier:"II",taken:"inGame",hide:!1,color:"blue",valueCost:[1,1],cost:["brick","wood"],valuePower:[4,16],power:["points","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"blue",valueCost:[2,1],cost:["wood","glass"],valuePower:[5],power:["points"]},{tier:"II",taken:"inGame",hide:!1,color:"yellow",valueCost:[],cost:[],valuePower:[6,17],power:["cash","specialChar"]},{tier:"II",taken:"inGame",hide:!1,color:"yellow",valueCost:[3,1],cost:["cash","clay"],valuePower:[2],power:["materials"]},{tier:"II",taken:"inGame",hide:!1,color:"yellow",valueCost:[2,1,1],cost:["cash","paper","glass"],valuePower:[1],power:["materials"]},{tier:"II",taken:"inGame",hide:!1,color:"yellow",valueCost:[4],cost:["cash"],valuePower:[4],power:["discount"]},{tier:"II",taken:"inGame",hide:!1,color:"brown",valueCost:[2],cost:["cash"],valuePower:[2],power:["clay"]},{tier:"II",taken:"inGame",hide:!1,color:"brown",valueCost:[2],cost:["cash"],valuePower:[2],power:["brick"]},{tier:"II",taken:"inGame",hide:!1,color:"brown",valueCost:[2],cost:["cash"],valuePower:[2],power:["wood"]},{tier:"II",taken:"inGame",hide:!1,color:"grey",valueCost:[],cost:[],valuePower:[1],power:["paper"]},{tier:"II",taken:"inGame",hide:!1,color:"grey",valueCost:[],cost:[],valuePower:[1],power:["glass"]}];vs=[{tier:"III",taken:"inGame",hide:!1,color:"red",valueCost:[3,2,1,1],cost:["specialChar","brick","clay","paper"],valuePower:[2],power:["attack"]},{tier:"III",taken:"inGame",hide:!1,color:"red",valueCost:[10,3,1],cost:["specialChar","wood","glass"],valuePower:[2],power:["attack"]},{tier:"III",taken:"inGame",hide:!1,color:"red",valueCost:[11,2,2],cost:["specialChar","clay","brick"],valuePower:[2],power:["attack"]},{tier:"III",taken:"inGame",hide:!1,color:"red",valueCost:[3,2],cost:["clay","wood"],valuePower:[3],power:["attack"]},{tier:"III",taken:"inGame",hide:!1,color:"red",valueCost:[8],cost:["cash"],valuePower:[3],power:["attack"]},{tier:"III",taken:"inGame",hide:!1,color:"green",valueCost:[12,1,1,1],cost:["specialChar","clay","paper","glass"],valuePower:[5,2],power:["artefact","points"]},{tier:"III",taken:"inGame",hide:!1,color:"green",valueCost:[13,1,2],cost:["specialChar","brick","paper"],valuePower:[5,2],power:["artefact","points"]},{tier:"III",taken:"inGame",hide:!1,color:"green",valueCost:[1,1,2],cost:["brick","wood","glass"],valuePower:[6,3],power:["artefact","points"]},{tier:"III",taken:"inGame",hide:!1,color:"green",valueCost:[2,1,1],cost:["wood","paper","glass"],valuePower:[6,3],power:["artefact","points"]},{tier:"III",taken:"inGame",hide:!1,color:"blue",valueCost:[14,2,2],cost:["specialChar","clay","wood"],valuePower:[6],power:["points"]},{tier:"III",taken:"inGame",hide:!1,color:"blue",valueCost:[15,1,1,2],cost:["specialChar","clay","wood","paper"],valuePower:[6],power:["points"]},{tier:"III",taken:"inGame",hide:!1,color:"blue",valueCost:[16,2,1,1],cost:["specialChar","clay","brick","paper"],valuePower:[5],power:["points"]},{tier:"III",taken:"inGame",hide:!1,color:"blue",valueCost:[1,1,1,2],cost:["clay","brick","wood","glass"],valuePower:[7],power:["points"]},{tier:"III",taken:"inGame",hide:!1,color:"blue",valueCost:[3,2],cost:["brick","wood"],valuePower:[7],power:["points"]},{tier:"III",taken:"inGame",hide:!1,color:"blue",valueCost:[2,1],cost:["brick","glass"],valuePower:[5],power:["points"]},{tier:"III",taken:"inGame",hide:!1,color:"yellow",valueCost:[18,1,1,1],cost:["specialChar","clay","brick","wood"],valuePower:[3,1],power:["points","cashBack"]},{tier:"III",taken:"inGame",hide:!1,color:"yellow",valueCost:[17,2,1],cost:["specialChar","clay","glass"],valuePower:[3,2],power:["points","cashBack"]},{tier:"III",taken:"inGame",hide:!1,color:"yellow",valueCost:[2],cost:["paper"],valuePower:[3,3],power:["points","cashBack"]},{tier:"III",taken:"inGame",hide:!1,color:"yellow",valueCost:[1,1,1],cost:["wood","glass","paper"],valuePower:[3,4],power:["points","cashBack"]},{tier:"III",taken:"inGame",hide:!1,color:"yellow",valueCost:[2,1],cost:["brick","glass"],valuePower:[3,5],power:["points","cashBack"]}];ps=[{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[1,1,1,1],cost:["clay","wood","paper","glass"],valuePower:[1],power:["guild"]},{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[1,1,1,1],cost:["clay","brick","paper","glass"],valuePower:[2],power:["guild"]},{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[2,1,1,1],cost:["brick","clay","wood","glass"],valuePower:[3],power:["guild"]},{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[2,1,1],cost:["wood","clay","paper"],valuePower:[4],power:["guild"]},{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[2,2],cost:["clay","wood"],valuePower:[5],power:["guild"]},{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[2,2],cost:["brick","wood"],valuePower:[6],power:["guild"]},{tier:"guild",taken:"inGame",hide:!1,color:"purple",valueCost:[2,1,1],cost:["brick","clay","paper"],valuePower:[7],power:["guild"]}];hs=["artefact7","attack1","cash6n4special","cashBack","lowCostBlue","lowCostWonder","point4n6cash","point7","pointX3","repeatWonder"];const Vs=[-200,-200,-135,-135,-135,-70,-70,-70,-70,-5,-5,-5,-5,-5,60,60,60,60,60,60],fs=[-120,20,-190,-50,90,-260,-120,20,160,-330,-190,-50,90,230,-400,-260,-120,20,160,300],Es=[-200,-200,-200,-200,-200,-200,-135,-135,-135,-135,-135,-70,-70,-70,-70,-5,-5,-5,60,60],Rs=[...fs].reverse(),Ns=[-265,-265,-200,-200,-200,-135,-135,-135,-135,-70,-70,-5,-5,-5,-5,60,60,60,125,125],Ls=[-120,20,-190,-50,90,-260,-120,20,160,-190,90,160,20,-120,-260,90,-50,-190,20,-120],js=[3,4,5,10,11,12,13,14];function ze(r,u){let s=[];return u==="I"?s=r.map((l,i)=>{const y=i+1;let _=0;return i<2?_=2:i<5?_=3:i<9?_=4:i<14?_=5:i<20&&(_=0),{...l,id:y,coversBy:_!==0?[y+_,y+_+1]:[],hide:!!js.find(O=>O===y)}}):u==="II"?(s[0]={...r[0],id:1,coversBy:[7]},s[1]={...r[1],id:2,coversBy:[7,8]},s[2]={...r[2],id:3,coversBy:[8,9]},s[3]={...r[3],id:4,coversBy:[9,10]},s[4]={...r[4],id:5,coversBy:[10,11]},s[5]={...r[5],id:6,coversBy:[11]},s[6]={...r[6],id:7,coversBy:[12],hide:!0},s[7]={...r[7],id:8,coversBy:[12,13],hide:!0},s[8]={...r[8],id:9,coversBy:[13,14],hide:!0},s[9]={...r[9],id:10,coversBy:[14,15],hide:!0},s[10]={...r[10],id:11,coversBy:[15],hide:!0},s[11]={...r[11],id:12,coversBy:[16]},s[12]={...r[12],id:13,coversBy:[16,17]},s[13]={...r[13],id:14,coversBy:[17,18]},s[14]={...r[14],id:15,coversBy:[18]},s[15]={...r[15],id:16,coversBy:[19],hide:!0},s[16]={...r[16],id:17,coversBy:[19,20],hide:!0},s[17]={...r[17],id:18,coversBy:[20],hide:!0},s[18]={...r[18],id:19,coversBy:[]},s[19]={...r[19],id:20,coversBy:[]}):u==="III"&&(s[0]={...r[0],id:1,coversBy:[3,4]},s[1]={...r[1],id:2,coversBy:[4,5]},s[2]={...r[2],id:3,coversBy:[6,7],hide:!0},s[3]={...r[3],id:4,coversBy:[7,8],hide:!0},s[4]={...r[4],id:5,coversBy:[8,9],hide:!0},s[5]={...r[5],id:6,coversBy:[10]},s[6]={...r[6],id:7,coversBy:[10]},s[7]={...r[7],id:8,coversBy:[11]},s[8]={...r[8],id:9,coversBy:[11]},s[9]={...r[9],id:10,coversBy:[14,15],hide:!0},s[10]={...r[10],id:11,coversBy:[12,13],hide:!0},s[11]={...r[11],id:12,coversBy:[16]},s[12]={...r[12],id:13,coversBy:[16,17]},s[13]={...r[13],id:14,coversBy:[17,18]},s[14]={...r[14],id:15,coversBy:[18]},s[15]={...r[15],id:16,coversBy:[19],hide:!0},s[16]={...r[16],id:17,coversBy:[19,20],hide:!0},s[17]={...r[17],id:18,coversBy:[20],hide:!0},s[18]={...r[18],id:19,coversBy:[]},s[19]={...r[19],id:20,coversBy:[]}),s}const ts=(r,u)=>{const s={...u.resources};if(r.color==="brown")switch(r.power[0]){case"clay":s.clayValue+=r.valuePower[0];break;case"brick":s.brickValue+=r.valuePower[0];break;case"wood":s.woodValue+=r.valuePower[0];break}else if(r.color==="grey")switch(r.power[0]){case"paper":s.paperValue+=r.valuePower[0];break;case"glass":s.glassValue+=r.valuePower[0];break}else r.color==="yellow"?r.power.forEach((l,i)=>{if(l==="points"&&(u.points+=r.valuePower[i]),l==="discount")switch(r.valuePower[i]){case 1:s.clayOne=1;break;case 2:s.brickOne=1;break;case 3:s.woodOne=1;break;case 4:s.paperGlassOne=1;break}if(l==="materials")switch(r.valuePower[i]){case 1:s.materialsCBW+=1;break;case 2:s.materialsPG+=1;break}if(l==="specialChar"&&s.specialChars.push(r.valuePower[i]),l==="cash"&&(s.cash+=r.valuePower[i]),l==="cashBack")switch(r.valuePower[i]){case 1:s.cash+=u.wonderCards.filter(y=>y.activated!=="none").length*2;break;case 2:s.cash+=u.cards.yellow.length+1;break;case 3:s.cash+=u.cards.grey.length*3;break;case 4:s.cash+=u.cards.brown.length*2;break;case 5:s.cash+=u.cards.red.length;break}}):r.color==="red"?r.power.forEach((l,i)=>{l==="specialChar"&&s.specialChars.push(r.valuePower[i])}):r.color==="green"?r.power.forEach((l,i)=>{l==="specialChar"&&s.specialChars.push(r.valuePower[i]),l==="artefact"&&s.artefacts.push(r.valuePower[i]),l==="points"&&(u.points+=r.valuePower[i])}):r.color==="blue"?r.power.forEach((l,i)=>{l==="points"&&(u.points+=r.valuePower[i]),l==="specialChar"&&s.specialChars.push(r.valuePower[i])}):r.color;return s},ls=(r,u)=>{const s={...u};return s.wonderCards=s.wonderCards.map(l=>l.id===r.id?r:l),r.power.forEach((l,i)=>{if(l==="materials")switch(r.valuePower[i]){case 1:s.resources.materialsCBW+=1;break;case 2:s.resources.materialsPG+=1;break}else l==="cash"?s.resources.cash+=r.valuePower[i]:l==="points"&&(s.points+=r.valuePower[i])}),s};function be(r,u){const s=new Array(u);let l=r.length;const i=new Array(l);if(u>l)throw new RangeError("getRandom: more elements taken than available");for(;u--;){const y=Math.floor(Math.random()*l);s[u]=r[y in i?i[y]:y],i[y]=--l in i?i[l]:l}return s}const ve=r=>(Oe("data-v-b9fb2cb4"),r=r(),De(),r),xs={key:2,class:"specialChar"},Xs={key:3,class:"standardPower"},Hs={key:0,style:"margin-right: 1px;"},zs={key:1},Ks={key:2},Ys={key:3,class:"resources",style:"width: 100%;"},Js={key:4,class:"resources",style:"width: 100%;"},Qs={key:5,class:"resources",style:"width: 100%;"},Us={key:6,class:"resources",style:"width: 100%;"},qs={key:7,class:"resources",style:"width: 100%;"},Zs={key:8},ea={key:9,class:"resources discount",style:"width: 100%;"},sa={key:0,class:"clay"},aa={key:1,class:"brick"},ra={key:2,class:"wood"},ta={key:3,class:"paper"},la={key:4,class:"glass"},oa=ve(()=>n("div",{class:"clay"},"c",-1)),ia=ve(()=>n("div",{class:"brick"},"b",-1)),na=ve(()=>n("div",{class:"wood"},"w",-1)),ua={key:11,class:"resources",style:"width: 100%;"},ca=ve(()=>n("div",{class:"paper"},"p",-1)),da=ve(()=>n("div",{class:"glass"},"g",-1)),va={key:12},pa={key:0},ha={key:1},ya=ve(()=>n("div",{class:"miniCard",style:"background: yellow"},null,-1)),fa={key:2},wa=ve(()=>n("div",{class:"miniCard",style:"background: grey"},null,-1)),ka={key:3},Ca=ve(()=>n("div",{class:"miniCard",style:"background: brown"},null,-1)),ba={key:4},ma=ve(()=>n("div",{class:"miniCard",style:"background: red"},null,-1)),_a={key:13},ga={key:0},Pa=ve(()=>n("div",{class:"miniCard",style:"background: yellow"},null,-1)),$a={key:1},Ia=ve(()=>n("div",{class:"miniCard",style:"background: brown"},null,-1)),Ba=ve(()=>n("div",{class:"miniCard",style:"background: grey"},null,-1)),Ga={key:2},Ta={key:3},Wa=ve(()=>n("div",{class:"miniCard",style:"background: blue"},null,-1)),Aa={key:4},Ma=ve(()=>n("div",{class:"miniCard",style:"background: green"},null,-1)),Oa={key:5},Da=ve(()=>n("div",{class:"cash"},f("3"),-1)),Sa={key:6},Fa=ve(()=>n("div",{class:"miniCard",style:"background: red"},null,-1)),Va={key:4,class:"specialCharCost"},Ea={key:5,class:"standardCost"},Ra={key:0,class:"resources",style:"width: 100%;"},Na={class:"cash"},La={key:1,class:"resources",style:"width: 100%;"},ja={key:2,class:"resources",style:"width: 100%;"},xa={key:3,class:"resources",style:"width: 100%;"},Xa={key:4,class:"resources",style:"width: 100%;"},Ha={key:5,class:"resources",style:"width: 100%;"},za=we({__name:"DuelGameCardComponent",props:{card:{},small:{type:Boolean},cash1P:{},cash2P:{},res1P:{},res2P:{}},setup(r){const u=r,s=B(0),l=B(0),i=B(0),y=B(0),_=B(0),O=B(0),w=B(0),d=B(0),o=B(0),C=B(0),J=B(0),V=B(0),I=B(0),E=B(0),ne=B(0),v=B(0),z=B(0),T=B(0),ie=B(0),P=B(0),W=B(0),se=B(""),{card:N}=Be(u);return xe(()=>{switch(N.value.power.forEach((Q,K)=>{switch(Q){case"points":s.value=N.value.valuePower[K];break;case"artefact":l.value=N.value.valuePower[K];break;case"attack":i.value=N.value.valuePower[K];break;case"clay":y.value=N.value.valuePower[K];break;case"brick":_.value=N.value.valuePower[K];break;case"wood":O.value=N.value.valuePower[K];break;case"paper":w.value=N.value.valuePower[K];break;case"glass":d.value=N.value.valuePower[K];break;case"cash":o.value=N.value.valuePower[K];break;case"specialChar":C.value=N.value.valuePower[K];break;case"discount":J.value=N.value.valuePower[K];break;case"materials":V.value=N.value.valuePower[K];break;case"cashBack":I.value=N.value.valuePower[K];break;case"guild":E.value=N.value.valuePower[K];break}}),N.value.cost.forEach((Q,K)=>{switch(Q){case"specialChar":ne.value=N.value.valueCost[K];break;case"clay":v.value=N.value.valueCost[K];break;case"brick":z.value=N.value.valueCost[K];break;case"wood":T.value=N.value.valueCost[K];break;case"paper":ie.value=N.value.valueCost[K];break;case"glass":P.value=N.value.valueCost[K];break;case"cash":W.value=N.value.valueCost[K];break}}),N.value.color){case"red":se.value="rgb(255, 39, 39)";break;case"green":se.value="rgb(14, 165, 14)";break;case"blue":se.value="rgb(74, 74, 252)";break;case"yellow":se.value="rgb(255, 255, 44)";break;case"brown":se.value="rgb(197, 69, 69)";break;case"grey":se.value="rgb(161, 161, 161)";break;case"purple":se.value="rgb(192, 23, 192)";break}}),(Q,K)=>{var me,_e;const ce=Me("ion-icon");return a(),t("div",{class:ee(["card",`card${e(N).id}`,Q.small&&"small"]),style:U(`--bgColor:${se.value};`)},[e(N).taken==="inGame"&&Q.cash1P!==void 0&&Q.cash1P>=0?(a(),t("div",{key:0,class:ee(["cashSumP1",Q.res1P!==void 0&&Q.cash1P>Q.res1P&&"colorRed"])},f(Q.cash1P),3)):h("",!0),e(N).taken==="inGame"&&Q.cash2P!==void 0&&Q.cash2P>=0?(a(),t("div",{key:1,class:ee(["cashSumP2",Q.res2P!==void 0&&Q.cash2P>Q.res2P&&"colorRed"])},f(Q.cash2P),3)):h("",!0),C.value?(a(),t("div",xs,f(C.value+"s"),1)):h("",!0),!e(N).hide||((me=e(N).coversBy)==null?void 0:me.length)===0?(a(),t("div",Xs,[l.value?(a(),t("div",Hs,[F(f(l.value),1),H(ce,{name:"sparkles-sharp"})])):h("",!0),s.value?(a(),t("div",zs,[F(f(s.value),1),H(ce,{name:"ribbon-sharp"})])):h("",!0),i.value?(a(),t("div",Ks,[(a(!0),t(R,null,L(i.value,Z=>(a(),x(ce,{key:Z,name:"skull-sharp"}))),128))])):h("",!0),y.value?(a(),t("div",Ys,[(a(!0),t(R,null,L(y.value,Z=>(a(),t("div",{key:Z,class:"clay"},"c"))),128))])):h("",!0),_.value?(a(),t("div",Js,[(a(!0),t(R,null,L(_.value,Z=>(a(),t("div",{key:Z,class:"brick"},"b"))),128))])):h("",!0),O.value?(a(),t("div",Qs,[(a(!0),t(R,null,L(O.value,Z=>(a(),t("div",{key:Z,class:"wood"},"w"))),128))])):h("",!0),w.value?(a(),t("div",Us,[(a(!0),t(R,null,L(w.value,Z=>(a(),t("div",{key:Z,class:"paper"},"p"))),128))])):h("",!0),d.value?(a(),t("div",qs,[(a(!0),t(R,null,L(d.value,Z=>(a(),t("div",{key:Z,class:"glass"},"g"))),128))])):h("",!0),o.value?(a(),t("div",Zs,f(o.value+"$"),1)):h("",!0),J.value?(a(),t("div",ea,[J.value===1?(a(),t("div",sa,"c")):h("",!0),J.value===2?(a(),t("div",aa,"b")):h("",!0),J.value===3?(a(),t("div",ra,"w")):h("",!0),J.value===4?(a(),t("div",ta,"p")):h("",!0),J.value===4?(a(),t("div",la,"g")):h("",!0)])):h("",!0),V.value===1?(a(),t("div",{key:10,class:"resources",style:U("width: 100%; transform: scale(.8);")},[oa,F(" / "),ia,F(" / "),na],4)):h("",!0),V.value===2?(a(),t("div",ua,[ca,F(" / "),da])):h("",!0),I.value?(a(),t("div",va,[I.value===1?(a(),t("div",pa,[H(ce,{name:"prism"}),F(f("x2$"))])):h("",!0),I.value===2?(a(),t("div",ha,[ya,F(" "+f("x1$"))])):h("",!0),I.value===3?(a(),t("div",fa,[wa,F(" "+f("x3$"))])):h("",!0),I.value===4?(a(),t("div",ka,[Ca,F(" "+f("x2$"))])):h("",!0),I.value===5?(a(),t("div",ba,[ma,F(" "+f("x1$"))])):h("",!0)])):h("",!0),E.value?(a(),t("div",_a,[E.value===1?(a(),t("div",ga,[Pa,F(" "+f("x1")),H(ce,{name:"ribbon-sharp"}),F(f("$"))])):h("",!0),E.value===2?(a(),t("div",$a,[Ia,Ba,F(" "+f("x1")),H(ce,{name:"ribbon-sharp"}),F(f("$"))])):h("",!0),E.value===3?(a(),t("div",Ga,[H(ce,{name:"prism"}),F(" "+f("x2")),H(ce,{name:"ribbon-sharp"})])):h("",!0),E.value===4?(a(),t("div",Ta,[Wa,F(" "+f("x1")),H(ce,{name:"ribbon-sharp"}),F(f("$"))])):h("",!0),E.value===5?(a(),t("div",Aa,[Ma,F(" "+f("x1")),H(ce,{name:"ribbon-sharp"}),F(f("$"))])):h("",!0),E.value===6?(a(),t("div",Oa,[Da,F(" "+f("/")),H(ce,{name:"ribbon-sharp"})])):h("",!0),E.value===7?(a(),t("div",Sa,[Fa,F(" "+f("x1")),H(ce,{name:"ribbon-sharp"}),F(f("$"))])):h("",!0)])):h("",!0)])):h("",!0),!Q.small&&ne.value?(a(),t("div",Va,f(ne.value+"s"),1)):h("",!0),!Q.small&&(!e(N).hide||((_e=e(N).coversBy)==null?void 0:_e.length)===0)?(a(),t("div",Ea,[W.value?(a(),t("div",Ra,[n("div",Na,f(W.value+"$"),1)])):h("",!0),v.value?(a(),t("div",La,[(a(!0),t(R,null,L(v.value,Z=>(a(),t("div",{key:Z,class:"clay"},"c"))),128))])):h("",!0),z.value?(a(),t("div",ja,[(a(!0),t(R,null,L(z.value,Z=>(a(),t("div",{key:Z,class:"brick"},"b"))),128))])):h("",!0),T.value?(a(),t("div",xa,[(a(!0),t(R,null,L(T.value,Z=>(a(),t("div",{key:Z,class:"wood"},"w"))),128))])):h("",!0),ie.value?(a(),t("div",Xa,[(a(!0),t(R,null,L(ie.value,Z=>(a(),t("div",{key:Z,class:"paper"},"p"))),128))])):h("",!0),P.value?(a(),t("div",Ha,[(a(!0),t(R,null,L(P.value,Z=>(a(),t("div",{key:Z,class:"glass"},"g"))),128))])):h("",!0)])):h("",!0)],6)}}});const ue=ke(za,[["__scopeId","data-v-b9fb2cb4"]]);class ws{constructor(u){pe(this,"pawn",0);pe(this,"coins",[]);pe(this,"punishment1",!0);pe(this,"punishment2",!0);pe(this,"punishment3",!0);pe(this,"punishment4",!0);Object.assign(this,u)}}class Ae{constructor(u){pe(this,"_id",0);pe(this,"user",{});pe(this,"points",0);pe(this,"resources",{cash:7,clayValue:0,brickValue:0,woodValue:0,paperValue:0,glassValue:0,clayOne:0,brickOne:0,woodOne:0,paperGlassOne:0,materialsCBW:0,materialsPG:0,specialChars:[],artefacts:[],specialEffects:[],coins:[]});pe(this,"wonderCards",[]);pe(this,"cards",{red:[],green:[],blue:[],yellow:[],brown:[],grey:[],purple:[]});Object.assign(this,u)}get id(){return this._id}set setId(u){this._id=u}}const Ka=is(us,"gameDuel"),S=ns(Ka,"table1");let os;const Te=Ws("duelGameStore",{state:()=>({turn:"",tier:"prepare",move:0,pickCoin:"",pickCoinOfThree:"",pickCardFromGraveyard:"",destroyBrown:"",destroyGrey:"",tierOneCards:[],tierTwoCards:[],tierThreeCards:[],theRestOfCoins:[],wonderCards:[],graveyard:[],board:new ws,player1:new Ae,player2:new Ae,selectWondersForPlayers:[],selectWondersForPlayersMove:0,chooseWhoWillStart:!1,wonByArt:"",wonByAggressive:"",selectedCard:{},selectedWonder:{},isLoading:!1}),getters:{},actions:{async subFirebaseConnect(r){os=await As(S,u=>{if(u.exists()){const{turn:s,tier:l,move:i,tierICards:y,tierIICards:_,tierIIICards:O,player1:w,player2:d,gameBoard:o,wonderCards:C,graveyard:J,theRestOfCoins:V,pickCoin:I,pickCoinOfThree:E,pickCardFromGraveyard:ne,destroyBrown:v,destroyGrey:z,selectWondersForPlayers:T,selectWondersForPlayersMove:ie,chooseWhoWillStart:P,wonByArt:W,wonByAggressive:se}=u.data();this.turn=s,this.tier=l,this.move=i,this.tierOneCards=y,this.tierTwoCards=_,this.tierThreeCards=O,this.player1=w,this.player2=d,this.board=o,this.wonderCards=C,this.graveyard=J,this.theRestOfCoins=V,this.pickCoin=I,this.pickCoinOfThree=E,this.pickCardFromGraveyard=ne,this.destroyBrown=v,this.destroyGrey=z,this.selectWondersForPlayers=T,this.selectWondersForPlayersMove=ie,this.chooseWhoWillStart=P,this.wonByArt=W,this.wonByAggressive=se}})},unSubFirebaseConnect(){os()},unselectCard(){this.selectedCard={},this.selectedWonder={}},async upgradeTurnAndMove(r,u){if(u)await b(S,{turn:r});else if(this.move+1===60)await b(S,{tier:"end",move:te(1)});else if((this.move+1===20||this.move+1===40)&&!this.chooseWhoWillStart){let s=r;s=s===this.player1.user.uid?`${this.player2.user.uid}`:`${this.player1.user.uid}`,this.board.pawn>0?s=`${this.player1.user.uid}`:this.board.pawn<0&&(s=`${this.player2.user.uid}`),await b(S,{chooseWhoWillStart:!0,turn:s,move:te(1)})}else await b(S,{turn:r,move:te(1)})},async setPickCoin(r){await b(S,{pickCoin:r})},async setPickCoinOfThree(r){await b(S,{pickCoinOfThree:r})},async setPickCardFromGraveyard(r){await b(S,{pickCardFromGraveyard:r})},async setDestroyBrown(r){await b(S,{destroyBrown:r})},async setDestroyGrey(r){await b(S,{destroyGrey:r})},async setMovePawn(r,u){if(u===this.player1.user.uid)for(let s=0;s<r;s++){if(this.board.pawn<=-8){await b(S,{"gameBoard.pawn":te(-1),wonByAggressive:u}),console.log("%c END GAME - ATTACK -> ","background: #222; color: #bada55");return}await b(S,{"gameBoard.pawn":te(-1)}),this.board.pawn<=-6&&this.board.punishment1?await b(S,{"gameBoard.punishment1":!1,"player2.resources.cash":this.player2.resources.cash<=5?0:this.player2.resources.cash-=5}):this.board.pawn<=-3&&this.board.punishment2&&await b(S,{"gameBoard.punishment2":!1,"player2.resources.cash":this.player2.resources.cash<=2?0:this.player2.resources.cash-=2})}else for(let s=0;s<r;s++){if(this.board.pawn>=8){await b(S,{"gameBoard.pawn":te(1),wonByAggressive:u}),console.log("%c END GAME - ATTACK -> ","background: #222; color: #bada55");return}await b(S,{"gameBoard.pawn":te(1)}),this.board.pawn>=3&&this.board.punishment3?await b(S,{"gameBoard.punishment3":!1,"player1.resources.cash":this.player1.resources.cash<=2?0:this.player1.resources.cash-=2}):this.board.pawn>=6&&this.board.punishment4&&await b(S,{"gameBoard.punishment4":!1,"player1.resources.cash":this.player1.resources.cash<=5?0:this.player1.resources.cash-=5})}},async countArtefacts(r){let u=0;if(r===this.player1.user.uid){this.player1.resources.coins.find(l=>l==="artefact7")&&(u+=1);const s=this.player1.cards.green.map(l=>l.valuePower[0]);u+=[...new Set(s)].length}else{this.player2.resources.coins.find(l=>l==="artefact7")&&(u+=1);const s=this.player2.cards.green.map(l=>l.valuePower[0]);u+=[...new Set(s)].length}if(u>=6){await b(S,{wonByArt:r}),console.log("%c END GAME - ARTEFACT -> ","background: #222; color: #bada55");return}},async setCardTaken(r,u){let s={},l=!1,i=!1,y=!1,_=0,O=0;if(this.tier==="I"||u==="I"?(this.tierOneCards=this.$state.tierOneCards.map(w=>(w.id===this.selectedCard.id&&(s=w),{...w,taken:w.id===this.selectedCard.id?"inPlayerBoard":w.taken,coversBy:w!=null&&w.coversBy?w.coversBy.filter(d=>d!==this.selectedCard.id):[]})),await b(S,{tierICards:this.tierOneCards})):this.tier==="II"||u==="II"?(this.tierTwoCards=this.$state.tierTwoCards.map(w=>(w.id===this.selectedCard.id&&(s=w),{...w,taken:w.id===this.selectedCard.id?"inPlayerBoard":w.taken,coversBy:w!=null&&w.coversBy?w.coversBy.filter(d=>d!==this.selectedCard.id):[]})),await b(S,{tierIICards:this.tierTwoCards})):(this.tier==="III"||u==="III"||u==="guild")&&(this.tierThreeCards=this.$state.tierThreeCards.map(w=>(w.id===this.selectedCard.id&&(s=w),{...w,taken:w.id===this.selectedCard.id?"inPlayerBoard":w.taken,coversBy:w!=null&&w.coversBy?w.coversBy.filter(d=>d!==this.selectedCard.id):[]})),await b(S,{tierIIICards:this.tierThreeCards})),this.isLoading=!0,this.turn===this.player1.user.uid){this.player1.resources.coins.find(d=>d==="cash6n4special")&&r===0&&s.cost[0]==="specialChar"&&this.player1.resources.specialChars.find(d=>d===s.valueCost[0])&&(O=4);const w=ts(s,this.player1);if(this.player1.cards[s.color].push({...s,taken:"inPlayerBoard"}),s.color==="red"&&s.power.forEach((d,o)=>{d==="attack"&&(this.player1.resources.coins.find(C=>C==="attack1")?_=++s.valuePower[o]:_=s.valuePower[o],y=!0)}),s.color==="green"&&(i=!0,s.power.forEach((d,o)=>{if(d==="artefact"&&this.player1.resources.artefacts.length!==0){let C=0;this.player1.resources.artefacts.forEach(J=>{J===s.valuePower[o]&&C++}),C===2&&(l=!0)}})),s.color==="purple")switch(s.valuePower[0]){case 1:{const d=this.player1.cards.yellow.length,o=this.player2.cards.yellow.length,C=d>o?d:o;w.cash+=C;break}case 2:{const d=this.player1.cards.brown.length+this.player1.cards.grey.length,o=this.player2.cards.brown.length+this.player2.cards.grey.length,C=d>o?d:o;w.cash+=C;break}case 4:{const d=this.player1.cards.blue.length,o=this.player2.cards.blue.length,C=d>o?d:o;w.cash+=C;break}case 5:{const d=this.player1.cards.green.length,o=this.player2.cards.green.length,C=d>o?d:o;w.cash+=C;break}case 7:{const d=this.player1.cards.red.length,o=this.player2.cards.red.length,C=d>o?d:o;w.cash+=C;break}}if(await b(S,{"player1.points":this.player1.points,"player1.cards":this.player1.cards,"player1.resources":{...w,cash:w.cash+O-r}}),r>0&&this.player2.resources.coins.find(d=>d==="cashBack")){let d=r;s.cost.find((o,C)=>o==="cash"?(d-=s.valueCost[C],b(S,{"player2.resources.cash":te(d)}),!0):!1)}i&&await this.countArtefacts(`${this.player1.user.uid}`),y&&await this.setMovePawn(_,`${this.player1.user.uid}`),l&&await this.setPickCoin(`${this.player1.user.uid}`),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCoin===""&&this.upgradeTurnAndMove(`${this.player2.user.uid}`)}else{this.player2.resources.coins.find(d=>d==="cash6n4special")&&r===0&&s.cost[0]==="specialChar"&&this.player2.resources.specialChars.find(d=>d===s.valueCost[0])&&(O=4);const w=ts(s,this.player2);if(this.player2.cards[s.color].push({...s,taken:"inPlayerBoard"}),s.color==="red"&&s.power.forEach((d,o)=>{d==="attack"&&(this.player2.resources.coins.find(C=>C==="attack1")?_=s.valuePower[o]+1:_=s.valuePower[o],y=!0)}),s.color==="green"&&(i=!0,s.power.forEach((d,o)=>{if(d==="artefact"&&this.player2.resources.artefacts.length!==0){let C=0;this.player2.resources.artefacts.forEach(J=>{J===s.valuePower[o]&&C++}),C===2&&(l=!0)}})),s.color==="purple")switch(s.valuePower[0]){case 1:{const d=this.player1.cards.yellow.length,o=this.player2.cards.yellow.length,C=d>o?d:o;w.cash+=C;break}case 2:{const d=this.player1.cards.brown.length+this.player1.cards.grey.length,o=this.player2.cards.brown.length+this.player1.cards.grey.length,C=d>o?d:o;w.cash+=C;break}case 4:{const d=this.player1.cards.blue.length,o=this.player2.cards.blue.length,C=d>o?d:o;w.cash+=C;break}case 5:{const d=this.player1.cards.green.length,o=this.player2.cards.green.length,C=d>o?d:o;w.cash+=C;break}case 7:{const d=this.player1.cards.red.length,o=this.player2.cards.red.length,C=d>o?d:o;w.cash+=C;break}}if(await b(S,{"player2.points":this.player2.points,"player2.cards":this.player2.cards,"player2.resources":{...w,cash:w.cash+O-r}}),r>0&&this.player1.resources.coins.find(d=>d==="cashBack")){let d=r;s.cost.find((o,C)=>o==="cash"?(d-=s.valueCost[C],b(S,{"player1.resources.cash":te(d)}),!0):!1)}i&&await this.countArtefacts(`${this.player2.user.uid}`),y&&await this.setMovePawn(_,`${this.player2.user.uid}`),l&&await this.setPickCoin(`${this.player2.user.uid}`),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCoin===""&&(this.turn===this.player1.user.uid&&u?this.player1.resources.coins.find(d=>d==="repeatWonder")?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.turn===this.player2.user.uid&&u?this.player2.resources.coins.find(d=>d==="repeatWonder")?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`):await this.upgradeTurnAndMove(`${this.player1.user.uid}`))}this.unselectCard(),this.isLoading=!1},async setCardGraveyard(r){var s;let u={};if(this.tier==="I"||r==="I"?(this.tierOneCards=this.$state.tierOneCards.map(l=>(l.id===this.selectedCard.id&&(u=l),{...l,taken:l.id===this.selectedCard.id?"graveyard":l.taken,coversBy:l!=null&&l.coversBy?l.coversBy.filter(i=>i!==this.selectedCard.id):[]})),await b(S,{tierICards:this.tierOneCards})):this.tier==="II"||r==="II"?(this.tierTwoCards=this.$state.tierTwoCards.map(l=>(l.id===this.selectedCard.id&&(u=l),{...l,taken:l.id===this.selectedCard.id?"graveyard":l.taken,coversBy:l!=null&&l.coversBy?l.coversBy.filter(i=>i!==this.selectedCard.id):[]})),await b(S,{tierIICards:this.tierTwoCards})):(this.tier==="III"||r==="III"||r==="guild")&&(this.tierThreeCards=this.$state.tierThreeCards.map(l=>(l.id===this.selectedCard.id&&(u=l),{...l,taken:l.id===this.selectedCard.id?"graveyard":l.taken,coversBy:l!=null&&l.coversBy?l.coversBy.filter(i=>i!==this.selectedCard.id):[]})),await b(S,{tierIIICards:this.tierThreeCards})),this.isLoading=!0,this.graveyard.push({...u,taken:"graveyard"}),r)if(this.turn===this.player1.user.uid){const l={...this.player2.resources};if(u.color==="brown"){switch(u.power[0]){case"clay":l.clayValue-=u.valuePower[0];break;case"brick":l.brickValue-=u.valuePower[0];break;case"wood":l.woodValue-=u.valuePower[0];break}await b(S,{"player2.resources":l,graveyard:this.graveyard,"player2.cards.brown":fe({...u,taken:"inPlayerBoard"})})}else if(u.color==="grey"){switch(u.power[0]){case"paper":l.paperValue-=u.valuePower[0];break;case"glass":l.glassValue-=u.valuePower[0];break}await b(S,{"player2.resources":l,graveyard:this.graveyard,"player2.cards.grey":fe({...u,taken:"inPlayerBoard"})})}this.player1.resources.coins.find(i=>i==="repeatWonder")?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`)}else{const l={...this.player1.resources};if(u.color==="brown"){switch(u.power[0]){case"clay":l.clayValue-=u.valuePower[0];break;case"brick":l.brickValue-=u.valuePower[0];break;case"wood":l.woodValue-=u.valuePower[0];break}await b(S,{"player1.resources":l,graveyard:this.graveyard,"player1.cards.brown":fe({...u,taken:"inPlayerBoard"})})}else if(u.color==="grey"){switch(u.power[0]){case"paper":l.paperValue-=u.valuePower[0];break;case"glass":l.glassValue-=u.valuePower[0];break}await b(S,{"player1.resources":l,graveyard:this.graveyard,"player1.cards.grey":fe({...u,taken:"inPlayerBoard"})})}this.player2.resources.coins.find(i=>i==="repeatWonder")?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`)}else if(this.turn===this.player1.user.uid){const l=2+this.player1.cards.yellow.length;await b(S,{"player1.resources.cash":te(l),graveyard:this.graveyard}),this.upgradeTurnAndMove(`${(s=this.player2.user)==null?void 0:s.uid}`)}else{const l=2+this.player2.cards.yellow.length;await b(S,{"player2.resources.cash":te(l),graveyard:this.graveyard}),this.upgradeTurnAndMove(`${this.player1.user.uid}`)}this.unselectCard(),this.isLoading=!1},async setCardToWonder(r){let u={},s={},l=!1,i=0,y=!1,_=!1,O=!1,w=!1,d=!1;if(this.tier==="I"?(this.tierOneCards=this.$state.tierOneCards.map(o=>(o.id===this.selectedCard.id&&(u=o),{...o,taken:o.id===this.selectedCard.id?"inWonder":o.taken,coversBy:o!=null&&o.coversBy?o.coversBy.filter(C=>C!==this.selectedCard.id):[]})),await b(S,{tierICards:this.tierOneCards})):this.tier==="II"?(this.tierTwoCards=this.$state.tierTwoCards.map(o=>(o.id===this.selectedCard.id&&(u=o),{...o,taken:o.id===this.selectedCard.id?"inWonder":o.taken,coversBy:o!=null&&o.coversBy?o.coversBy.filter(C=>C!==this.selectedCard.id):[]})),await b(S,{tierIICards:this.tierTwoCards})):this.tier==="III"&&(this.tierThreeCards=this.$state.tierThreeCards.map(o=>(o.id===this.selectedCard.id&&(u=o),{...o,taken:o.id===this.selectedCard.id?"inWonder":o.taken,coversBy:o!=null&&o.coversBy?o.coversBy.filter(C=>C!==this.selectedCard.id):[]})),await b(S,{tierIIICards:this.tierThreeCards})),s=this.selectedWonder,s.activated=u.tier,this.isLoading=!0,this.turn===this.player1.user.uid){const o=ls(s,this.player1);o.resources.cash-=r,o.resources.coins.find(V=>V==="repeatWonder")&&(y=!0),r>0&&this.player2.resources.coins.find(V=>V==="cashBack")&&b(S,{"player2.resources.cash":te(r)}),s.power.forEach(async(V,I)=>{V==="attack"?(l=!0,i=s.valuePower[I]):V==="break"?s.valuePower[I]===1?this.player2.cards.brown.length>0&&(_=!0):s.valuePower[I]===2?this.player2.cards.grey.length>0&&(O=!0):s.valuePower[I]===3&&await b(S,{"player2.resources.cash":this.player2.resources.cash<=3?0:te(-3)}):V==="effect"&&(s.valuePower[I]===1?y=!0:s.valuePower[I]===2?w=!0:s.valuePower[I]===3&&(d=!0))}),l&&this.setMovePawn(i,`${this.player1.user.uid}`),d&&await this.setPickCoinOfThree(`${this.player1.user.uid}`),w&&await this.setPickCardFromGraveyard(`${this.player1.user.uid}`),_&&await this.setDestroyBrown(`${this.player1.user.uid}`),O&&await this.setDestroyGrey(`${this.player1.user.uid}`);const C=o.wonderCards.filter(V=>V.activated!=="none"),J=this.player2.wonderCards.filter(V=>V.activated!=="none");C.length===3&&J.length===4?await b(S,{player1:{...o,wonderCards:C}}):C.length===4&&J.length===3?await b(S,{player1:o,"player2.wonderCards":J}):await b(S,{player1:o}),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCardFromGraveyard===""&&this.pickCoinOfThree===""&&this.destroyBrown===""&&this.destroyGrey===""&&(y&&this.move!==19&&this.move!==39?this.upgradeTurnAndMove(`${this.player1.user.uid}`):this.upgradeTurnAndMove(`${this.player2.user.uid}`))}else{const o=ls(s,this.player2);o.resources.cash-=r,o.resources.coins.find(V=>V==="repeatWonder")&&(y=!0),r>0&&this.player1.resources.coins.find(V=>V==="cashBack")&&b(S,{"player1.resources.cash":te(r)}),s.power.forEach(async(V,I)=>{V==="attack"?(l=!0,i=s.valuePower[I]):V==="break"?s.valuePower[I]===1?this.player1.cards.brown.length>0&&(_=!0):s.valuePower[I]===2?this.player1.cards.grey.length>0&&(O=!0):s.valuePower[I]===3&&await b(S,{"player1.resources.cash":this.player1.resources.cash<=3?0:te(-3)}):V==="effect"&&(s.valuePower[I]===1?y=!0:s.valuePower[I]===2?w=!0:s.valuePower[I]===3&&(d=!0))}),l&&this.setMovePawn(i,`${this.player2.user.uid}`),d&&await this.setPickCoinOfThree(`${this.player2.user.uid}`),w&&await this.setPickCardFromGraveyard(`${this.player2.user.uid}`),_&&await this.setDestroyBrown(`${this.player2.user.uid}`),O&&await this.setDestroyGrey(`${this.player2.user.uid}`);const C=this.player1.wonderCards.filter(V=>V.activated!=="none"),J=o.wonderCards.filter(V=>V.activated!=="none");C.length===3&&J.length===4?await b(S,{"player1.wonderCards":C,player2:o}):C.length===4&&J.length===3?await b(S,{player2:{...o,wonderCards:J}}):await b(S,{player2:o}),this.wonByArt===""&&this.wonByAggressive===""&&this.pickCardFromGraveyard===""&&this.pickCoinOfThree===""&&this.destroyBrown===""&&this.destroyGrey===""&&(y&&this.move!==19&&this.move!==39?this.upgradeTurnAndMove(`${this.player2.user.uid}`):this.upgradeTurnAndMove(`${this.player1.user.uid}`))}this.unselectCard(),this.isLoading=!1}}}),Ya=we({__name:"DuelGameLayOutTiersComponent",props:{card:{},x:{},y:{},reversColor:{},cash1P:{},cash2P:{},user:{}},setup(r){const u=r,s=Te(),{selectedCard:l,player1:i,player2:y}=Ge(s),{card:_}=Be(u);return(O,w)=>{var d,o,C;return e(_).taken==="inGame"?(a(),t("div",{key:0,class:ee(["cardWrapper",((d=e(_).coversBy)==null?void 0:d.length)!==0&&e(_).hide&&"cardHide",((o=e(_).coversBy)==null?void 0:o.length)===0&&"canSelect",e(l).id===e(_).id&&"selected"]),style:U(`--x:${O.x}%; --y:${O.y}%; --z:${e(_).id}; --reversCol:${O.reversColor}; cursor: ${((C=e(_).coversBy)==null?void 0:C.length)===0?"pointer":"default"};`)},[H(ue,{card:e(_),cash1P:O.user.uid===e(i).user.uid?O.cash1P:O.cash2P,cash2P:O.user.uid===e(i).user.uid?O.cash2P:O.cash1P,res1P:O.user.uid===e(i).user.uid?e(i).resources.cash:e(y).resources.cash,res2P:O.user.uid===e(i).user.uid?e(y).resources.cash:e(i).resources.cash},null,8,["card","cash1P","cash2P","res1P","res2P"])],6)):(a(),t("div",{key:1,class:ee(["cardWrapper","invisible"]),style:U(`--x:${O.x}%; --y:${O.y}%; --z:-10;`)},[H(ue,{card:e(_)},null,8,["card"])],4))}}});const Ke=ke(Ya,[["__scopeId","data-v-9bbffb4d"]]),Se=r=>(Oe("data-v-0a32439e"),r=r(),De(),r),Ja={class:"wonderIcon"},Qa={class:"cost"},Ua={key:0,class:"resources",style:"width: 100%;"},qa={class:"cash"},Za={key:1,class:"resources",style:"width: 100%;"},er={key:2,class:"resources",style:"width: 100%;"},sr={key:3,class:"resources",style:"width: 100%;"},ar={key:4,class:"resources",style:"width: 100%;"},rr={key:5,class:"resources",style:"width: 100%;"},tr={class:"power"},lr={key:0},or={key:1},ir={key:2,class:"takeCoin"},nr={key:3,class:"cash"},ur={key:4,class:"breakBrown"},cr={key:5,class:"breakGrey"},dr={key:6,class:"cash",style:"text-decoration: line-through;"},vr=Se(()=>n("div",{class:"clay"},"c",-1)),pr=Se(()=>n("div",{class:"brick"},"b",-1)),hr=Se(()=>n("div",{class:"wood"},"w",-1)),yr={key:8,class:"resources",style:"width: 100%;"},fr=Se(()=>n("div",{class:"paper"},"p",-1)),wr=Se(()=>n("div",{class:"glass"},"g",-1)),kr={key:9},Cr={key:10},br=we({__name:"DuelGameWonderComponent",props:{card:{},cash:{},resCash:{}},setup(r){const u=r,{card:s}=Be(u),l=B(0),i=B(0),y=B(0),_=B(0),O=B(0),w=B(0),d=B(0),o=B(0),C=B(0),J=B(0),V=B(0),I=B(0),E=B("");xe(()=>{s.value.power.forEach((v,z)=>{switch(v){case"effect":l.value=s.value.valuePower[z];break;case"cash":i.value=s.value.valuePower[z];break;case"break":y.value=s.value.valuePower[z];break;case"materials":_.value=s.value.valuePower[z];break;case"attack":O.value=s.value.valuePower[z];break;case"points":w.value=s.value.valuePower[z];break}}),s.value.cost.forEach((v,z)=>{switch(v){case"clay":d.value=s.value.valueCost[z];break;case"brick":o.value=s.value.valueCost[z];break;case"wood":C.value=s.value.valueCost[z];break;case"paper":J.value=s.value.valueCost[z];break;case"glass":V.value=s.value.valueCost[z];break}}),ne()}),We(()=>s.value.activated,()=>{ne()});function ne(){switch(s.value.activated){case"I":E.value="rgb(145, 19, 19)";break;case"II":E.value="rgb(58, 59, 160)";break;case"III":E.value="rgb(175, 85, 202)";break;case"guild":E.value="rgb(107, 36, 128)";break}}return(v,z)=>{const T=Me("ion-icon");return a(),t("div",{class:ee(["card"]),style:U(`--activeColor: ${E.value};`)},[e(s).taken?(a(),t("div",{key:0,class:ee(["cashSum",v.resCash!==void 0&&v.cash!==void 0&&v.cash>v.resCash&&"colorRed"])},f(v.cash),3)):h("",!0),n("div",Ja,[H(T,{name:"prism"})]),n("div",Qa,[I.value?(a(),t("div",Ua,[n("div",qa,f(I.value+"$"),1)])):h("",!0),d.value?(a(),t("div",Za,[(a(!0),t(R,null,L(d.value,ie=>(a(),t("div",{key:ie,class:"clay"},"c"))),128))])):h("",!0),o.value?(a(),t("div",er,[(a(!0),t(R,null,L(o.value,ie=>(a(),t("div",{key:ie,class:"brick"},"b"))),128))])):h("",!0),C.value?(a(),t("div",sr,[(a(!0),t(R,null,L(C.value,ie=>(a(),t("div",{key:ie,class:"wood"},"w"))),128))])):h("",!0),J.value?(a(),t("div",ar,[(a(!0),t(R,null,L(J.value,ie=>(a(),t("div",{key:ie,class:"paper"},"p"))),128))])):h("",!0),V.value?(a(),t("div",rr,[(a(!0),t(R,null,L(V.value,ie=>(a(),t("div",{key:ie,class:"glass"},"g"))),128))])):h("",!0)]),n("div",tr,[l.value===1?(a(),t("div",lr,[H(T,{name:"reload-outline"})])):h("",!0),l.value===2?(a(),t("div",or,[H(T,{name:"trash-outline"})])):h("",!0),l.value===3?(a(),t("div",ir)):h("",!0),i.value?(a(),t("div",nr,f(i.value+"$"),1)):h("",!0),y.value===1?(a(),t("div",ur,f("/"))):h("",!0),y.value===2?(a(),t("div",cr,f("/"))):h("",!0),y.value===3?(a(),t("div",dr,f(y.value+"$"),1)):h("",!0),_.value===1?(a(),t("div",{key:7,class:"resources",style:U("width: 100%; transform: scale(.8);")},[vr,F(" / "),pr,F(" / "),hr],4)):h("",!0),_.value===2?(a(),t("div",yr,[fr,F(" / "),wr])):h("",!0),O.value?(a(),t("div",kr,[(a(!0),t(R,null,L(O.value,ie=>(a(),x(T,{key:ie,name:"skull-sharp"}))),128))])):h("",!0),w.value?(a(),t("div",Cr,[F(f(w.value),1),H(T,{name:"ribbon-sharp"})])):h("",!0)])],4)}}});const ye=ke(br,[["__scopeId","data-v-0a32439e"]]),mr={key:3,class:"pointX3"},_r={key:4,class:"cash6n4special"},gr={key:6,class:"lowCostBlue"},Pr={key:8},$r={key:9},Ir=we({__name:"DuelGameCoinComponent",props:{coin:{}},setup(r){const u=r,s=B(""),{coin:l}=Be(u);return xe(()=>{switch(l.value){case"artefact7":s.value="7";break;case"attack1":s.value="1+";break;case"point7":s.value="7";break;case"pointX3":s.value="3x ";break;case"cash6n4special":s.value="6$+";break;case"lowCostWonder":s.value="$$";break;case"lowCostBlue":s.value="$$";break;case"cashBack":s.value="$";break;case"point4n6cash":s.value="6$";break;case"repeatWonder":s.value="";break;default:s.value=l.value;break}}),(i,y)=>{const _=Me("ion-icon");return a(),t("span",{class:ee(["boardSingleCoin",(e(l)==="lowCostWonder"||e(l)==="lowCostBlue")&&"lowCost"])},[F(f(s.value)+" ",1),e(l)==="artefact7"?(a(),x(_,{key:0,name:"sparkles-sharp"})):h("",!0),e(l)==="attack1"?(a(),x(_,{key:1,name:"skull-sharp"})):h("",!0),e(l)==="point7"?(a(),x(_,{key:2,name:"ribbon-sharp"})):h("",!0),e(l)==="pointX3"?(a(),t("div",mr,[H(_,{name:"ribbon-sharp"})])):h("",!0),e(l)==="cash6n4special"?(a(),t("div",_r,f("4$ sp"))):h("",!0),e(l)==="lowCostWonder"?(a(),x(_,{key:5,name:"prism"})):h("",!0),e(l)==="lowCostBlue"?(a(),t("div",gr)):h("",!0),e(l)==="cashBack"?(a(),x(_,{key:7,class:"cashBack",name:"return-up-back"})):h("",!0),e(l)==="point4n6cash"?(a(),t("div",Pr,[F("4"),H(_,{name:"ribbon-sharp"})])):h("",!0),e(l)==="repeatWonder"?(a(),t("div",$r,[H(_,{name:"reload-outline"}),H(_,{name:"prism"})])):h("",!0)],2)}}});const je=ke(Ir,[["__scopeId","data-v-98df4177"]]),Br=r=>(Oe("data-v-e9f11d5b"),r=r(),De(),r),Gr={class:"duel"},Tr=Ms('<span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span><span class="boardBorder" data-v-e9f11d5b></span>',19),Wr=Br(()=>n("div",{class:"boardDuelPoints"},[n("div",null,"10"),n("div",null,"5"),n("div",null,"2"),n("div",null,"0"),n("div",null,"2"),n("div",null,"5"),n("div",null,"10")],-1)),Ar=we({__name:"DuelGameBoardDuelComponent",props:{isMyTurn:{type:Boolean},user:{}},emits:["coin-selected"],setup(r,{emit:u}){const s=r,l=Te(),{board:i,pickCoin:y,player2:_}=Ge(l),{isMyTurn:O}=Be(s);return(w,d)=>(a(),t("section",Gr,[n("div",{class:ee(["boardPanishment",w.user.uid===e(_).user.uid?"rotateBoardPanishment":""])},[n("div",{style:U(e(i).punishment1?"":"opacity: 0;")},"-5$",4),n("div",{style:U(e(i).punishment2?"":"opacity: 0;")},"-2$",4),n("div",{style:U(e(i).punishment3?"":"opacity: 0;")},"-2$",4),n("div",{style:U(e(i).punishment4?"":"opacity: 0;")},"-5$",4)],2),n("div",{class:ee(["boardDuel",w.user.uid===e(_).user.uid?"rotateBoardDuel":""])},[Tr,n("div",{class:"boardPawn",style:U(`--position:${e(i).pawn}`)},"X",4),Wr],2),n("div",{class:ee(["boardCoins",e(O)&&e(y)!==""&&"selectCoin"])},[(a(!0),t(R,null,L(e(i).coins,o=>(a(),x(je,{key:o,coin:o,style:U(e(O)&&e(y)!==""&&"cursor: pointer;"),onClick:C=>e(O)&&e(y)!==""?u("coin-selected",o):null},null,8,["coin","style","onClick"]))),128))],2)]))}});const Mr=ke(Ar,[["__scopeId","data-v-e9f11d5b"]]),Or=we({__name:"DuelGameGraveyardComponent",props:{isMyTurn:{type:Boolean}},emits:["pick-card-from-graveyard"],setup(r,{emit:u}){const s=Te(),{graveyard:l,pickCardFromGraveyard:i}=Ge(s);return(y,_)=>(a(),t("section",{class:ee(["graveyard","customInput",y.isMyTurn&&e(i)!==""&&"selectFromGraveyard"]),style:U(e(l).length>=24?"overflow-y: scroll;":"")},[(a(!0),t(R,null,L(e(l),O=>(a(),x(ue,{key:O.id,card:O,small:"",style:U(y.isMyTurn&&e(i)!==""&&"cursor: pointer;"),onClick:w=>y.isMyTurn&&e(i)!==""?u("pick-card-from-graveyard",O):null},null,8,["card","style","onClick"]))),128))],6))}});const Dr=ke(Or,[["__scopeId","data-v-5f79ba2a"]]),ks=r=>(Oe("data-v-6185bbcb"),r=r(),De(),r),Sr={class:"playerInfo"},Fr=ks(()=>n("p",null,f("Timer: 90"),-1)),Vr=ks(()=>n("p",null,f("Timer: 90"),-1)),Er=we({__name:"DuelGamePlayersInfoComponent",setup(r){const u=Te(),{player1:s,player2:l,turn:i}=Ge(u);return(y,_)=>(a(),t("section",Sr,[n("div",{class:ee(["player1info","customInput",e(i)===e(s).user.uid&&"boldParagraf"])},[n("p",null,f(`Nick: ${e(s).user.displayName||e(s).user.email}`),1),Fr],2),n("div",{class:ee(["player2info","customInput",e(i)===e(l).user.uid&&"boldParagraf"])},[n("p",null,f(`Nick: ${e(l).user.displayName||e(l).user.email}`),1),Vr],2)]))}});const Rr=ke(Er,[["__scopeId","data-v-6185bbcb"]]),Nr={class:"playerCardContainer"},Lr={class:"playerCard playerCard3"},jr={class:"playerCard playerCard4"},xr={class:"playerCard playerCard5"},Xr={class:"playerCard playerCard6"},Hr={class:"countArt"},zr={class:"playerCard playerCard7"},Kr={class:"playerPointsContainer"},Yr={class:"playerRes"},Jr={class:"playerCoins customInput"},Qr={class:"playerCardContainer"},Ur={class:"playerCard playerCard3"},qr={class:"playerCard playerCard4"},Zr={class:"playerCard playerCard5"},et={class:"playerCard playerCard6"},st={class:"countArt"},at={class:"playerCard playerCard7"},rt={class:"playerPointsContainer"},tt={class:"playerRes"},lt={class:"playerCoins customInput"},ot=we({__name:"DuelGamePlayersResComponent",props:{isMyTurn:{type:Boolean},user:{},selectWonderCard:{type:Boolean}},emits:["destrooy-enemy-card-selected"],setup(r,{emit:u}){const s=r,l=Te(),{player1:i,player2:y,turn:_,tier:O,destroyBrown:w,destroyGrey:d}=Ge(l),{user:o}=Be(s),C=ss("showPrice"),J=ss("wonderCardSelected");function V(I){if(I===i.value.user.uid){let E=0;i.value.resources.coins.find(v=>v==="artefact7")&&(E+=1);const ne=i.value.cards.green.map(v=>v.valuePower[0]);return E+=[...new Set(ne)].length}else{let E=0;y.value.resources.coins.find(v=>v==="artefact7")&&(E+=1);const ne=y.value.cards.green.map(v=>v.valuePower[0]);return E+=[...new Set(ne)].length}}return(I,E)=>{const ne=Me("ion-icon");return a(),t(R,null,[n("section",{class:ee(["wonders",e(o).uid===e(i).user.uid?"wonders1":"wonders2","customInput"])},[(a(!0),t(R,null,L(e(i).wonderCards,v=>(a(),x(ye,{card:v,key:v.id,cash:e(C)(v,`${e(i).user.uid}`),resCash:e(i).resources.cash,class:ee([I.selectWonderCard&&e(C)(v,`${e(i).user.uid}`)<=e(i).resources.cash&&"selectWonderFromPlayer"]),onClick:z=>e(O)!=="prepare"&&I.selectWonderCard?e(J)(v,e(i).resources.cash):null},null,8,["card","cash","resCash","class","onClick"]))),128))],2),n("section",{class:ee(["playerSection",e(o).uid===e(i).user.uid?"player1":"player2"])},[n("div",Nr,[n("div",{class:ee(["playerCard","playerCard1",e(o).uid===e(y).user.uid&&I.isMyTurn&&e(w)!==""&&"selectWonderFromPlayer"])},[(a(!0),t(R,null,L(e(i).cards.brown,v=>(a(),x(ue,{key:v.id,card:v,small:"",style:U(e(o).uid===e(y).user.uid&&I.isMyTurn&&e(w)!==""?"cursor: pointer;":""),onClick:z=>e(o).uid===e(y).user.uid&&I.isMyTurn&&e(w)!==""?u("destrooy-enemy-card-selected",v,"brown"):null},null,8,["card","style","onClick"]))),128))],2),n("div",{class:ee(["playerCard","playerCard2",e(o).uid===e(y).user.uid&&I.isMyTurn&&e(d)!==""&&"selectWonderFromPlayer"])},[(a(!0),t(R,null,L(e(i).cards.grey,v=>(a(),x(ue,{key:v.id,card:v,small:"",style:U(e(o).uid===e(y).user.uid&&I.isMyTurn&&e(d)!==""?"cursor: pointer;":""),onClick:z=>e(o).uid===e(y).user.uid&&I.isMyTurn&&e(d)!==""?u("destrooy-enemy-card-selected",v,"grey"):null},null,8,["card","style","onClick"]))),128))],2),n("div",Lr,[(a(!0),t(R,null,L(e(i).cards.yellow,v=>(a(),x(ue,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",jr,[(a(!0),t(R,null,L(e(i).cards.blue,v=>(a(),x(ue,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",xr,[(a(!0),t(R,null,L(e(i).cards.red,v=>(a(),x(ue,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",Xr,[n("div",Hr,f(V(`${e(i).user.uid}`)+"/6"),1),(a(!0),t(R,null,L(e(i).cards.green.sort((v,z)=>v.valuePower[0]-z.valuePower[0]),v=>(a(),x(ue,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",zr,[(a(!0),t(R,null,L(e(i).cards.purple,v=>(a(),x(ue,{key:v.id,card:v,small:""},null,8,["card"]))),128))])]),n("div",Kr,[n("div",Yr,[n("p",{style:U(e(_)===e(i).user.uid?"font-weight: bold;":"")},f(`${e(i).user.displayName||e(i).user.email}`),5),n("p",{style:U(e(_)===e(i).user.uid?"font-weight: bold;":"")},f("Status: online"),4),n("p",{style:U(e(_)===e(i).user.uid?"font-weight: bold;":"")},[F(f(`$: ${e(i).resources.cash}`)+" ",1),H(ne,{name:"ribbon-sharp",style:"margin-left: 10px;"}),F(f(`: ${e(i).points}`),1)],4)]),n("div",Jr,[(a(!0),t(R,null,L(e(i).resources.coins,v=>(a(),x(je,{key:v,coin:v},null,8,["coin"]))),128))])])],2),n("section",{class:ee(["wonders",e(o).uid===e(i).user.uid?"wonders2":"wonders1","customInput"])},[(a(!0),t(R,null,L(e(y).wonderCards,v=>(a(),x(ye,{card:v,key:v.id,cash:e(C)(v,`${e(y).user.uid}`),resCash:e(y).resources.cash,class:ee([I.selectWonderCard&&e(C)(v,`${e(y).user.uid}`)<=e(y).resources.cash&&"selectWonderFromPlayer"]),onClick:z=>e(O)!=="prepare"&&I.selectWonderCard?e(J)(v,e(y).resources.cash):null},null,8,["card","cash","resCash","class","onClick"]))),128))],2),n("section",{class:ee(["playerSection",e(o).uid===e(i).user.uid?"player2":"player1"])},[n("div",Qr,[n("div",{class:ee(["playerCard","playerCard1",e(o).uid===e(i).user.uid&&I.isMyTurn&&e(w)!==""&&"selectWonderFromPlayer"])},[(a(!0),t(R,null,L(e(y).cards.brown,v=>(a(),x(ue,{key:v.id,card:v,small:"",style:U(e(o).uid===e(i).user.uid&&I.isMyTurn&&e(w)!==""?"cursor: pointer;":""),onClick:z=>e(o).uid===e(i).user.uid&&I.isMyTurn&&e(w)!==""?u("destrooy-enemy-card-selected",v,"brown"):null},null,8,["card","style","onClick"]))),128))],2),n("div",{class:ee(["playerCard","playerCard2",e(o).uid===e(i).user.uid&&I.isMyTurn&&e(d)!==""&&"selectWonderFromPlayer"])},[(a(!0),t(R,null,L(e(y).cards.grey,v=>(a(),x(ue,{key:v.id,card:v,small:"",style:U(e(o).uid===e(i).user.uid&&I.isMyTurn&&e(d)!==""?"cursor: pointer;":""),onClick:z=>e(o).uid===e(i).user.uid&&I.isMyTurn&&e(d)!==""?u("destrooy-enemy-card-selected",v,"grey"):null},null,8,["card","style","onClick"]))),128))],2),n("div",Ur,[(a(!0),t(R,null,L(e(y).cards.yellow,v=>(a(),x(ue,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",qr,[(a(!0),t(R,null,L(e(y).cards.blue,v=>(a(),x(ue,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",Zr,[(a(!0),t(R,null,L(e(y).cards.red,v=>(a(),x(ue,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",et,[n("div",st,f(V(`${e(y).user.uid}`)+"/6"),1),(a(!0),t(R,null,L(e(y).cards.green.sort((v,z)=>v.valuePower[0]-z.valuePower[0]),v=>(a(),x(ue,{key:v.id,card:v,small:""},null,8,["card"]))),128))]),n("div",at,[(a(!0),t(R,null,L(e(y).cards.purple,v=>(a(),x(ue,{key:v.id,card:v,small:""},null,8,["card"]))),128))])]),n("div",rt,[n("div",tt,[n("p",{style:U(e(_)===e(y).user.uid?"font-weight: bold;":"")},f(`${e(y).user.displayName||e(y).user.email}`),5),n("p",{style:U(e(_)===e(y).user.uid?"font-weight: bold;":"")},f("Status: online"),4),n("p",{style:U(e(_)===e(y).user.uid?"font-weight: bold;":"")},[F(f(`$: ${e(y).resources.cash}`)+" ",1),H(ne,{name:"ribbon-sharp",style:"margin-left: 10px;"}),F(f(`: ${e(y).points}`),1)],4)]),n("div",lt,[(a(!0),t(R,null,L(e(y).resources.coins,v=>(a(),x(je,{key:v,coin:v},null,8,["coin"]))),128))])])],2)],64)}}});const it=ke(ot,[["__scopeId","data-v-bc63ea86"]]),Xe=r=>(Oe("data-v-fe458489"),r=r(),De(),r),nt={class:"header"},ut={class:"wrapper"},ct={key:0,class:"loading"},dt={key:1,class:"cards cardsWonder"},vt={key:0,class:"pickWonders"},pt={key:1,class:"pickWonders"},ht={key:2,class:"cards cardsTier"},yt={key:3,class:"cards cardsTier"},ft={key:4,class:"cards cardsTier"},wt={key:5,class:"cards countPoints"},kt={class:"containerPoints customInput"},Ct={class:"currentPoints"},bt={class:"cashPoints"},mt={class:"purplePoints"},_t=Xe(()=>n("div",{class:"miniCard"},null,-1)),gt={class:"coinsPoints"},Pt=Xe(()=>n("div",{class:"miniCoin"},null,-1)),$t={class:"pawnPoints"},It={class:"sumPoints"},Bt={class:"containerPoints customInput"},Gt={class:"currentPoints"},Tt={class:"cashPoints"},Wt={class:"purplePoints"},At=Xe(()=>n("div",{class:"miniCard"},null,-1)),Mt={class:"coinsPoints"},Ot=Xe(()=>n("div",{class:"miniCoin"},null,-1)),Dt={class:"pawnPoints"},St={class:"sumPoints"},Ft={key:6,class:"playerAction"},Vt=["disabled"],Et=["disabled"],Rt=["disabled"],Nt={key:7,class:"playerAction"},Lt={style:"font-weight: bold;"},jt={key:8,class:"playerAction"},xt={style:"font-weight: bold;"},Xt={key:9,class:"playerAction"},Ht={key:10,class:"playerAction"},zt={key:11,class:"playerAction"},Kt={key:12,class:"playerAction"},Yt={key:13,class:"playerAction"},Jt={key:14,class:"playerAction"},Qt={key:15,class:"playerAction"},Ut={key:16,class:"playerAction"},qt=we({__name:"TheDuelGameBoard",setup(r){as("showPrice",he),as("wonderCardSelected",gs);const u=B("Duel Game"),s=B("Buy"),l=B("Sell"),i=B("Build Wonder"),y=B("Who Starts?"),_=B("Pick Coin!"),O=B("Pick one Coin of three!"),w=B("Pick card from graveyard!"),d=B("Pick Wonder!"),o=B("Destroy Enemy Card!"),C=B("Winner By Artefacts: "),J=B("Winner By Aggressive: "),V=B(0),I=B(0),E=Te(),{tierOneCards:ne,tierTwoCards:v,tierThreeCards:z,wonderCards:T,graveyard:ie,player1:P,player2:W,board:se,turn:N,tier:Q,move:K,theRestOfCoins:ce,pickCoin:me,pickCoinOfThree:_e,pickCardFromGraveyard:Z,destroyBrown:Ye,destroyGrey:Je,selectWondersForPlayers:Qe,selectWondersForPlayersMove:Ue,chooseWhoWillStart:Fe,wonByArt:ge,wonByAggressive:Pe,selectedCard:de,selectedWonder:Ve,isLoading:Y}=Ge(E),Cs=is(us,"gameDuel"),ae=ns(Cs,"table1"),le=B({}),qe=B(!1),oe=B(!1),$e=B(!1),q=Ne(()=>N.value===le.value.uid),Ze=Ne(()=>{var p,c,A,D;return((p=T.value[0])==null?void 0:p.taken)&&((c=T.value[1])==null?void 0:c.taken)&&((A=T.value[2])==null?void 0:A.taken)&&((D=T.value[3])==null?void 0:D.taken)}),Ie=Ne(()=>{var p;return(p=de.value)!=null&&p.id?he(de.value,`${le.value.uid}`):-1}),bs=Ne(()=>{if(!q.value||!de.value.id)return!1;if(le.value.uid===P.value.user.uid)if(P.value.wonderCards.find(p=>p.activated==="none")){let p=!1;return P.value.wonderCards.forEach(c=>{let A=he(c,`${le.value.uid}`);c.activated==="none"&&A<=P.value.resources.cash&&(p=!0)}),p}else return!1;else if(W.value.wonderCards.find(p=>p.activated==="none")){let p=!1;return W.value.wonderCards.forEach(c=>{let A=he(c,`${le.value.uid}`);c.activated==="none"&&A<=W.value.resources.cash&&(p=!0)}),p}else return!1});We([()=>Ve.value,()=>de.value],()=>{var p,c;(!((p=Ve.value)!=null&&p.id)||!((c=de.value)!=null&&c.id))&&($e.value=!1)}),We(()=>W.value.wonderCards,async()=>{Y.value=!0,W.value.wonderCards.length===4&&K.value===0&&(await b(ae,{tier:"I"}),oe.value=!0),Y.value=!1}),We(()=>K.value,async()=>{oe.value=!0,K.value>=20&&K.value<40&&(Y.value=!0,await b(ae,{tier:"II"}),Fe.value&&q.value&&(oe.value=!1),Y.value=!1),K.value>=40&&K.value<=60&&(Y.value=!0,await b(ae,{tier:"III"}),Fe.value&&q.value&&(oe.value=!1),Y.value=!1),K.value===60&&(Y.value=!0,oe.value=!1,await b(ae,{tier:"end"}),Y.value=!1)}),We(()=>Q.value,()=>{Q.value==="end"&&(V.value=P.value.points+Math.floor(P.value.resources.cash/3)+(se.value.pawn<=-6&&10||se.value.pawn<=-3&&5||se.value.pawn<=-1&&2||0)+Re(P.value.resources.coins)+Ee(P.value.cards.purple.map(p=>p.valuePower[0])),I.value=W.value.points+Math.floor(W.value.resources.cash/3)+(se.value.pawn>=6&&10||se.value.pawn>=3&&5||se.value.pawn>=1&&2||0)+Re(W.value.resources.coins)+Ee(W.value.cards.purple.map(p=>p.valuePower[0])))}),xe(async()=>{var $,m,re,j,G,g,M;Y.value=!0;let p;p=Os(),Ds(p,k=>{k?(qe.value=!0,le.value={uid:k.uid,email:k.email||"",displayName:k.displayName||""}):qe.value=!1});const c=be(hs,10);let A=be(ys,8);const D=await rs(ae);if(D.exists()){if(console.log("Document data:",D.data()),!((re=(m=($=D.data())==null?void 0:$.player2)==null?void 0:m.user)!=null&&re.uid)&&((g=(G=(j=D.data())==null?void 0:j.player1)==null?void 0:G.user)==null?void 0:g.uid)!==le.value.uid){const k=D.data().player1.user.uid,X=le.value.uid;await b(ae,{player2:{...new Ae,user:le.value,_id:le.value.uid},selectWondersForPlayers:[k,X,X,k,X,k,k,X,k]})}}else{await Ss(ae,{player1:{...new Ae,user:le.value,_id:le.value.uid},player2:{...new Ae},selectWondersForPlayers:[],selectWondersForPlayersMove:0,chooseWhoWillStart:!1,turn:le.value.uid,gameBoard:{...new ws,coins:[c[0],c[1],c[2],c[3],c[4]]},tierICards:ze(be(cs,20),"I"),tierIICards:ze(be(ds,20),"II"),tierIIICards:ze(be([...be(vs,17),...be(ps,3)],20),"III"),wonderCards:A,graveyard:[],theRestOfCoins:[c[5],c[6],c[7],c[8],c[9]],tier:"prepare",move:0,pickCoin:"",pickCoinOfThree:"",pickCardFromGraveyard:"",destroyBrown:"",destroyGrey:"",wonByArt:"",wonByAggressive:""});const k=await rs(ae);k.exists()?console.log("Document data second time:",k.data()):console.log("No such document!")}await E.subFirebaseConnect(`${le.value.uid}`),(Q.value!=="prepare"||((M=D.data())==null?void 0:M.tier)!=="prepare")&&(oe.value=!0),me.value!==""&&q.value?(oe.value=!1,de.value={}):_e.value!==""&&q.value?(oe.value=!1,de.value={}):Z.value!==""&&q.value?(oe.value=!1,de.value={}):(Ye.value!==""||Je.value!=="")&&q.value?(oe.value=!1,de.value={}):(ge.value!==""||Pe.value!=="")&&(oe.value=!1,de.value={}),Y.value=!1});async function es(p){Y.value=!0,await E.upgradeTurnAndMove(`${p}`,!0),await b(ae,{chooseWhoWillStart:!1}),oe.value=!0,Y.value=!1}function he(p,c){if(!(p!=null&&p.id))return-1;let A=0,D=[],$=[],m=[],re=!1;const j=P.value.resources,G=W.value.resources;return P.value.user.uid===c?(D=[{type:"clay",val:j.clayOne?1:2+G.clayValue},{type:"brick",val:j.brickOne?1:2+G.brickValue},{type:"wood",val:j.woodOne?1:2+G.woodValue}],D=D.sort((g,M)=>M.val-g.val),$=[{type:"paper",val:j.paperGlassOne?1:2+G.paperValue},{type:"glass",val:j.paperGlassOne?1:2+G.glassValue}],$=$.sort((g,M)=>M.val-g.val),p.cost.forEach((g,M)=>{if(g==="specialChar")j.specialChars.find(k=>{if(k===p.valueCost[M])return re=!0,!0});else if(g==="cash")A+=p.valueCost[M];else if(g==="clay"){let k=p.valueCost[M]-j.clayValue;if(k<=0)return null;for(let X=0;X<k;X++)m.push("clay")}else if(g==="brick"){let k=p.valueCost[M]-j.brickValue;if(k<=0)return null;for(let X=0;X<k;X++)m.push("brick")}else if(g==="wood"){let k=p.valueCost[M]-j.woodValue;if(k<=0)return null;for(let X=0;X<k;X++)m.push("wood")}else if(g==="paper"){let k=p.valueCost[M]-j.paperValue;if(k<=0)return null;for(let X=0;X<k;X++)m.push("paper")}else if(g==="glass"){let k=p.valueCost[M]-j.glassValue;if(k<=0)return null;for(let X=0;X<k;X++)m.push("glass")}})):(D=[{type:"clay",val:G.clayOne?1:2+j.clayValue},{type:"brick",val:G.brickOne?1:2+j.brickValue},{type:"wood",val:G.woodOne?1:2+j.woodValue}],D=D.sort((g,M)=>M.val-g.val),$=[{type:"paper",val:G.paperGlassOne?1:2+j.paperValue},{type:"glass",val:G.paperGlassOne?1:2+j.glassValue}],$=$.sort((g,M)=>M.val-g.val),p.cost.forEach((g,M)=>{if(g==="specialChar")G.specialChars.find(k=>{if(k===p.valueCost[M])return re=!0,!0});else if(g==="cash")A+=p.valueCost[M];else if(g==="clay"){let k=p.valueCost[M]-G.clayValue;if(k<=0)return null;for(let X=0;X<k;X++)m.push("clay")}else if(g==="brick"){let k=p.valueCost[M]-G.brickValue;if(k<=0)return null;for(let X=0;X<k;X++)m.push("brick")}else if(g==="wood"){let k=p.valueCost[M]-G.woodValue;if(k<=0)return null;for(let X=0;X<k;X++)m.push("wood")}else if(g==="paper"){let k=p.valueCost[M]-G.paperValue;if(k<=0)return null;for(let X=0;X<k;X++)m.push("paper")}else if(g==="glass"){let k=p.valueCost[M]-G.glassValue;if(k<=0)return null;for(let X=0;X<k;X++)m.push("glass")}})),m=ms(m,D,$,c),(p==null?void 0:p.color)==="blue"&&(P.value.user.uid===c?P.value.resources.coins.find(g=>g==="lowCostBlue")&&(m.shift(),m.shift()):W.value.resources.coins.find(g=>g==="lowCostBlue")&&(m.shift(),m.shift())),p!=null&&p.activated&&(P.value.user.uid===c?P.value.resources.coins.find(g=>g==="lowCostWonder")&&(m.shift(),m.shift()):W.value.resources.coins.find(g=>g==="lowCostWonder")&&(m.shift(),m.shift())),m.forEach(g=>{var M,k;A+=((M=D.find(({type:X})=>X===g))==null?void 0:M.val)||((k=$.find(({type:X})=>X===g))==null?void 0:k.val)||0}),re?0:A}function ms(p,c,A,D){let $=p;const m=P.value.resources,re=W.value.resources;if(P.value.user.uid===D){for(let j=0;j<m.materialsCBW;j++){let G=!1,g=0;$.find((M,k)=>M===c[0].type?(G=!0,g=k,!0):!1),G?$.splice(g,1):($.find((M,k)=>M===c[1].type?(G=!0,g=k,!0):!1),G?$.splice(g,1):($.find((M,k)=>M===c[2].type?(G=!0,g=k,!0):!1),G&&$.splice(g,1)))}for(let j=0;j<m.materialsPG;j++){let G=!1,g=0;$.find((M,k)=>M===A[0].type?(G=!0,g=k,!0):!1),G?$.splice(g,1):($.find((M,k)=>M===A[1].type?(G=!0,g=k,!0):!1),G&&$.splice(g,1))}}else{for(let j=0;j<re.materialsCBW;j++){let G=!1,g=0;$.find((M,k)=>M===c[0].type?(G=!0,g=k,!0):!1),G?$.splice(g,1):($.find((M,k)=>M===c[1].type?(G=!0,g=k,!0):!1),G?$.splice(g,1):($.find((M,k)=>M===c[2].type?(G=!0,g=k,!0):!1),G&&$.splice(g,1)))}for(let j=0;j<re.materialsPG;j++){let G=!1,g=0;$.find((M,k)=>M===A[0].type?(G=!0,g=k,!0):!1),G?$.splice(g,1):($.find((M,k)=>M===A[1].type?(G=!0,g=k,!0):!1),G&&$.splice(g,1))}}return $}const Ce=async p=>{if(!q.value)return null;Y.value=!0;let c={};const A=T.value.map(D=>D.id===p?(c={...D,taken:!0},c):D);N.value===P.value.user.uid?(await b(ae,{player1:{...P.value,wonderCards:[...P.value.wonderCards,{...c}]},wonderCards:A,selectWondersForPlayersMove:te(1)}),E.upgradeTurnAndMove(`${Qe.value[Ue.value]}`,!0)):(await b(ae,{player2:{...W.value,wonderCards:[...W.value.wonderCards,{...c}]},wonderCards:A,selectWondersForPlayersMove:te(1)}),E.upgradeTurnAndMove(`${Qe.value[Ue.value]}`,!0)),Y.value=!1},He=p=>{if(!q.value||Fe.value||ge.value||Pe.value)return null;if(de.value={},Ve.value={},$e.value=!1,!(p.coversBy&&p.coversBy.length>0)){if(p.taken!=="inGame")return;de.value=p}},_s=()=>{if(!q.value)return null;$e.value=!0};function gs(p,c){if(!q.value)return null;let A=he(p,`${le.value.uid}`);if(A>c)return null;Ve.value=p,oe.value=!1,E.setCardToWonder(A)}const Ps=async p=>{Y.value=!0,oe.value=!1;let c=0;switch(p){case"point4n6cash":c+=6;break;case"cash6n4special":c+=6;break}N.value===P.value.user.uid?(await b(ae,{"gameBoard.coins":fe(p),"player1.resources.coins":Le(p),pickCoin:""}),c!==0&&await b(ae,{"player1.resources.cash":te(6)})):(await b(ae,{"gameBoard.coins":fe(p),"player2.resources.coins":Le(p),pickCoin:""}),c!==0&&await b(ae,{"player2.resources.cash":te(6)})),E.countArtefacts(N.value),ge.value===""&&Pe.value===""&&me.value===""&&E.upgradeTurnAndMove(N.value===P.value.user.uid?`${W.value.user.uid}`:`${P.value.user.uid}`),Y.value=!1},$s=async p=>{Y.value=!0,oe.value=!1;let c=0;switch(p){case"point4n6cash":c+=6;break;case"cash6n4special":c+=6;break}N.value===P.value.user.uid?(await b(ae,{"gameBoard.coins":fe(p),"player1.resources.coins":Le(p),pickCoinOfThree:""}),c!==0&&await b(ae,{"player1.resources.cash":te(6)})):(await b(ae,{"gameBoard.coins":fe(p),"player2.resources.coins":Le(p),pickCoinOfThree:""}),c!==0&&await b(ae,{"player2.resources.cash":te(6)})),E.countArtefacts(N.value),ge.value===""&&Pe.value===""&&_e.value===""&&(N.value===P.value.user.uid?P.value.resources.coins.find(A=>A==="repeatWonder")?E.upgradeTurnAndMove(`${P.value.user.uid}`):E.upgradeTurnAndMove(`${W.value.user.uid}`):W.value.resources.coins.find(A=>A==="repeatWonder")?E.upgradeTurnAndMove(`${W.value.user.uid}`):E.upgradeTurnAndMove(`${P.value.user.uid}`)),Y.value=!1},Is=async p=>{Y.value=!0,oe.value=!1,await b(ae,{graveyard:fe(p),pickCardFromGraveyard:""}),de.value=p,await E.setCardTaken(0,p.tier),Y.value=!1},Bs=async(p,c)=>{Y.value=!0,oe.value=!1,c==="brown"?await b(ae,{destroyBrown:""}):await b(ae,{destroyGrey:""}),de.value=p,await E.setCardGraveyard(p.tier),Y.value=!1},Ee=p=>{let c=0;return p.forEach(A=>{if(A===1){const D=P.value.cards.yellow.length,$=W.value.cards.yellow.length;c+=D>$?D:$}if(A===2){const D=P.value.cards.brown.length+P.value.cards.grey.length,$=W.value.cards.brown.length+W.value.cards.grey.length;c+=D>$?D:$}if(A===3){const D=P.value.wonderCards.length,$=W.value.wonderCards.length;c+=D>$?D*2:$*2}if(A===4){const D=P.value.cards.blue.length,$=W.value.cards.blue.length;c+=D>$?D:$}if(A===5){const D=P.value.cards.green.length,$=W.value.cards.green.length;c+=D>$?D:$}if(A===1){const D=Math.floor(P.value.resources.cash/3),$=Math.floor(W.value.resources.cash/3);c+=D>$?D:$}if(A===7){const D=P.value.cards.red.length,$=W.value.cards.red.length;c+=D>$?D:$}}),c},Re=p=>{let c=0;return p.forEach(A=>{A==="point4n6cash"&&(c+=4),A==="point7"&&(c+=7),A==="pointX3"&&(c+=3*p.length)}),c};return(p,c)=>{var D,$;const A=Me("ion-icon");return a(),t("main",null,[n("header",nt,[n("h1",null,f(u.value),1)]),n("section",ut,[e(Y)?(a(),t("div",ct,[H(Fs)])):h("",!0),H(Mr,{isMyTurn:q.value,user:le.value,onCoinSelected:Ps},null,8,["isMyTurn","user"]),H(Dr,{isMyTurn:q.value,onPickCardFromGraveyard:Is},null,8,["isMyTurn"]),H(Rr),H(it,{user:le.value,selectWonderCard:$e.value,isMyTurn:q.value,onDestrooyEnemyCardSelected:Bs},null,8,["user","selectWonderCard","isMyTurn"]),e(Q)==="prepare"?(a(),t("section",dt,[Ze.value?h("",!0):(a(),t("div",vt,[e(T)[0]&&!e(T)[0].taken?(a(),x(ye,{key:0,card:e(T)[0],onClick:c[0]||(c[0]=m=>Ce(e(T)[0].id))},null,8,["card"])):h("",!0),e(T)[1]&&!e(T)[1].taken?(a(),x(ye,{key:1,card:e(T)[1],onClick:c[1]||(c[1]=m=>Ce(e(T)[1].id))},null,8,["card"])):h("",!0),e(T)[2]&&!e(T)[2].taken?(a(),x(ye,{key:2,card:e(T)[2],onClick:c[2]||(c[2]=m=>Ce(e(T)[2].id))},null,8,["card"])):h("",!0),e(T)[3]&&!e(T)[3].taken?(a(),x(ye,{key:3,card:e(T)[3],onClick:c[3]||(c[3]=m=>Ce(e(T)[3].id))},null,8,["card"])):h("",!0)])),Ze.value?(a(),t("div",pt,[e(T)[4]&&!e(T)[4].taken?(a(),x(ye,{key:0,card:e(T)[4],onClick:c[4]||(c[4]=m=>Ce(e(T)[4].id))},null,8,["card"])):h("",!0),e(T)[5]&&!e(T)[5].taken?(a(),x(ye,{key:1,card:e(T)[5],onClick:c[5]||(c[5]=m=>Ce(e(T)[5].id))},null,8,["card"])):h("",!0),e(T)[6]&&!e(T)[6].taken?(a(),x(ye,{key:2,card:e(T)[6],onClick:c[6]||(c[6]=m=>Ce(e(T)[6].id))},null,8,["card"])):h("",!0),e(T)[7]&&!e(T)[7].taken?(a(),x(ye,{key:3,card:e(T)[7],onClick:c[7]||(c[7]=m=>Ce(e(T)[7].id))},null,8,["card"])):h("",!0)])):h("",!0)])):h("",!0),e(Q)==="I"?(a(),t("section",ht,[(a(!0),t(R,null,L(e(ne),(m,re)=>{var j,G;return a(),x(Ke,{key:re,card:m,user:le.value,x:e(fs)[re],y:e(Vs)[re],reversColor:"rgb(145, 19, 19)",cash1P:((j=m.coversBy)==null?void 0:j.length)===0?he(m,`${e(P).user.uid}`):-1,cash2P:((G=m.coversBy)==null?void 0:G.length)===0?he(m,`${e(W).user.uid}`):-1,onClick:g=>He(m)},null,8,["card","user","x","y","reversColor","cash1P","cash2P","onClick"])}),128))])):h("",!0),e(Q)==="II"?(a(),t("section",yt,[(a(!0),t(R,null,L(e(v),(m,re)=>{var j,G;return a(),x(Ke,{key:re,card:m,user:le.value,x:e(Rs)[re],y:e(Es)[re],reversColor:"rgb(58, 59, 160)",cash1P:((j=m.coversBy)==null?void 0:j.length)===0?he(m,`${e(P).user.uid}`):-1,cash2P:((G=m.coversBy)==null?void 0:G.length)===0?he(m,`${e(W).user.uid}`):-1,onClick:g=>He(m)},null,8,["card","user","x","y","reversColor","cash1P","cash2P","onClick"])}),128))])):h("",!0),e(Q)==="III"?(a(),t("section",ft,[(a(!0),t(R,null,L(e(z),(m,re)=>{var j,G;return a(),x(Ke,{key:re,card:m,user:le.value,x:e(Ls)[re],y:e(Ns)[re],reversColor:m.tier==="guild"?"rgb(107, 36, 128)":"rgb(175, 85, 202)",cash1P:((j=m.coversBy)==null?void 0:j.length)===0?he(m,`${e(P).user.uid}`):-1,cash2P:((G=m.coversBy)==null?void 0:G.length)===0?he(m,`${e(W).user.uid}`):-1,onClick:g=>He(m)},null,8,["card","user","x","y","reversColor","cash1P","cash2P","onClick"])}),128))])):h("",!0),e(Q)==="end"?(a(),t("section",wt,[n("p",{style:U(V.value>I.value?"font-weight: bold;":"")},[F(f(`${e(P).user.displayName||e(P).user.email}`),1),V.value>I.value?(a(),x(A,{key:0,class:"animateHand",name:"thumbs-up-sharp"})):h("",!0)],4),n("div",kt,[n("div",Ct,[H(A,{name:"ribbon-sharp"}),F(f(`:${e(P).points}`),1)]),n("div",bt,f(`$:${Math.floor(e(P).resources.cash/3)}`),1),n("div",mt,[_t,F(" "+f(`:${Ee(e(P).cards.purple.map(m=>m.valuePower[0]))}`),1)]),n("div",gt,[Pt,F(" "+f(`:${Re(e(P).resources.coins)}`),1)]),n("div",$t,[H(A,{name:"skull-sharp"}),F(f(`:${e(se).pawn<=-6&&10||e(se).pawn<=-3&&5||e(se).pawn<=-1&&2||0}`),1)]),n("div",It,f(`= ${V.value}`),1)]),n("p",{style:U(I.value>V.value?"font-weight: bold;":"")},[F(f(`${e(W).user.displayName||e(W).user.email}`),1),I.value>V.value?(a(),x(A,{key:0,class:"animateHand",name:"thumbs-up-sharp"})):h("",!0)],4),n("div",Bt,[n("div",Gt,[H(A,{name:"ribbon-sharp"}),F(f(`:${e(W).points}`),1)]),n("div",Tt,f(`$:${Math.floor(e(W).resources.cash/3)}`),1),n("div",Wt,[At,F(" "+f(`:${Ee(e(W).cards.purple.map(m=>m.valuePower[0]))}`),1)]),n("div",Mt,[Ot,F(" "+f(`:${Re(e(W).resources.coins)}`),1)]),n("div",Dt,[H(A,{name:"skull-sharp"}),F(f(`:${e(se).pawn>=6&&10||e(se).pawn>=3&&5||e(se).pawn>=1&&2||0}`),1)]),n("div",St,f(`= ${I.value}`),1)])])):h("",!0),oe.value&&((D=e(de))!=null&&D.id)&&!e(Y)?(a(),t("section",Ft,[n("button",{disabled:Ie.value<0||!q.value||(e(N)===e(P).user.uid?Ie.value>e(P).resources.cash:Ie.value>e(W).resources.cash),class:"customButton",onClick:c[8]||(c[8]=()=>q.value?(e(E).setCardTaken(Ie.value),$e.value=!1,oe.value=!1):null)},f(`${s.value} ${Ie.value>=0?Ie.value:""}`),9,Vt),n("button",{disabled:!(($=e(de))!=null&&$.id),class:"customButton",onClick:c[9]||(c[9]=()=>q.value?(e(E).setCardGraveyard(),$e.value=!1,oe.value=!1):null)},f(l.value),9,Et),n("button",{disabled:!bs.value,class:"customButton",onClick:c[10]||(c[10]=()=>q.value?_s():null)},f(i.value),9,Rt)])):e(ge)!==""?(a(),t("section",Nt,[n("p",Lt,[F(f(C.value+`${e(ge)===e(P).user.uid?e(P).user.displayName||e(P).user.email:e(W).user.displayName||e(W).user.email}`),1),H(A,{class:"animateHand",name:"thumbs-up-sharp"})])])):e(Pe)!==""?(a(),t("section",jt,[n("p",xt,[F(f(J.value+`${e(Pe)===e(P).user.uid?e(P).user.displayName||e(P).user.email:e(W).user.displayName||e(W).user.email}`),1),H(A,{class:"animateHand",name:"thumbs-up-sharp"})])])):q.value&&e(Fe)&&!e(Y)?(a(),t("section",Xt,[n("button",{class:"customButton",onClick:c[11]||(c[11]=async()=>await es(`${e(P).user.uid}`))},f(e(P).user.displayName),1),n("p",null,f(` ${y.value} `),1),n("button",{class:"customButton",onClick:c[12]||(c[12]=async()=>await es(`${e(W).user.uid}`))},f(e(W).user.displayName),1)])):q.value&&e(me)!==""&&!e(Y)?(a(),t("section",Ht,[n("p",null,f(_.value),1)])):q.value&&e(_e)!==""&&!e(Y)?(a(),t("section",zt,[n("p",null,f(O.value),1),(a(),t(R,null,L(3,m=>H(je,{key:e(ce)[m],coin:e(ce)[m],onClick:re=>$s(e(ce)[m])},null,8,["coin","onClick"])),64))])):q.value&&e(Z)!==""&&!e(Y)?(a(),t("section",Kt,[n("p",null,f(w.value),1)])):q.value&&e(Ye)!==""&&!e(Y)?(a(),t("section",Yt,[n("p",null,f(o.value),1)])):q.value&&e(Je)!==""&&!e(Y)?(a(),t("section",Jt,[n("p",null,f(o.value),1)])):q.value&&e(Q)==="prepare"&&!e(Y)?(a(),t("section",Qt,[n("p",null,f(d.value),1)])):(a(),t("section",Ut))])])}}});const al=ke(qt,[["__scopeId","data-v-fe458489"]]);export{al as default};
